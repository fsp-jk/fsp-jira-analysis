repository,pr_number,comment_id,comment_type,comment_author,comment_body,comment_created_at,comment_updated_at,pr_author,pr_title
FSP-V4,7682,2093443779,review,timsquires,"come back to this",2025-05-16T17:33:27Z,2025-05-16T18:40:27Z,joshvahl-fsp,"Payment links"
FSP-V4,7682,2093448607,review,timsquires,"Commented out div, I assume it can be deleted?",2025-05-16T17:37:17Z,2025-05-16T18:40:27Z,joshvahl-fsp,"Payment links"
FSP-V4,7682,2093449664,review,timsquires,"💡 comment seems kind of unnecessary (probably added by AI?) and I wouldn't have even pointed it out if not for the commented out div below",2025-05-16T17:38:05Z,2025-05-16T18:40:27Z,joshvahl-fsp,"Payment links"
FSP-V4,7682,2093530672,review,joshvahl-fsp,"removed",2025-05-16T18:47:34Z,2025-05-16T18:47:34Z,joshvahl-fsp,"Payment links"
FSP-V4,7682,2093530879,review,joshvahl-fsp,"removed",2025-05-16T18:47:44Z,2025-05-16T18:47:44Z,joshvahl-fsp,"Payment links"
FSP-V4,7671,2087141000,review,tylermeininger-fsp,"Isn't the @ sign required for the `else` block there too?",2025-05-13T15:44:11Z,2025-05-13T15:44:11Z,amatasek,"Update verbiage for aviator pro"
FSP-V4,7671,2087237974,review,amatasek,"Yep good catch thanks. ended up pulling it down in vscode and installing the Angular Language Server extension to validate",2025-05-13T16:40:07Z,2025-05-13T16:40:07Z,amatasek,"Update verbiage for aviator pro"
FSP-V4,7671,2837307507,review_summary,tylermeininger-fsp,"Let a comment about conditional in template",2025-05-13T15:46:09Z,2025-05-13T15:46:09Z,amatasek,"Update verbiage for aviator pro"
FSP-V4,7669,2101057139,review,timsquires,"is this coming a later PR or can it be removed?",2025-05-21T19:56:03Z,2025-05-21T19:56:04Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101078859,review,timsquires,"can this be removed?",2025-05-21T20:10:46Z,2025-05-21T20:10:47Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101097572,review,timsquires,"feels like this should be a shorter path and/or use an aliased path?",2025-05-21T20:21:46Z,2025-05-21T20:21:46Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101133450,review,timsquires,"I don't think these belong here",2025-05-21T20:44:23Z,2025-05-21T20:44:24Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101135853,review,timsquires,"this file can be deleted since the folder has other files in it, it's only a placeholder file so git will track an empty folder",2025-05-21T20:46:18Z,2025-05-21T20:46:18Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101138996,review,timsquires,"since we're referencing an enum from a different lib I think we'll want to use something like `@fsp-lib/shared/enums` here instead",2025-05-21T20:48:26Z,2025-05-21T20:48:26Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101150176,review,timsquires,"I'm curious about these and the other tsconfig I commented on, these don't seem necessary, wondering if AI added them?",2025-05-21T20:56:09Z,2025-05-21T20:56:09Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101153638,review,timsquires,"probably something like `@fsp-lib/accounting-sync/store`?",2025-05-21T20:58:44Z,2025-05-21T20:58:44Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101168017,review,joshvahl-fsp,"This will be a later PR. The sync stuff for Netsuite is not currently working, but since the netsuite stuff is feature flagged no one will be able to get to this until that flag is turned on.",2025-05-21T21:06:21Z,2025-05-21T21:06:21Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101174187,review,joshvahl-fsp,"removed",2025-05-21T21:09:59Z,2025-05-21T21:10:00Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101174933,review,joshvahl-fsp,"removed",2025-05-21T21:10:18Z,2025-05-21T21:10:19Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101175179,review,joshvahl-fsp,"removed",2025-05-21T21:10:27Z,2025-05-21T21:10:27Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101179598,review,joshvahl-fsp,"yeah, they were added by AI. Kind of annoyed that I missed so many of them when committing the changes.",2025-05-21T21:13:10Z,2025-05-21T21:13:10Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101180025,review,joshvahl-fsp,"removed",2025-05-21T21:13:23Z,2025-05-21T21:13:23Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2101180472,review,joshvahl-fsp,"deleted",2025-05-21T21:13:33Z,2025-05-21T21:13:33Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7669,2859098998,review_summary,timsquires,"Just a few minor comments, major stuff all looked good!",2025-05-21T20:58:12Z,2025-05-21T20:58:12Z,joshvahl-fsp,"FSP-10646 updates all applicable quickbooks references"
FSP-V4,7661,2082429292,review,tylermeininger-fsp,"This is effectively what used to be in the parent modal, which now only contains a form for exam selection and the attachments section",2025-05-09T20:08:03Z,2025-05-09T20:44:47Z,tylermeininger-fsp,"FSP-10890 View exam modal"
FSP-V4,7661,2082432503,review,tylermeininger-fsp,"Permissions that used to apply to edit button now conditionally set the available edit/delete actions in the component's init",2025-05-09T20:11:17Z,2025-05-09T20:11:17Z,tylermeininger-fsp,"FSP-10890 View exam modal"
FSP-V4,7661,2082436269,review,tylermeininger-fsp,"This is coming in a future BE change and will be used for checkrides",2025-05-09T20:15:00Z,2025-05-09T20:15:01Z,tylermeininger-fsp,"FSP-10890 View exam modal"
FSP-V4,7661,2082438844,review,tylermeininger-fsp,"Added the ability for the split button to be used as a regular button if there aren't any actions ",2025-05-09T20:17:45Z,2025-05-09T20:17:46Z,tylermeininger-fsp,"FSP-10890 View exam modal"
FSP-V4,7631,2076358983,review,tylermeininger-fsp,"Assume this is accounted for in a future change?",2025-05-06T21:43:47Z,2025-05-06T21:43:47Z,timsquires,"FSP-11402 link discovery flight"
FSP-V4,7631,2077682559,review,timsquires,"Yes, will be implemented in a following ticket, I started this before hitting some speed bumps but wanted to leave it for future me",2025-05-07T13:48:45Z,2025-05-07T13:48:45Z,timsquires,"FSP-11402 link discovery flight"
FSP-V4,7561,2839855735,issue,timsquires,"@joshvahl-fsp we should fix the unit test failure as well",2025-04-29T18:32:23Z,2025-04-29T18:32:23Z,joshvahl-fsp,"Self service payment links"
FSP-V4,7561,2066958651,review,tylermeininger-fsp,"Probably worth introducing control flow here instead of these ngIfs",2025-04-29T16:46:17Z,2025-04-29T16:46:17Z,joshvahl-fsp,"Self service payment links"
FSP-V4,7561,2067184468,review,joshvahl-fsp,"fixed",2025-04-29T19:18:25Z,2025-04-29T19:18:25Z,joshvahl-fsp,"Self service payment links"
FSP-V4,7561,2804515795,review_summary,tylermeininger-fsp,"Didn't see any red flags in the translation of billing logic into shared util files. Added a comment on one template where we can use control flow.",2025-04-29T17:55:03Z,2025-04-29T17:55:03Z,joshvahl-fsp,"Self service payment links"
FSP-V4,7553,2060766050,review,timsquires,"can just use a class of `m-0` instead",2025-04-25T19:14:52Z,2025-04-25T19:14:53Z,amatasek,"FSP-11356 Discovery Flight List"
FSP-V4,7553,2060766953,review,timsquires,"actually it appears there aren't any p tags inside of the elements with this class so this might be unused?",2025-04-25T19:15:36Z,2025-04-25T19:15:36Z,amatasek,"FSP-11356 Discovery Flight List"
FSP-V4,7553,2060777600,review,timsquires,"I think the new catchErrors on these should be using the snackbar, like the others in this file  ```             this.snackbarService.openSnackBar({               message: fspGetErrorMessage(error, 'Insert error message here'),               type: 'error',             }); ```",2025-04-25T19:25:27Z,2025-04-25T19:25:49Z,amatasek,"FSP-11356 Discovery Flight List"
FSP-V4,7553,2060819980,review,amatasek,"Updated",2025-04-25T20:04:48Z,2025-04-25T20:04:49Z,amatasek,"FSP-11356 Discovery Flight List"
FSP-V4,7547,2060478433,review,timsquires,"subscription that should be unsubscribed when the component is destroyed",2025-04-25T15:40:42Z,2025-04-25T15:47:59Z,NickHotalling-FSP,"FSP-11355 Discovery flight Payrix form revisions"
FSP-V4,7547,2060478715,review,timsquires,"subscription that should be unsubscribed when the component is destroyed",2025-04-25T15:40:52Z,2025-04-25T15:47:59Z,NickHotalling-FSP,"FSP-11355 Discovery flight Payrix form revisions"
FSP-V4,7547,2060479015,review,timsquires,"subscription that should be unsubscribed when the component is destroyed",2025-04-25T15:41:03Z,2025-04-25T15:47:59Z,NickHotalling-FSP,"FSP-11355 Discovery flight Payrix form revisions"
FSP-V4,7546,2060220739,review,timsquires,"Note, hiding whitespace makes this much easier to see what changed here",2025-04-25T13:13:38Z,2025-04-25T13:13:38Z,timsquires,"FSP-11377 only show customization row for aviator pro"
FSP-V4,7527,2056838907,review,amatasek,"Product chose to put this screen inside billing-hub settings because although its not a billing-hub feature, its coupled with billing hub and cannot be used without it",2025-04-23T20:37:04Z,2025-04-23T20:37:15Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058478933,review,timsquires,"Replace with `@if` control flow syntax",2025-04-24T13:40:06Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058493873,review,timsquires,"💡 change this to `[fullWidth]=""true""` since without the square brackets here this will be passed as a string of `'true'` to the component (which may technically still work)",2025-04-24T13:47:20Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058496426,review,timsquires,"I think this is unnecessary, should work fine without it",2025-04-24T13:48:34Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058508079,review,timsquires,"These don't need defined in the component, we generate all classes for all of these in the `_utilities.scss` file, the class names are exactly the same as defined here so these should be able to just be removed. ",2025-04-24T13:53:45Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058510361,review,timsquires,"Should be able to replace this in the template with a class of `p-20` to accomplish the same thing rather than define a duplicate style here.",2025-04-24T13:54:41Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058512545,review,timsquires,"class name doesn't match what it's actually defining",2025-04-24T13:55:42Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058514504,review,timsquires,"class name doesn't match what it's actually defining",2025-04-24T13:56:31Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058518614,review,timsquires,"Replace usage in the template with a class of `full-width` (defined in `_utilities.scss`)",2025-04-24T13:58:07Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058532063,review,timsquires,"I don't think we want to initialize this to 2, it should probably be null? The comment does not appear to be accurate, it does not appear to be hardcoded to 2 (I assume it probably was at some point?)",2025-04-24T14:03:54Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058533995,review,timsquires,"Is this something we should be selecting from the store instead?",2025-04-24T14:04:52Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058534772,review,timsquires,"Also seems like things we should be selecting from the store ",2025-04-24T14:05:16Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058536546,review,timsquires,"💡 comment is unnecessary",2025-04-24T14:06:11Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058538724,review,timsquires,"this observable is in the vm, which is subscribed to in the component so I don't think we should need to specify this here",2025-04-24T14:07:09Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058542217,review,timsquires,"💡 comment is unnecessary",2025-04-24T14:08:58Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058544280,review,timsquires,"Seems like something we should be dispatching an action for, with the code in the pipe moved to a tap on the related selector  note that it appears we already have actions/effects/selectors for this",2025-04-24T14:09:57Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058547294,review,timsquires,"Same as above, seems like something we should be dispatching an action for  note that it appears we already have actions/effects/selectors for this",2025-04-24T14:11:27Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058549685,review,timsquires,"Same as above, seems like something we should be dispatching an action for, with the code in the pipe moved to a tap on the related selector, especially since we're doing this multiple times in the component  note that it appears we already have actions/effects/selectors for this",2025-04-24T14:12:44Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058573172,review,timsquires,"Another item we should be selecting from the store",2025-04-24T14:21:43Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058574720,review,timsquires,"I'm curious if we actually need this or if this is something the AI is preferring to use?",2025-04-24T14:22:28Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058626358,review,timsquires,"since this is a different url we'll want these in a different service, we tend to group these services by url",2025-04-24T14:46:49Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058630268,review,timsquires,"note that we've been less consistent on effects/actions/selectors, since those are only used in billing settings at the moment I think those are fine where they are",2025-04-24T14:48:37Z,2025-04-24T14:50:24Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058785296,review,amatasek,"Correct, this is a leftover from development when they were all hardcoded. Good catch",2025-04-24T16:01:03Z,2025-04-24T16:01:03Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058794920,review,amatasek,"It added this when I was having issues with the product list reflecting newly added products. It was from before i switched to our shared UI component. I will test without it",2025-04-24T16:06:55Z,2025-04-24T16:06:55Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058801826,review,amatasek,"Works without it!",2025-04-24T16:10:10Z,2025-04-24T16:10:11Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058872769,review,amatasek,"Converted",2025-04-24T16:56:49Z,2025-04-24T16:56:49Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058872982,review,amatasek,"Converted",2025-04-24T16:56:58Z,2025-04-24T16:56:58Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058896964,review,amatasek,"Done",2025-04-24T17:13:03Z,2025-04-24T17:13:03Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058954778,review,timsquires,"💡 this could be `} @else {` instead of a separate if",2025-04-24T17:50:52Z,2025-04-24T18:41:58Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7527,2058972396,review,timsquires,"kind of curious to hear more about this change if you know more about why it was made.   I think it's probably fine as there more than likely would only be one of these modals open at a time but if there was more than one open we would now be closing all of them instead of just the top most one. It does look like this function is used by multiple effects so would at least be worth calling out in regards to QA.",2025-04-24T17:59:45Z,2025-04-24T18:41:58Z,amatasek,"[FSP-11280] Discovery Flight Preferences"
FSP-V4,7520,2056341492,review,tylermeininger-fsp,"Looks like these could be set in the appContext$ observable to clean things up?",2025-04-23T15:39:47Z,2025-04-23T15:39:47Z,timsquires,"FSP-11275 AP company customization link"
FSP-V4,7520,2056436378,review,timsquires,"Maybe not exactly what you were thinking but cleaned up the setupContextItems function and just called it from the observable so it could also be called on init even though this will result in it being called _at least_ twice I think it's ok since it's just setting some component properties, what do you think?",2025-04-23T16:26:53Z,2025-04-23T16:26:53Z,timsquires,"FSP-11275 AP company customization link"
FSP-V4,7520,2787800499,review_summary,tylermeininger-fsp,"Let a comment for a potential change, looks good otherwise",2025-04-23T15:40:26Z,2025-04-23T15:40:26Z,timsquires,"FSP-11275 AP company customization link"
FSP-V4,7507,2060537895,review,timsquires,"💡 I know this isn't necessarily due to your changes but it looks like we don't actually use the vm.combinedData property in the template so it could be removed from the vm map output.  I only noticed this because I was confused why there wasn't a matching template change with the change of this property.",2025-04-25T16:20:24Z,2025-04-25T16:22:05Z,tylermeininger-fsp,"FSP-11353 Map date from UTC to company time zone"
FSP-V4,7490,2813738819,issue,amatasek,"Please review the shared file closely (everything not in apps/discovery-flgihts)",2025-04-17T18:32:00Z,2025-04-17T18:32:00Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050733628,review,timsquires,"How does this work with loading the environment/context from the server?",2025-04-18T14:50:06Z,2025-04-18T15:57:05Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050735396,review,timsquires,"this seems like something that should be in the styles somewhere, I'm ok with leaving it for now but I'd think we want to refactor this at some point to sass/css",2025-04-18T14:52:07Z,2025-04-18T15:57:05Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050736956,review,timsquires,"actually, after looking around it doesn't appear to be used, can we just delete this?",2025-04-18T14:53:49Z,2025-04-18T15:57:06Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050762402,review,timsquires,"There are quite a few components with inline templates and styles, do you think we could easily get it to move those to separate files?",2025-04-18T15:17:33Z,2025-04-18T15:57:05Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050764361,review,timsquires,"💡  I'm sure there are others that I've missed above but I think we'd prefer these to use the new control flow syntax `@if` instead of inline `*ngIf`",2025-04-18T15:19:46Z,2025-04-18T16:01:39Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050769443,review,timsquires,"This seems like it could be problematic if it could potentially run the constructor before the operator context is in place since it is a one time synchronous operation",2025-04-18T15:25:00Z,2025-04-18T15:57:05Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050771011,review,timsquires,"We have empty angular lifecycle functions set as linter errors, so this errors in the editor...",2025-04-18T15:26:32Z,2025-04-18T15:57:05Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050773964,review,timsquires,"💡  we prefer to reference things by the nx project name to avoid needing to care about the relative distance, this would need added to the `tsconfig.base.json`  ",2025-04-18T15:29:20Z,2025-04-18T15:57:05Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050781447,review,timsquires,"maybe permanently? 😆 ",2025-04-18T15:36:02Z,2025-04-18T15:57:05Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050785094,review,timsquires,"we usually prefer not to use the browser alert and use our own modal instead",2025-04-18T15:37:38Z,2025-04-18T15:57:05Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050790884,review,timsquires,"not unsubscribing here will lead to memory leaks",2025-04-18T15:43:17Z,2025-04-18T15:57:05Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050797957,review,timsquires,"I imagine we'll also need an interceptor to add the subscription key header (at least we do for all the other APIs that go through APIM)",2025-04-18T15:50:17Z,2025-04-18T15:57:05Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050798366,review,timsquires,"💡  models should be in separate files",2025-04-18T15:50:45Z,2025-04-18T16:00:40Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050803962,review,timsquires,"subscription that is not unsubscribed",2025-04-18T15:56:16Z,2025-04-18T15:57:06Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2050810101,review,timsquires,"forgot to remove this one, I found it and kind of like it the way it is here 👍 ",2025-04-18T16:01:15Z,2025-04-18T16:01:15Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2052378324,review,amatasek,"Removed",2025-04-21T13:20:20Z,2025-04-21T13:20:20Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2052385276,review,amatasek,"That was fairly successfully. With one prompt it found 9 instances of the issue, and then it took 3 more to fix them all.",2025-04-21T13:27:38Z,2025-04-21T13:27:38Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2052395862,review,amatasek,"""I'm familiar with the modern Angular control flow syntax that uses @if instead of the *ngIf structural directive. Let's find all instances of structural directives in the template files we created and update them to use the new syntax.""  Nailed this one",2025-04-21T13:38:57Z,2025-04-21T13:38:57Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2052400644,review,amatasek,"This whole file was unused. Deleted.",2025-04-21T13:43:47Z,2025-04-21T13:43:47Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2052436718,review,amatasek,"Fixed",2025-04-21T14:11:32Z,2025-04-21T14:11:32Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2052440745,review,amatasek,"This code is removed now",2025-04-21T14:13:10Z,2025-04-21T14:13:10Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2052447650,review,amatasek,"Moved",2025-04-21T14:14:57Z,2025-04-21T14:14:58Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2052466908,review,amatasek,"Done",2025-04-21T14:25:30Z,2025-04-21T14:25:31Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2052812007,review,timsquires,"some console logs in here we'd want to remove but guessing they might be needed for now?",2025-04-21T18:13:50Z,2025-04-21T18:32:56Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2052816964,review,timsquires,"more console logs",2025-04-21T18:18:15Z,2025-04-21T18:32:56Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2052821559,review,timsquires,"more console logs",2025-04-21T18:22:40Z,2025-04-21T18:32:56Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2778755929,review_summary,timsquires,"I have some concerns about the amount of tech debt we'll be creating by merging this as is, in addition to the review comments there are quite a few shared/library components we could be using that we'd want to switch to in the future (buttons, inputs, snackbar, etc.).",2025-04-18T15:57:05Z,2025-04-18T15:57:05Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7490,2781936891,review_summary,timsquires,"Looks much better! just a few console logs that I noticed (which may still be needed?)",2025-04-21T18:32:56Z,2025-04-21T18:32:56Z,amatasek,"FSP-11296 - Discovery flights UI Migration"
FSP-V4,7489,2049315492,review,tylermeininger-fsp,"This was just fixing a linter error",2025-04-17T16:40:45Z,2025-04-17T16:40:45Z,tylermeininger-fsp,"FSP-11250 Smart scheduling group updates"
FSP-V4,7470,2033983267,review,timsquires,"I think `this` would refer to the same thing as `$scope` in this instance but changing it to be sure...",2025-04-08T20:37:24Z,2025-04-08T20:37:24Z,timsquires,"FSP-11093 Fix multi student training not loading courses for student 2"
FSP-V4,7470,2033984727,review,timsquires,"I believe this was the actual source of the issues, if there was only a single course we were always setting the course on the first session.",2025-04-08T20:38:29Z,2025-04-08T20:38:29Z,timsquires,"FSP-11093 Fix multi student training not loading courses for student 2"
FSP-V4,7470,2040277497,review,timsquires,"This fixes the issue of auto selecting the course if the student's courses were already loaded and cached in memory client side",2025-04-11T20:46:05Z,2025-04-11T20:46:06Z,timsquires,"FSP-11093 Fix multi student training not loading courses for student 2"
FSP-V4,7413,2016758577,review,timsquires,"@tylermeininger-fsp any idea when this was last changed? since this is in the shell controller I'm wondering if this might break something else, maybe non-recurring reservations?",2025-03-27T14:08:43Z,2025-03-27T14:13:04Z,tylermeininger-fsp,"FSP-8849 Scheduling slot availability bugfix"
FSP-V4,7413,2016759760,review,timsquires,"in which case we probably just need _another_ conditional here? 😬 ",2025-03-27T14:09:13Z,2025-03-27T14:13:04Z,tylermeininger-fsp,"FSP-8849 Scheduling slot availability bugfix"
FSP-V4,7413,2016763443,review,timsquires,"I verified there are no `resourceType == 11` in the dev or prod database so this was just always a bug...",2025-03-27T14:10:54Z,2025-03-27T14:13:04Z,tylermeininger-fsp,"FSP-8849 Scheduling slot availability bugfix"
FSP-V4,7413,2016775061,review,timsquires,"not sure why I didn't just look it up myself first, but here's the commit: https://github.com/Flight-Schedule-Pro/FSP-V4/commit/8177e0637d6bdffaefff45fd1c10cfec6dd252bc",2025-03-27T14:16:07Z,2025-03-27T14:16:07Z,tylermeininger-fsp,"FSP-8849 Scheduling slot availability bugfix"
FSP-V4,7413,2016856612,review,tylermeininger-fsp,"@timsquires Did some more testing - that previous change never did accommodate changing the scheduling group (recurring or non). We need to rely on the scheduling group prop from the data property since that gives us the correct scheduling group when dropped onto one.",2025-03-27T14:49:55Z,2025-03-27T14:49:55Z,tylermeininger-fsp,"FSP-8849 Scheduling slot availability bugfix"
FSP-V4,7380,2691320092,review_summary,amatasek,"That was a long one, but it looks really good in my opinion. Clean and easy to follow as an outside reader",2025-03-17T16:43:25Z,2025-03-17T16:43:25Z,tylermeininger-fsp,"Add attachments to reminders and squawks"
FSP-V4,7374,2679412234,review_summary,adam-blumberg,"thanks!",2025-03-12T17:59:58Z,2025-03-12T17:59:58Z,amatasek,"Add xml report to cypress runner"
FSP-V4,7362,1988001221,review,timsquires,"are these still needed? it looks like we are only installing cypress below",2025-03-10T20:47:58Z,2025-03-10T20:47:58Z,amatasek,"Created Cypress github action runner"
FSP-V4,7342,1980313541,review,timsquires,"`aviatorProBaseUrl` already includes `https://`",2025-03-04T22:10:08Z,2025-03-04T22:10:08Z,timsquires,"FSP-10962 Fixes issues found on FE-632"
FSP-V4,7342,1980314528,review,timsquires,"moved down to where we're setting other items from the context service",2025-03-04T22:11:08Z,2025-03-04T22:11:08Z,timsquires,"FSP-10962 Fixes issues found on FE-632"
FSP-V4,7342,1980315666,review,timsquires,"we only want to pop open this modal if we received the querystring param that indicates we're returning from oath with Aviator Pro",2025-03-04T22:11:43Z,2025-03-04T22:11:43Z,timsquires,"FSP-10962 Fixes issues found on FE-632"
FSP-V4,7342,1980316714,review,timsquires,"found instances of other links we were not using `https` for",2025-03-04T22:12:16Z,2025-03-04T22:12:16Z,timsquires,"FSP-10962 Fixes issues found on FE-632"
FSP-V4,7342,1980317059,review,timsquires,"found instances of other links we were not using `https` for",2025-03-04T22:12:32Z,2025-03-04T22:12:32Z,timsquires,"FSP-10962 Fixes issues found on FE-632"
FSP-V4,7316,1979772210,review,joshvahl-fsp,"Just curious why you used this method of clicking on a link that is hidden on the page rather than just route to the url here?",2025-03-04T16:11:28Z,2025-03-04T16:13:01Z,bartgriffith,"FSP-8822: LogTen syncing from users reservation list"
FSP-V4,7316,1979784165,review,bartgriffith,"So.. I don't think it works unless it is a ""clicked"" link.  (I had an issue with this a couple years back with the initial LogTen integration) I'm guessing if you click a link that has a different scheme ""logten://"" that the device looks for an application to handle it, but if you tell it to open the link a new window, it doesn't look for an app to handle it, it just tries to use the browser.",2025-03-04T16:17:46Z,2025-03-04T16:17:46Z,bartgriffith,"FSP-8822: LogTen syncing from users reservation list"
FSP-V4,7316,1979788893,review,joshvahl-fsp,"Should this be addressed elsewhere where we have a logten deeplink?",2025-03-04T16:20:21Z,2025-03-04T16:20:21Z,bartgriffith,"FSP-8822: LogTen syncing from users reservation list"
FSP-V4,7316,1979796706,review,bartgriffith,"I'll double check but I'm pretty sure I fixed it everywhere else on a previous PR.  👀 ",2025-03-04T16:24:40Z,2025-03-04T16:24:40Z,bartgriffith,"FSP-8822: LogTen syncing from users reservation list"
FSP-V4,7316,1979800171,review,bartgriffith,"Looks good. All usages of the deep link are associated with anchor tags.",2025-03-04T16:26:27Z,2025-03-04T16:26:28Z,bartgriffith,"FSP-8822: LogTen syncing from users reservation list"
FSP-V4,7314,1973940240,review,amatasek,"Do you think accessing the settings list by index leaves us open to the risk of an item being added higher in the list, and breaking this code? ",2025-02-27T16:26:42Z,2025-02-27T16:26:42Z,timsquires,"FSP-10765 Add maintenance meter multiplier modal"
FSP-V4,7314,1973947975,review,timsquires,"yeah, I just copied the pattern from the line above this, which would also break if something were added before it... which is probably poor reasoning, but fixing it will require a little refactoring to deal with. Do we want to do that now?",2025-02-27T16:31:25Z,2025-02-27T16:31:26Z,timsquires,"FSP-10765 Add maintenance meter multiplier modal"
FSP-V4,7314,1973971621,review,timsquires,"I moved the setup of that array to inside of the `appContext$` observable to avoid needing to access any of the items, this way they just get set up correctly the first time",2025-02-27T16:44:58Z,2025-02-27T16:44:58Z,timsquires,"FSP-10765 Add maintenance meter multiplier modal"
FSP-V4,7230,1962325789,review,tylermeininger-fsp,"Safe to assume this implementation is coming soon?",2025-02-19T20:24:32Z,2025-02-19T20:24:32Z,bartgriffith,"FSP-10436: Add support for FSP embedded logbook"
FSP-V4,7230,1962331573,review,bartgriffith,"Yup. And it will be feature flagged until that time.",2025-02-19T20:29:44Z,2025-02-19T20:29:44Z,bartgriffith,"FSP-10436: Add support for FSP embedded logbook"
FSP-V4,7230,2627903746,review_summary,tylermeininger-fsp,"Approved with one comment re: ""not yet implemented"" ",2025-02-19T20:25:36Z,2025-02-19T20:25:36Z,bartgriffith,"FSP-10436: Add support for FSP embedded logbook"
FSP-V4,7209,1932961561,review,adam-blumberg,"Why are we changing these function names?",2025-01-28T22:42:02Z,2025-01-28T22:52:26Z,lucas-matheus-fsp,"Adding comments, improving the command to delete completed maintenance reservation"
FSP-V4,7164,2551213769,review_summary,adam-blumberg,"Looks good on my end",2025-01-14T23:11:46Z,2025-01-14T23:11:46Z,lucas-matheus-fsp,"Setting a timeout to search a user"
FSP-V4,7162,1929305606,review,timsquires,"Replace `*ng` usages with control flow",2025-01-24T22:20:18Z,2025-01-24T22:30:37Z,bartgriffith,"FSP-10289: Price change alerts"
FSP-V4,7162,1929306067,review,timsquires,"if we don't have more changes coming to this file I'd say we delete it ",2025-01-24T22:21:01Z,2025-01-24T22:30:37Z,bartgriffith,"FSP-10289: Price change alerts"
FSP-V4,7162,1929307167,review,timsquires,"💡 could this all be mapped on the alerts on the vm instead of having a multi property check in the template? based on the names it seems like these checks should be mapped to that `isDismissible` property",2025-01-24T22:22:42Z,2025-01-24T22:30:37Z,bartgriffith,"FSP-10289: Price change alerts"
FSP-V4,7162,1929308030,review,timsquires,"💡 another candidate for mapping in the component and then just using something like `alert.actionLabel` property or something",2025-01-24T22:24:05Z,2025-01-24T22:30:37Z,bartgriffith,"FSP-10289: Price change alerts"
FSP-V4,7162,1929311071,review,timsquires,"Replace with `@for` control flow here",2025-01-24T22:25:41Z,2025-01-24T22:30:37Z,bartgriffith,"FSP-10289: Price change alerts"
FSP-V4,7162,1929311666,review,timsquires,"💡  Replace `*ng` usages with control flow, unless that creates some kind of Frankenstein hybrid usages in this template",2025-01-24T22:26:32Z,2025-01-24T22:30:37Z,bartgriffith,"FSP-10289: Price change alerts"
FSP-V4,7162,1936140075,review,joshvahl-fsp,"changed to use control flow",2025-01-30T19:02:00Z,2025-01-30T19:02:00Z,bartgriffith,"FSP-10289: Price change alerts"
FSP-V4,7162,1936140448,review,joshvahl-fsp,"updated and simplified",2025-01-30T19:02:18Z,2025-01-30T19:02:19Z,bartgriffith,"FSP-10289: Price change alerts"
FSP-V4,7162,1936140605,review,joshvahl-fsp,"updated",2025-01-30T19:02:27Z,2025-01-30T19:02:27Z,bartgriffith,"FSP-10289: Price change alerts"
FSP-V4,7162,1936140768,review,joshvahl-fsp,"changed to use control flow",2025-01-30T19:02:37Z,2025-01-30T19:02:37Z,bartgriffith,"FSP-10289: Price change alerts"
FSP-V4,7162,1936140894,review,joshvahl-fsp,"changed to use control flow",2025-01-30T19:02:44Z,2025-01-30T19:02:44Z,bartgriffith,"FSP-10289: Price change alerts"
FSP-V4,7162,1936141029,review,joshvahl-fsp,"removed",2025-01-30T19:02:51Z,2025-01-30T19:02:52Z,bartgriffith,"FSP-10289: Price change alerts"
FSP-V4,7162,2573695723,review_summary,timsquires,"Handful of places I think we'd rather use control flow instead of the structural directives but I can be convinced if we'd rather leave it as is for now.",2025-01-24T22:30:37Z,2025-01-24T22:30:37Z,bartgriffith,"FSP-10289: Price change alerts"
FSP-IOS-SUI,114,2067664607,review,gyratorycircus,"It looks like everything about `flightRecordId` was removed except the persistent attribute -- is that intended? Can this be cleaned up?",2025-04-30T00:25:41Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2067678829,review,gyratorycircus,"Let's break this body down into smaller components, 200+ lines is far too much. Things like: ``` func descriptionView() -> some View { ... } func attachmentsList() -> some View { ... } func addAttachmentsSheet() -> some View { ... } ```  One good indicator is that if there is a comment describing what section of the UI it is (i.e. `// Ground Aircraft Toggle`) then it should probably be a separate function. ",2025-04-30T00:41:12Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2067685257,review,gyratorycircus,"I like to follow Apple's `systemImageName` naming whenever we're working with these to make it obvious what they're referring to, i.e. `getSystemImageNameForAttachment`.   It would also be nice to moved these kind of utility functions outside of the view, and the UTTypes mentioned above could also be used here, maybe adding an extension like: ``` extension UTType {     var systemImageName: String { ... }      static func systemImageName(_ extension: String) -> String { ... } } ```",2025-04-30T00:50:55Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2067687068,review,gyratorycircus,"Apple UniformTypeIdentifiers provides some utilities to more comprehensively handle file types like these. ``` guard let utType = UTType(filenameExtension: extension) else {             return false         } return utType.conforms(to: .image) ```",2025-04-30T00:52:45Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2068995598,review,gyratorycircus,"UTType also has a preferredMimeType that can remove this manual effort",2025-04-30T16:04:31Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2069001040,review,gyratorycircus,"nit (if that): ""allowsDelete"" would be more Apple-y/Swift-y",2025-04-30T16:08:00Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2069001772,review,gyratorycircus,"De-duplicate this",2025-04-30T16:08:34Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2069048483,review,gyratorycircus,"So ideally, these kind of UTTypes not available as static properties are added to the Info.plist under the ""Imported Type Identifiers"" section (since they are existing third-party identifiers.   Once they're there, you can add static properties for them for easy consumption like the built-in ones: ``` extension UTType { 	static let customType = UTType(importedAs: ""com.thirdparty.custom-uti"") } ``` ",2025-04-30T16:24:54Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2069049256,review,gyratorycircus,"🎉 ",2025-04-30T16:25:06Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2069052793,review,gyratorycircus,"It's nice practice to move this to a `defer` immediately after the `startAccessing...`",2025-04-30T16:26:24Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2069061922,review,gyratorycircus,"Temporary file should probably use `FileManager.default.temporaryDirectory`",2025-04-30T16:31:54Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2069062939,review,gyratorycircus,"Also `FileManager.default.temporaryDirectory`",2025-04-30T16:32:23Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2069065414,review,gyratorycircus,"Does this do anything that the native [quickLookPreview](https://developer.apple.com/documentation/swiftui/view/quicklookpreview(_:in:)) doesn't?",2025-04-30T16:34:02Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2069067836,review,gyratorycircus,"Does this do anything the native [PhotosPicker](https://developer.apple.com/documentation/photokit/bringing-photos-picker-to-your-swiftui-app) doesn't?",2025-04-30T16:35:34Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2069069111,review,gyratorycircus,"Does this do anything the native [.fileImporter](https://developer.apple.com/documentation/swiftui/view/fileimporter(ispresented:allowedcontenttypes:oncompletion:)) doesn't?",2025-04-30T16:36:35Z,2025-04-30T16:37:19Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2071791758,review,ThiagoSantiago-FSP,"Hey, thanks for the tip, I didn't know about UniformTypeIdentifiers.",2025-05-02T15:33:34Z,2025-05-02T15:33:34Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2071831342,review,ThiagoSantiago-FSP,"Not really, I'll remove it to use the native one.",2025-05-02T16:03:25Z,2025-05-02T16:03:26Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2071948953,review,ThiagoSantiago-FSP,"Not really, I'll remove it to use the fileImporter.",2025-05-02T17:44:02Z,2025-05-02T17:44:02Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2073430748,review,ThiagoSantiago-FSP,"I believe that in this case we need it, as there are some specific configurations and result treatments, for example differentiating image and video.",2025-05-05T13:16:22Z,2025-05-05T13:16:22Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2073694161,review,ThiagoSantiago-FSP,"Oh yeah, I just forgot to remove this one",2025-05-05T15:43:51Z,2025-05-05T15:43:51Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2073917818,review,ivoDutraFlight,"Sug: I feel reads better without the return, as it was before.",2025-05-05T17:58:26Z,2025-05-05T20:52:48Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2073983168,review,gyratorycircus,"Well, now I want to check that by removing this we're not actually causing any Realm schema issues -- @ivoDutraFlight any insight here? Maybe we'd be better off marking it as deprecated",2025-05-05T18:44:43Z,2025-05-05T18:44:43Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2074116010,review,ivoDutraFlight,"Sug: I don't see much value on this function, I think we we move the switch self inside the computed header property.",2025-05-05T20:07:45Z,2025-05-05T20:52:48Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2074161834,review,ivoDutraFlight,"I think the `import UIKit` can be removed in this file",2025-05-05T20:44:54Z,2025-05-05T20:52:48Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2074194077,review,ivoDutraFlight,"Sorry what is being removed? the private(set) there was removed so that a Squawk can be created at SquawkAuthorSheetViewModel. This isolated change (i think) will not need to change the schema, as it changed only the accessor.   Best way to test it out is: run your branch on the sim, go back to develop, run develop on the sim, see if it breaks hahaha",2025-05-05T20:58:44Z,2025-05-05T20:58:44Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2074252104,review,gyratorycircus,"The implicit return in a switch is an all-or-nothing behavior, so it's not allowed with the addition of the `.uploadAttachment` case... but it could be worth abstracting that part into a small `private func createUploadAttachmentPath(...)` which might improve readability and re-enable the implicit return.",2025-05-05T21:52:31Z,2025-05-05T21:52:31Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2074253586,review,gyratorycircus,"Oh sorry, this comment is attached to the original changes; the `flightRecordId` has been removed in the current Squawk object since it appears to no longer be used. ",2025-05-05T21:54:18Z,2025-05-05T21:54:18Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2074260940,review,gyratorycircus,"This concerns me, because if it gets here (which I don't think it's intended to), it creates a new uuid every time on every call. I don't think this `var boundary` actually needs to exist, since the boundary from the `case uploadAttachment(..., let boundary)` can cover each use case.",2025-05-05T22:02:28Z,2025-05-05T22:20:35Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2074266083,review,gyratorycircus,"The Info.plist changes mentioned in [this comment](https://github.com/Flight-Schedule-Pro/FSP-IOS-SUI/pull/114#discussion_r2069048483) are important, otherwise these are just dangling UTType with only file extensions.  Also follow the naming conventions that UTType exports, i.e. `UTType.mp4` rather than `UTType.mp4Type`",2025-05-05T22:08:37Z,2025-05-05T22:20:35Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2074276148,review,gyratorycircus,"I was on the fence about this, but I think it'll be valuable to add a small abstraction for building the multipart form data to improve readability and allow the multipart capabilities to be reused in the future  -- the 9 force unwraps sealed it for me 😄 ",2025-05-05T22:16:11Z,2025-05-05T22:20:35Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,114,2815632264,review_summary,ivoDutraFlight,"There are a few swiftlint warnings, like sort imports, that needs to be addressed. ",2025-05-05T20:52:48Z,2025-05-05T20:52:48Z,ThiagoSantiago-FSP,"[FSP-1105] Adds iOS support for squawk attachments"
FSP-IOS-SUI,113,1985866099,review,gyratorycircus,"Good time for constants 😁 ",2025-03-08T00:14:20Z,2025-03-08T00:31:09Z,ivoDutraFlight,"IOS-215 - Bugfix iPad Reservation overlap"
FSP-IOS-SUI,113,1985885955,review,gyratorycircus,"💡I don't disagree with this strategy, but as a conceptual alternative, `@Environment(\.isPresented)` could be used for the view to determine if it's presented modally and behave appropriately. `shouldDisplayCloseButton` is sort of leaking internal behavior into the public API; could pass an `isModal` arg instead.",2025-03-08T00:30:54Z,2025-03-08T00:31:09Z,ivoDutraFlight,"IOS-215 - Bugfix iPad Reservation overlap"
FSP-IOS-SUI,113,1987883405,review,ivoDutraFlight,"I tested with `isPresented` but it does not differentiate between a modal and a simple push. per the docs, it is used together with ""dismiss"" and similar to onAppear().  changed to isModal though.",2025-03-10T19:17:55Z,2025-03-10T19:17:55Z,ivoDutraFlight,"IOS-215 - Bugfix iPad Reservation overlap"
FSP-IOS-SUI,108,1972620176,review,gyratorycircus,"""signed"" is probably the wrong label here",2025-02-27T00:26:03Z,2025-02-27T00:32:34Z,ivoDutraFlight,"IOS-04 LogTen sync status on Reservation list"
FSP-IOS-SUI,108,1972624737,review,gyratorycircus,"Oof. Hardcoding to a singleton in a protocol doesn't feel great. Any way we can move the `Session.current` access into a different layer? Adding a `var session: Session?` to the protocol and populating in the concrete implementation init would be somewhat better.",2025-02-27T00:32:20Z,2025-02-27T00:32:34Z,ivoDutraFlight,"IOS-04 LogTen sync status on Reservation list"
FSP-IOS-SUI,108,1973996012,review,ivoDutraFlight,"Yeah that one is a deeper thing.  1. I guess that at the time it got created (to facilitate) the majority of this viewmodel methods were declared as protocol extension so that they don't need to declare inside the protocol. The result is that there's no behavior (at all) in the concrete implementation of the `ReservationCellViewModel`. That is a leaky implementation and code is harder to follow.   2. Could think of a better strategy to handle flags. To me bubbling it up one level (as I did with HomeViewComposer in the bugfix/logbook branch) would not solve this here. But I'll try few things now.  3. `hasLogTenAccountConnected` is TBD. I created this DSL precisely to protect this implementation from `logTenToken != nil` because that is going to change. ",2025-02-27T17:00:10Z,2025-02-27T17:00:10Z,ivoDutraFlight,"IOS-04 LogTen sync status on Reservation list"
FSP-IOS-SUI,107,1972626388,review,gyratorycircus,"I wasn't sure what `postFlight` was until I found the actual endpoint here. Consider `syncFlight` instead, since nothing is actually posted from this app.",2025-02-27T00:34:46Z,2025-02-27T01:07:47Z,ivoDutraFlight,"IOS-216 - Re-Add Add to LogTen button, Supporting both deeplink and API methods "
FSP-IOS-SUI,107,1972631104,review,gyratorycircus,"`LogTenResposne` name is not clear that it's specific to the `sendFlightToLogTen `. (Within the LogtenService, it sounds like it might be relevant to the whole service). The other request uses `FetchLogTenDeepLinkResponse` which is more clear. ",2025-02-27T00:41:07Z,2025-02-27T01:07:47Z,ivoDutraFlight,"IOS-216 - Re-Add Add to LogTen button, Supporting both deeplink and API methods "
FSP-IOS-SUI,107,1972633691,review,gyratorycircus,"Something about the `sendFlightToLogTen` name also doesn't feel super accurate to me. Maybe because this app isn't sending anything. ""Sync"" terminology is used in other places around here for this feature. It's almost a `triggerLogTenFlightSync`. Action on that if anything calls to you.",2025-02-27T00:44:56Z,2025-02-27T01:07:47Z,ivoDutraFlight,"IOS-216 - Re-Add Add to LogTen button, Supporting both deeplink and API methods "
FSP-IOS-SUI,107,1972637593,review,gyratorycircus,"This needs a `.` at the end of the sentence.  The error message also isn't helpful. The root issue doesn't really have anything to do with LogTen, it's that it isn't linked in FSP. Maybe just something along the lines of `To send this flight, you need to have a LogTen account connected to your FSP account.` (and then allowing the help link to supply further info).",2025-02-27T00:49:56Z,2025-02-27T01:07:47Z,ivoDutraFlight,"IOS-216 - Re-Add Add to LogTen button, Supporting both deeplink and API methods "
FSP-IOS-SUI,107,1972643406,review,gyratorycircus,"`openLogTenSupportPage` which support page? `openLogTenAccountLinkSupportPage`",2025-02-27T00:57:17Z,2025-02-27T01:07:47Z,ivoDutraFlight,"IOS-216 - Re-Add Add to LogTen button, Supporting both deeplink and API methods "
FSP-IOS-SUI,107,1972649019,review,gyratorycircus,"Maybe a point of style discussion: this guard formatting slowed me down. I saw the guard, and the indented next line was expected to be part of the `else`, but then no return followed, so I had to backtrack and search for the return. I'll concede a return on a single-line guard is often convenient (I still don't _love_ this), but I think I'll argue the exit of a multi-line guard should be on a new line.",2025-02-27T01:04:58Z,2025-02-27T01:07:47Z,ivoDutraFlight,"IOS-216 - Re-Add Add to LogTen button, Supporting both deeplink and API methods "
FSP-IOS-SUI,107,1972650405,review,gyratorycircus,"I know it was just moved... but any way to get `Session.current` out of this function?",2025-02-27T01:07:19Z,2025-02-27T01:07:47Z,ivoDutraFlight,"IOS-216 - Re-Add Add to LogTen button, Supporting both deeplink and API methods "
FSP-IOS-SUI,107,1973707743,review,ivoDutraFlight,"I agree ended up leaving the first one for 2 or more i like a separate line for the else   ``` > guard connectivityAgent.isConnected, > 			  let reservationState = reservation.status?.state  > else { return nil } ```",2025-02-27T14:35:54Z,2025-02-27T14:35:54Z,ivoDutraFlight,"IOS-216 - Re-Add Add to LogTen button, Supporting both deeplink and API methods "
FSP-IOS-SUI,107,1973711719,review,ivoDutraFlight,"I agree it made more sense when it was left alone (without the deeplink method) now it makes not much sense",2025-02-27T14:38:08Z,2025-02-27T14:38:09Z,ivoDutraFlight,"IOS-216 - Re-Add Add to LogTen button, Supporting both deeplink and API methods "
FSP-IOS-SUI,107,1974122277,review,ivoDutraFlight,"I checked, for this one in specific would cause a chain of bubbles till we reach composition root that the effort is not justified right now (there are no need to inject this now cause this is not being tested. Right now).  the bubble up caused such a protocol to be written    ``` protocol Coordinator {   var navigationController: UINavigationController? { get }    var refreshTrigger: PassthroughSubject<Void, Never> { get }    func start()  	var session: Session? { get } } ``` which does not seem ideal. ",2025-02-27T18:22:43Z,2025-02-27T18:22:43Z,ivoDutraFlight,"IOS-216 - Re-Add Add to LogTen button, Supporting both deeplink and API methods "
FSP-IOS-SUI,107,1974149742,review,gyratorycircus,"Yea, I agree doing it _right_ is out of scope, but there are smaller incremental improvements possible. One would be to just move it to the view model as an accessor: `var session: Session? { Session.current }` That would at least get the singleton access out of the function, where it's just completely hidden.",2025-02-27T18:39:44Z,2025-02-27T18:39:45Z,ivoDutraFlight,"IOS-216 - Re-Add Add to LogTen button, Supporting both deeplink and API methods "
FSP-IOS-SUI,104,1951731708,review,gyratorycircus,"I'm not sure this is a good thing. Why not just use `PaginationPage`? It is a problem that it's Decodable?  There's a lot of duplication occurring here; `PaginationProps` struct is identical to `PaginationPageProps`.",2025-02-11T23:06:56Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951733426,review,gyratorycircus,"Do these need to be vars? Doesn't seem like this type needs to be mutable.",2025-02-11T23:09:12Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951737107,review,gyratorycircus,"`getProps()` could use a better name. Something more like `paginationState` could be better.",2025-02-11T23:13:29Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951740373,review,gyratorycircus,"This would read better to me as an extension on RemoteFlightDetail. The `FlightDetailsService` isn't involved (other than being used in this domain, but that's why it's in this file). It can also be private.",2025-02-11T23:17:49Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951746647,review,gyratorycircus,"It doens't look like RemoteFlightDetail is necessary to expose, so it should be private. It's also resulting in some brutal namespaces (i.e. `FlightDetailsService.RemoteFlightDetail.FlightDetail.FlightType`). Maybe bump it up to the file level and mark it fileprivate. ",2025-02-11T23:25:37Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951749240,review,gyratorycircus,"The difference between this FlightDetail and the other FlightDetail could be more clear. Since this is representing the direct data from the external service, maybe something like `RawFlightDetail`.",2025-02-11T23:29:09Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951750183,review,gyratorycircus,"The namespace seems unnecessary here: `let aircraftType: FlightDetail.AircraftType?` vs `let aircraftType: AircraftType?`",2025-02-11T23:30:27Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951751249,review,gyratorycircus,"Easier to name the property `_id`?",2025-02-11T23:31:58Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951752947,review,gyratorycircus,"This isn't quite right. Any landing that does not have a ""night"" attribute is a day landing. It might have other attributes though. ",2025-02-11T23:34:16Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951753768,review,gyratorycircus,"Type as `FlightEvent.Category`? ",2025-02-11T23:35:33Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951754706,review,gyratorycircus,"Why not type `positions` as `[PersonPosition]`?",2025-02-11T23:36:52Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951757697,review,gyratorycircus,"I'm hesitant to use `LogTen` in the naming here since it's arbitrary branding at this point. Maybe something like ""LogbookFlight"" -- there's already a lot of ""Flight"" concepts in this app; distinguishing Logbook will probably be helpful.",2025-02-11T23:41:03Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951763484,review,gyratorycircus,"Two things jump out at me here: something named LogbookPresentation is being called from a service layer, and this function is doing a lot (unwrapping something, mapping items, transforming models, rewrapping). Extracting the model transform would help both of these; `FlightOverviewItem` already has a manual init, so add one for this input `init(remoteFlight: FlightService.RemoteFlight)`",2025-02-11T23:49:43Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951764582,review,gyratorycircus,"See! The ""Logbook"" prefix works great 😄 ",2025-02-11T23:51:20Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951773652,review,gyratorycircus,"This is less a `defaultPageLimit` and more of a fixed page limit since it's not mutable anywhere in the API without some refactoring. In the future, exposing this kind of controls throughout the API will allow more flexibility.",2025-02-12T00:04:50Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951776705,review,gyratorycircus,"This `-flag` name read oddly to me (it's not really used as a flag in this code, even if maybe that's how the backend treats it) >> `iOSDeviceTypeIdentifier`",2025-02-12T00:09:18Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951780134,review,gyratorycircus,"Is it appropriate to use `dd` here and `d` in DayOfMonthFormatStyle?",2025-02-12T00:14:21Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951786644,review,gyratorycircus,"Although I'd be hesitant to change it here incase something relies on this behavior, _technically_, it's more appropriate to use `y` for formatting years. That's the natural length of the year, whereas `yyyy` pads to 4 digits. [ref](https://x.com/davedelong/status/1068235202193842176?mx=2)",2025-02-12T00:23:43Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951787848,review,gyratorycircus,"I'm starting to think a string enum with all these date formats would be helpful -- maybe someone even made that already.",2025-02-12T00:25:25Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951792220,review,gyratorycircus,"This flight type data seems like it would be more flexible and reusable via: ``` extension LogbookFlightType {     var title: String { ... }      var systemImageName: String { ... } } ```",2025-02-12T00:30:07Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1951798784,review,gyratorycircus,"It feels odd to have the `Sections` scoped inside `FlightFields` when `Sections` has `fields`. They could be defined at the same level.",2025-02-12T00:36:06Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1953078190,review,benvanasse-fsp,"What does this comment imply? marking a stub spot?",2025-02-12T17:08:34Z,2025-02-12T17:08:35Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1953098054,review,gyratorycircus,"nit: enums should be singular names",2025-02-12T17:21:44Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1953183593,review,gyratorycircus,"This might work better as a function on the viewData, reducing the scope to what is accessed.",2025-02-12T18:17:28Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1953185767,review,gyratorycircus,"This is more evidence that a `Logbook___` prefix would be beneficial across this feature.",2025-02-12T18:19:01Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1953189007,review,gyratorycircus,"This same `listGroupedStyleDefaultTopSpacing` attribute is defined multiple places. Maybe an extension on `GroupedListStyle`?",2025-02-12T18:21:24Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1953197998,review,gyratorycircus,"nit: prefer limiting use of shorthand closure args  to single line closures",2025-02-12T18:27:38Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1953200177,review,gyratorycircus,"Tuple here doesn't seem to add value (and the resulting `date.date` is a bit awkward)",2025-02-12T18:29:14Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1953201335,review,gyratorycircus,"Should this be hidden instead, to keep layout the same?",2025-02-12T18:30:04Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,1953202811,review,gyratorycircus,"Prefer to use `FlightFields.outTime.title` instead of magic string",2025-02-12T18:31:12Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,104,2610316884,review_summary,gyratorycircus,"Good overall! That means most of these comments are just polishing",2025-02-12T23:25:58Z,2025-02-12T23:25:58Z,ivoDutraFlight,"Embedded Logbook - Final beta additions"
FSP-IOS-SUI,102,1940350997,review,gyratorycircus,"Any WARNING or ERROR logs should continue logging to stderr via the `>&2` which will be more discoverable in the logs",2025-02-04T01:24:18Z,2025-02-04T01:25:07Z,ivoDutraFlight,"Bugfix CI script - make sure script will always complete"
FSP-IOS-SUI,98,1920620132,review,gyratorycircus,"Prefer `url.append(path:)` over string concatenation",2025-01-17T18:53:16Z,2025-01-18T00:28:27Z,ivoDutraFlight,"IOS-165 - Add Logbook Related Services"
FSP-IOS-SUI,98,1920620292,review,gyratorycircus,"Prefer `url.append(path:)` over string concatenation",2025-01-17T18:53:29Z,2025-01-18T00:28:27Z,ivoDutraFlight,"IOS-165 - Add Logbook Related Services"
FSP-IOS-SUI,98,1920640031,review,gyratorycircus,"Prefer `url.append(path:)` over string concatenation",2025-01-17T19:13:25Z,2025-01-18T00:28:27Z,ivoDutraFlight,"IOS-165 - Add Logbook Related Services"
FSP-IOS-SUI,98,1920892629,review,gyratorycircus,"Is a hardcoded ""iPhone"" appropriate here?",2025-01-18T00:20:12Z,2025-01-18T00:28:27Z,ivoDutraFlight,"IOS-165 - Add Logbook Related Services"
FSP-IOS-SUI,98,1920893935,review,gyratorycircus,"`crossCountry` is one of the specific possibilities, maybe just `type`",2025-01-18T00:23:31Z,2025-01-18T00:28:27Z,ivoDutraFlight,"IOS-165 - Add Logbook Related Services"
FSP-IOS-SUI,98,1920894802,review,gyratorycircus,"What I saw in the mockups isn't the Aircraft Type identifier (e.g. ""C172""), it's the `flight.aircraft.registration`, e.g. ""N12345""",2025-01-18T00:25:34Z,2025-01-18T00:28:27Z,ivoDutraFlight,"IOS-165 - Add Logbook Related Services"
FSP-IOS-SUI,98,1920894919,review,gyratorycircus,"In recent designs I saw that rows either displayed ""XC"" or ""Local""",2025-01-18T00:26:02Z,2025-01-18T00:28:27Z,ivoDutraFlight,"IOS-165 - Add Logbook Related Services"
FSP-IOS-SUI,98,1922513479,review,ivoDutraFlight,"Yeah the designs got not updated and I don't have access to edit Figma. Per conversation with Ruth and Simon, we saw that this was the only possible type that could be identified, thus it will simply display XC or nothing.",2025-01-20T14:46:36Z,2025-01-20T14:46:36Z,ivoDutraFlight,"IOS-165 - Add Logbook Related Services"
FSP-IOS-SUI,98,1922521566,review,ivoDutraFlight,"Where can I test this flow in the FSP app, to make sure with this change the LogTen app will still open?",2025-01-20T14:52:29Z,2025-01-20T14:52:29Z,ivoDutraFlight,"IOS-165 - Add Logbook Related Services"
FSP-IOS-SUI,98,1922522596,review,ivoDutraFlight,"Per Neil's reply: ""Yes that does make a difference. Currently the server side is hardcoded to only do that extra L10 logic based on the device = iPhone""",2025-01-20T14:53:13Z,2025-01-20T14:53:13Z,ivoDutraFlight,"IOS-165 - Add Logbook Related Services"
FSP-IOS-SUI,98,1922627806,review,ivoDutraFlight,"Done: https://github.com/Flight-Schedule-Pro/FSP-IOS-SUI/commit/ac0f0bf38797b0fd527622a0c47fb5866783301e",2025-01-20T16:15:42Z,2025-01-20T16:15:42Z,ivoDutraFlight,"IOS-165 - Add Logbook Related Services"
FSP-IOS-SUI,98,1941609808,review,ivoDutraFlight,"https://flightschedulepro.atlassian.net/browse/IOS-204",2025-02-04T17:36:51Z,2025-02-04T17:36:51Z,ivoDutraFlight,"IOS-165 - Add Logbook Related Services"
FSP-IOS-SUI,98,1941609852,review,ivoDutraFlight,"https://flightschedulepro.atlassian.net/browse/IOS-204",2025-02-04T17:36:53Z,2025-02-04T17:36:53Z,ivoDutraFlight,"IOS-165 - Add Logbook Related Services"
FSP-IOS-SUI,95,1899726082,review,gyratorycircus,"Formatters are expensive. It should be cached for reuse.",2024-12-30T18:37:05Z,2024-12-30T19:06:53Z,ivoDutraFlight,"IOS-138 - Create Flight List for Logbook"
FSP-IOS-SUI,95,1899726217,review,gyratorycircus,"Formatters are expensive. It should be cached for reuse.",2024-12-30T18:37:23Z,2024-12-30T19:06:53Z,ivoDutraFlight,"IOS-138 - Create Flight List for Logbook"
FSP-IOS-SUI,95,1899726275,review,gyratorycircus,"Formatters are expensive. It should be cached for reuse.",2024-12-30T18:37:33Z,2024-12-30T19:06:53Z,ivoDutraFlight,"IOS-138 - Create Flight List for Logbook"
FSP-IOS-SUI,95,1899730242,review,gyratorycircus,"These service calls are overly coupled. The two results are not dependent on each other. It's possible the services don't belong at this view model level, but instead within the FlightList and SummaryView.",2024-12-30T18:46:40Z,2024-12-30T19:06:53Z,ivoDutraFlight,"IOS-138 - Create Flight List for Logbook"
FSP-IOS-SUI,95,1899730403,review,gyratorycircus,"An error state should be captured and some kind of ""Content Unavailable"" displayed in the UI (differentiating it from ""No Content"").",2024-12-30T18:46:56Z,2024-12-30T19:06:53Z,ivoDutraFlight,"IOS-138 - Create Flight List for Logbook"
FSP-IOS-SUI,95,1899732087,review,gyratorycircus,"Part of the AC of this story is pagination. What's the plan for that?",2024-12-30T18:50:43Z,2024-12-30T19:06:53Z,ivoDutraFlight,"IOS-138 - Create Flight List for Logbook"
FSP-IOS-SUI,95,1899739478,review,gyratorycircus,"I'm not convinced by this data structure. It seems like the implementation is a side-effect of how `Dictionary(grouping:by)` was used to (conveniently) separate the sections, but the results are only ever used as an array. ViewData should probably be simplified to an array of sections to simplify consumption.",2024-12-30T19:06:32Z,2024-12-30T19:06:53Z,ivoDutraFlight,"IOS-138 - Create Flight List for Logbook"
FSP-IOS-SUI,95,1905911471,review,ivoDutraFlight,"Will be done at IOS-165",2025-01-07T18:54:47Z,2025-01-07T18:54:48Z,ivoDutraFlight,"IOS-138 - Create Flight List for Logbook"
FSP-IOS-SUI,95,1905989875,review,ivoDutraFlight,"Done with IOS-165",2025-01-07T20:15:28Z,2025-01-07T20:15:28Z,ivoDutraFlight,"IOS-138 - Create Flight List for Logbook"
FSP-IOS-SUI,95,1905999264,review,ivoDutraFlight,"Done in the next PR",2025-01-07T20:25:55Z,2025-01-07T20:25:56Z,ivoDutraFlight,"IOS-138 - Create Flight List for Logbook"
TrainingHubApi,365,2093720656,review,fspafahrenholtz,"💡 Use `nameof` ```suggestion             _logger.LogWarning(e, $""{nameof(UpsertContentProviderCourseEnrollments)}: Failed to fetch GlobalUser to send new content provider course notification""); ```",2025-05-16T21:59:30Z,2025-05-16T22:12:05Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093721069,review,fspafahrenholtz,"💡 Use `nameof` ```suggestion                     _logger.LogWarning(e, $""{nameof(UpsertContentProviderCourseEnrollments)}: Error sending purchased courses to content provider""); ```",2025-05-16T21:59:55Z,2025-05-16T22:12:05Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093721388,review,fspafahrenholtz,"💡 Use `nameof` ```suggestion                 _logger.LogWarning(e, $""{nameof(UpsertContentProviderCourseEnrollments)}: Error sending new content provider course notification""); ```",2025-05-16T22:00:16Z,2025-05-16T22:12:05Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093723675,review,fspafahrenholtz,"💡 May be worth it to include the the external user id in the message ```suggestion                     _logger.LogWarning(ex, $""Error pushing purchased courses to Sportys for user with external user id of '{}settings.ExternalUserId'""); ```",2025-05-16T22:03:17Z,2025-05-16T22:12:05Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093724713,review,fspafahrenholtz,"💡 Could include the external user id ```suggestion                     _logger.LogWarning(ex, $""Error pushing purchased courses to AviatorPro for user with external user id of '{settings.ExternalUserId}'""); ```",2025-05-16T22:04:32Z,2025-05-16T22:12:05Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093725455,review,fspafahrenholtz,"💡 Could include the operator's id ```suggestion                     _logger.LogError(ex, $""Error getting operator info from AviatorPro for operator '{operatorGuid.Value}'""); ```",2025-05-16T22:05:34Z,2025-05-16T22:12:05Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093726098,review,fspafahrenholtz,"💡 Could add the user's id here",2025-05-16T22:06:33Z,2025-05-16T22:12:05Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093726210,review,fspafahrenholtz,"💡 Could add the user's id here",2025-05-16T22:06:43Z,2025-05-16T22:12:05Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093727093,review,fspafahrenholtz,"Comment could easily become incorrect without warning ```suggestion ```",2025-05-16T22:08:10Z,2025-05-16T22:12:05Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093727163,review,fspafahrenholtz,"Comment could easily become incorrect without warning ```suggestion ```",2025-05-16T22:08:18Z,2025-05-16T22:12:05Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093727488,review,fspafahrenholtz,"💡 If we have the info, add the user's id here",2025-05-16T22:08:43Z,2025-05-16T22:12:05Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093727532,review,fspafahrenholtz,"💡 If we have the info, add the user's id here",2025-05-16T22:08:48Z,2025-05-16T22:12:06Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093729394,review,fspafahrenholtz,"💡 If we have the info, add the user's id here",2025-05-16T22:11:01Z,2025-05-16T22:12:06Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093729872,review,fspafahrenholtz,"💡 If we have the info, add the user's id here",2025-05-16T22:11:38Z,2025-05-16T22:12:06Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,365,2093730098,review,fspafahrenholtz,"Comment could easily become incorrect without warning ```suggestion ```",2025-05-16T22:12:01Z,2025-05-16T22:12:06Z,NickHotalling-FSP,"FSP-11532 Add try/catch around Sportys/AviatorPro apiClient calls"
TrainingHubApi,363,2087062226,review,NickHotalling-FSP,"Our other implementations use a custom `JsonPatchDocument` class but it appears there is an official implementation, which is the reason for adding this library.",2025-05-13T15:06:53Z,2025-05-13T15:06:53Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2087265625,review,NickHotalling-FSP,"Belay that. Our custom implementation provides properties for ""originalValue"" and ""value"" which are not present on the official version.",2025-05-13T16:56:26Z,2025-05-13T16:56:26Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2091772294,review,NickHotalling-FSP,"Already a lot going on in this PR - planning to add tests for the history event fetching in FSP-11535. There is additional work to do for handling existing Exam logs.",2025-05-15T18:41:52Z,2025-05-15T21:48:57Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2091976478,review,NickHotalling-FSP,"In addition to our custom `value` and `originalValue` properties, I've added some `display` properties for storing optional values to display to the UI for Update events. This allows us to take a snapshot of the display-friendly data when the log is created (such as recording the instructor's name along with their id which is the real value that changed).",2025-05-15T21:20:46Z,2025-05-15T21:20:46Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2093403024,review,fspafahrenholtz,"We can simplify this greatly by extending the `Operation` with the new properties (no need to override `value`); no need to copy `JsonPatchDocument` and its related code.",2025-05-16T17:01:39Z,2025-05-16T21:57:02Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2093545207,review,fspafahrenholtz,"I don't think this is needed as this is only needed for `/` in the path and the `JsonPatchDocument`. The `CreatePatch` above can do that.",2025-05-16T19:00:22Z,2025-05-16T21:57:02Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2093546761,review,fspafahrenholtz,"This isn't used outside of `AuditEventService` and can be made `private`.",2025-05-16T19:01:38Z,2025-05-16T21:57:02Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2093556828,review,fspafahrenholtz,"💡 May be best to move this into a static tool that outputs a `JsonPatchDocument`. That would make it easy to unit test without exposing methods on this service.",2025-05-16T19:10:43Z,2025-05-16T21:57:02Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2093560851,review,fspafahrenholtz,"💡 ❓ I think we can make these PascalCase because you're specifying the `JsonProperty` but I'm not 100% on that.",2025-05-16T19:14:23Z,2025-05-16T21:57:02Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2093561987,review,fspafahrenholtz,"My only worry with this is how the serialization process happens but based on what I've read in the code everything looks like it would work with an extended `Operation`.",2025-05-16T19:15:32Z,2025-05-16T21:57:03Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2093690126,review,fspafahrenholtz,"This doubles up the items in `friendlyValueNames`. I think you may be missing a `Where` on `validInstructors.Results`.",2025-05-16T21:21:19Z,2025-05-16T21:57:03Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2093694255,review,fspafahrenholtz,"These parameters aren't used. ```suggestion         IDictionary<string, string>? pathDisplayMappings = null); ```",2025-05-16T21:26:22Z,2025-05-16T21:57:03Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2093695507,review,fspafahrenholtz,"Unused ```suggestion ```",2025-05-16T21:27:59Z,2025-05-16T21:57:03Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2093695728,review,fspafahrenholtz,"Unused ```suggestion ```",2025-05-16T21:28:18Z,2025-05-16T21:57:03Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2093696217,review,fspafahrenholtz,"💡 Could probably live in a tool just for building/manipulating `JsonPatchDocument`s",2025-05-16T21:29:04Z,2025-05-16T21:57:03Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2093702783,review,fspafahrenholtz,"💡 Can filter the properties down to the ones that have the `DisplayNameAttribute` ```suggestion         foreach (var prop in type.GetProperties().Where(i => i.CustomAttributes.Any(a => a.AttributeType == typeof(DisplayNameAttribute)))) ```",2025-05-16T21:38:25Z,2025-05-16T21:57:03Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2093716943,review,fspafahrenholtz,"💡 Could probably create a rules file just for `PagedRequest` that can be reused elsewhere in TH: `Include(new PagedRequestValidator());`",2025-05-16T21:56:50Z,2025-05-16T21:57:03Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2096236033,review,NickHotalling-FSP,"This is intentional. The list of validInstructors can be used as friendly display values for both the EndorsementInstructorIds and DPEIds.",2025-05-19T17:53:45Z,2025-05-19T17:53:45Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2096572870,review,NickHotalling-FSP,"Is it worth keeping `isSystem` ? We're not currently using it, but as I researched data in the history table, there are specific values used for system logs. Seems like it would be nice to have this ready rather than having to dig it up again when its needed. ",2025-05-19T22:40:39Z,2025-05-19T22:40:39Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2096613011,review,NickHotalling-FSP,"There is a unit test that deserializes a legacy object without the extra parameters. Moved to new file.  `JsonPatchUtilitiesTests.Deserialize_JsonPatchOperations_WithoutDisplayProperties_Succeeds`",2025-05-19T23:40:30Z,2025-05-19T23:40:30Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,363,2098585504,review,fspafahrenholtz,"I see now. 💡 Could make this a `ILookup` with the property path as the key to speed things up and make it a little clearer on how this is going to be used.",2025-05-20T18:07:01Z,2025-05-20T18:07:02Z,NickHotalling-FSP,"FSP-11486 Audit history service"
TrainingHubApi,362,2082534196,review,NickHotalling-FSP,"Do we need a deployment note for changing the env vars for the integration tests?",2025-05-09T21:39:52Z,2025-05-09T21:39:52Z,NickHotalling-FSP,"FSP-11415 Checkride exam scores CRUD endpoints"
TrainingHubApi,362,2082541695,review,fspafahrenholtz,"No, because those env vars are only used for integration tests and not production.",2025-05-09T21:42:55Z,2025-05-09T21:43:05Z,NickHotalling-FSP,"FSP-11415 Checkride exam scores CRUD endpoints"
TrainingHubApi,362,2084738576,review,fspafahrenholtz,"```suggestion         return Put($""{BaseUrl}/operators/{operatorId}/checkrideExamScores/{checkrideExamScoreGuid}"", request, cancellationToken: cancellationToken); ```",2025-05-12T13:56:29Z,2025-05-12T22:02:43Z,NickHotalling-FSP,"FSP-11415 Checkride exam scores CRUD endpoints"
TrainingHubApi,362,2084740168,review,fspafahrenholtz,"```suggestion     Task UpdateCheckrideExamScore(int operatorId, Guid checkrideExamScoreGuid, CheckrideExamScoreUpdateRequest request, CancellationToken cancellationToken = default); ```",2025-05-12T13:57:07Z,2025-05-12T22:02:43Z,NickHotalling-FSP,"FSP-11415 Checkride exam scores CRUD endpoints"
TrainingHubApi,362,2084740933,review,fspafahrenholtz,"```suggestion         CheckrideExamScoreUpdateRequest request, CancellationToken cancellationToken = default) ```",2025-05-12T13:57:27Z,2025-05-12T22:02:43Z,NickHotalling-FSP,"FSP-11415 Checkride exam scores CRUD endpoints"
TrainingHubApi,362,2084743866,review,fspafahrenholtz,"💡 This could be refactored into a method to help with readability.",2025-05-12T13:58:44Z,2025-05-12T22:02:43Z,NickHotalling-FSP,"FSP-11415 Checkride exam scores CRUD endpoints"
TrainingHubApi,362,2084915718,review,fspafahrenholtz,"This is overly complicated when we just need to have it return the instructor ids we have. Will also require defining the new instructor ids before this call. ```suggestion                 return new PagedList<InstructorListView>                 { Results = [                   new InstructorListView { UserGuid = initialEndorsementInstructorId },                    new InstructorListView { UserGuid = initialDpeId },                    new InstructorListView { UserGuid = newInstructorId },                   new InstructorListView { UserGuid = newDpeId }] }; ```",2025-05-12T15:16:08Z,2025-05-12T22:02:43Z,NickHotalling-FSP,"FSP-11415 Checkride exam scores CRUD endpoints"
TrainingHubApi,362,2084917911,review,fspafahrenholtz,"Won't need this call with the mock change above. ```suggestion ```",2025-05-12T15:17:16Z,2025-05-12T22:02:43Z,NickHotalling-FSP,"FSP-11415 Checkride exam scores CRUD endpoints"
TrainingHubApi,362,2085299565,review,fspafahrenholtz,"Similar to the comment above, this can be simplified to just returning a list and wouldn't need the additional set up later on line 300.",2025-05-12T19:16:41Z,2025-05-12T22:02:43Z,NickHotalling-FSP,"FSP-11415 Checkride exam scores CRUD endpoints"
TrainingHubApi,362,2085600500,review,fspafahrenholtz,"Unused and not part of the interface spec.  ```suggestion ```",2025-05-12T22:01:50Z,2025-05-12T22:02:43Z,NickHotalling-FSP,"FSP-11415 Checkride exam scores CRUD endpoints"
TrainingHubApi,362,2087985066,review,NickHotalling-FSP,"Airport and Notes are optional. If we're going to use ^^ this pattern, we'll need to coordinate with the FE to send empty string to ""clear"" the value. Is that confusing since a null guid for DPEId will clear the value?",2025-05-14T03:58:18Z,2025-05-14T04:03:15Z,NickHotalling-FSP,"FSP-11415 Checkride exam scores CRUD endpoints"
TrainingHubApi,362,2087989547,review,NickHotalling-FSP,"It's probably going to be better to just use whatever the UI sends without falling back to the original values.",2025-05-14T04:05:57Z,2025-05-14T04:05:57Z,NickHotalling-FSP,"FSP-11415 Checkride exam scores CRUD endpoints"
TrainingHubApi,362,2089032916,review,fspafahrenholtz,"That looks to be a typo or AI hallucination. We should be defaulting to `string.Empty` if the request sends in null.  Edit: `Airport` can be null so `examScore.Airport = request.Airport;` is right. Also, clicking on the link to the code you commented on takes you to the code you commented on (i.e. old code) so I was confused why this comment was resolved and the code was still the same. 🤦 ",2025-05-14T14:02:07Z,2025-05-14T14:17:03Z,NickHotalling-FSP,"FSP-11415 Checkride exam scores CRUD endpoints"
TrainingHubApi,361,2080029393,review,NickHotalling-FSP,"Originally, I thought this might be the culprit. On patching the global user settings (this happens when the student connects to the content provider and we save the refresh token), we were calling Sync *before* saving the updated settings record with the new token (the save was moved in a previous PR). I tried to prove out in an integration test that the token was not set when Sync was called, but it appears that since the same DbContext is used throughout, it is aware of the pending changes and returns the updated settings record with the token even before it's been saved to the db.",2025-05-08T16:05:19Z,2025-05-08T16:05:19Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2081796927,review,fspafahrenholtz,"![](https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExcjN2bmJnd21va3JmZ3R1azR2bW0wZDFrNGFxcDc5dW5lNmZwZHQzcSZlcD12MV9naWZzX3NlYXJjaCZjdD1n/3o7aCWJavAgtBzLWrS/giphy.gif)",2025-05-09T14:23:03Z,2025-05-09T21:40:31Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2082325398,review,fspafahrenholtz,"This cached state of EF is why I hate the Repository pattern when EF is under the hood; it isn't clear whose (repository or the consumer of the repository) responsibility it is to save the changes. Where possible let's move away from the Repository pattern when EF is being used. ",2025-05-09T18:37:19Z,2025-05-09T21:40:31Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2082361787,review,fspafahrenholtz,"💡 My nitpick (hence the 💡 ): use string interpolation instead of the logger's version of `string.Format` i.e. `        _logger.LogInformation($""Found {unsyncedEnrollments.Count} unsynced enrollments without globalUserIds"");`",2025-05-09T19:07:29Z,2025-05-09T21:40:31Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2082368538,review,fspafahrenholtz,"This looks like a prime candidate for bringing out of the repository pattern and into the service.",2025-05-09T19:13:31Z,2025-05-09T21:40:31Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2082456265,review,fspafahrenholtz,"❓ Since our tests use Docker SQL servers, I'd expect this to fail without setting up any content provider courses. Is there some set up missing?",2025-05-09T20:34:17Z,2025-05-09T21:40:31Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2082489466,review,fspafahrenholtz,"This is inaccurate since `IntegrationTest` is forcing an instance per test case so the `SportysApiClient` should be different between the test cases.",2025-05-09T20:58:54Z,2025-05-09T21:40:31Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2082543859,review,NickHotalling-FSP,"Rider always seems to complain about string interpolation in the logs, but I agree that it's cleaner to read.",2025-05-09T21:45:23Z,2025-05-09T21:45:33Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2085048274,review,NickHotalling-FSP,"I assume you mean moving forward and no changes are necessary here.",2025-05-12T16:29:58Z,2025-05-12T16:29:59Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2085108516,review,NickHotalling-FSP,"Updated",2025-05-12T17:09:13Z,2025-05-12T17:09:13Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2085134406,review,NickHotalling-FSP,"We have several other tests doing this as well. The content provider ground school courses are seeded into the db with the TrainingDb's PostDeployment script.",2025-05-12T17:26:34Z,2025-05-12T17:26:34Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2085136022,review,NickHotalling-FSP,"I think that was Cursor being helpful with comments. Removed.",2025-05-12T17:27:37Z,2025-05-12T17:27:37Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2085150621,review,NickHotalling-FSP,"Moved.",2025-05-12T17:37:31Z,2025-05-12T17:37:31Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2085205214,review,fspafahrenholtz,"No changes on this line specifically and you already took care of not creating another method in that repository so everything is hunky dory.",2025-05-12T18:16:14Z,2025-05-12T18:58:18Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2085207896,review,fspafahrenholtz,"💡 Don't really need the `readOnly` flag and `_trainingDbContext` since you only use the `_readOnlyTrainingDbContext`. ```suggestion     public async Task<List<ContentProviderCourseEnrollment>> GetContentProviderCourseEnrollmentPurchases(        CancellationToken cancellationToken = default)     {         return await _readOnlyTrainingDbContext.ContentProviderCourseEnrollments             .Include(e => e.Course)             .Where(e => e.InvoiceGuid != null)             .ToListAsync(cancellationToken);     } ```",2025-05-12T18:18:21Z,2025-05-12T18:57:49Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2085240539,review,fspafahrenholtz,"💡 The EF query could all be done here and could include the additional `Where`s, `Select`, and ordering.",2025-05-12T18:35:23Z,2025-05-12T18:57:49Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2085268645,review,fspafahrenholtz,"💡 Similar to the comment below, the EF query could all be done here with the additional `Where` statements included.",2025-05-12T18:53:39Z,2025-05-12T18:57:49Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2085269526,review,fspafahrenholtz,"This isn't used outside of the service and doesn't need to be exposed ```suggestion ```",2025-05-12T18:54:19Z,2025-05-12T18:57:49Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2085271325,review,fspafahrenholtz,"This doesn't need to be `public`. ```suggestion     private async Task<List<ContentProviderCourseEnrollment>> GetContentProviderCourseEnrollmentPurchases(bool readOnly, ```",2025-05-12T18:55:28Z,2025-05-12T18:57:49Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2085585259,review,fspafahrenholtz,"💡  ```suggestion         var unsyncedPurchasedEnrollmentsWithoutGlobalUserIds = await _readOnlyTrainingDbContext.ContentProviderCourseEnrollments             .Include(e => e.Course)             .Where(e =>                  e.InvoiceGuid != null &&                 e.GlobalUserId == null &&                 e.UserId != null &&                 e.SyncedAtUtc == null &&                 e.OperatorId != null)                 .ToListAsync(); ```",2025-05-12T21:45:58Z,2025-05-12T21:50:25Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,361,2085586692,review,fspafahrenholtz,"💡 `Include`s aren't needed when a `Select` is done in the query. ```suggestion ```",2025-05-12T21:47:20Z,2025-05-12T21:50:25Z,NickHotalling-FSP,"FSP-11435 Azure Function to sync ground school courses with no globalUserId"
TrainingHubApi,358,2765718555,review_summary,danwatkins-fsp,"Looks like Ubuntu 24.04 breakage",2025-04-14T21:19:25Z,2025-04-14T21:19:25Z,fspafahrenholtz,"Fix package deployment on version update"
TrainingHubApi,355,2797334677,issue,fspafahrenholtz,"Argh, now tests that ran fine locally are failing in PR build. Moving PR to draft to resolve this.",2025-04-11T15:59:20Z,2025-04-11T15:59:36Z,fspafahrenholtz,"FSP-11247 Add and Manage Manual Aircraft Assignment lesson setting"
TrainingHubApi,355,2042307730,review,NickHotalling-FSP,"❔ Do we typically prefix our bools with `Is` ?",2025-04-14T14:44:09Z,2025-04-14T14:49:05Z,fspafahrenholtz,"FSP-11247 Add and Manage Manual Aircraft Assignment lesson setting"
TrainingHubApi,355,2042406086,review,fspafahrenholtz,"There is no standard for it. Back in the day I was the one that prefixed the properties with `Is` as it does make it easier to read it as a boolean. This time around I don't see it as big of a deal and the name is long enough that I didn't want to make it longer.",2025-04-14T15:32:36Z,2025-04-14T15:32:36Z,fspafahrenholtz,"FSP-11247 Add and Manage Manual Aircraft Assignment lesson setting"
TrainingHubApi,354,2797070282,issue,fspafahrenholtz,"I think it would be better to add unit tests here rather than creating 2 endpoints solely for integration tests. I would focus on the `TrainingHubEmailService` as that is where the logic is happening.",2025-04-11T14:24:49Z,2025-04-11T14:24:49Z,NickHotalling-FSP,"FSP-11243 Add Content Provider White Labeling to Course-related Emails"
TrainingHubApi,354,2797321659,issue,NickHotalling-FSP,"> I think it would be better to add unit tests here rather than creating 2 endpoints solely for integration tests. I would focus on the `TrainingHubEmailService` as that is where the logic is happening.  The endpoints are not solely for integration tests*, they are for forcing the emails to send immediately without having to wait for the automated process to run (every 30 minutes) and without triggering the other related side effects like creating alerts in the system.  (well, the controller endpoints are for manual testing and the api client endpoints are for the integration tests)  *I added the integration tests to prove that the endpoints were only accessible when using the admin key. If you don't think we need those, I can remove the tests and the related api client endpoints.",2025-04-11T15:54:03Z,2025-04-11T15:56:34Z,NickHotalling-FSP,"FSP-11243 Add Content Provider White Labeling to Course-related Emails"
TrainingHubApi,354,2797865506,issue,fspafahrenholtz,"Had a side conversation and we decided to go with a modified `prepNotices` and `priceUpdateNotices` endpoints that accept an optional user guid instead of a separate test endpoint. That way we still use production code but minimize the alerting aspect of the test to only the user that was passed in.",2025-04-11T19:35:35Z,2025-04-11T19:35:35Z,NickHotalling-FSP,"FSP-11243 Add Content Provider White Labeling to Course-related Emails"
TrainingHubApi,354,2038122521,review,NickHotalling-FSP,"The api client doesn't like NoContent - it expects something to deserialize, so this workaround is necessary for the test. Testing the endpoint directly in postman returns NoContent as expected when there is no data available or the correct response object if there is data available.",2025-04-10T19:09:39Z,2025-04-11T16:04:23Z,NickHotalling-FSP,"FSP-11243 Add Content Provider White Labeling to Course-related Emails"
TrainingHubApi,354,2042237647,review,fspafahrenholtz,"Still leave in the permissions filter otherwise this would be a security workaround.",2025-04-14T14:16:55Z,2025-04-14T14:17:35Z,NickHotalling-FSP,"FSP-11243 Add Content Provider White Labeling to Course-related Emails"
TrainingHubApi,354,2042238389,review,fspafahrenholtz,"Keep the permissions filter.",2025-04-14T14:17:22Z,2025-04-14T14:17:35Z,NickHotalling-FSP,"FSP-11243 Add Content Provider White Labeling to Course-related Emails"
TrainingHubApi,353,2027738770,review,fspafahrenholtz,"The problem starts on line 926 where the `Course`s in the read only db context are populated only for those `Course`s that have course family ids.",2025-04-03T21:03:00Z,2025-04-03T21:03:00Z,fspafahrenholtz,"FSP-10759 Fix bug when creating enrollment for user enrolled in a course that has no course family"
TrainingHubApi,352,2031530905,review,danwatkins-fsp,"💡This package actually comes from the CommonApi repo and is versioned together with CommonApi.Client. It's probably fine to leave to the old version. ```suggestion     <PackageVersion Include=""CoreApi.Client"" Version=""0.48.0"" /> ```",2025-04-07T15:43:15Z,2025-04-07T15:46:17Z,timsquires,"FSP-11169 support ITD/UTD sim classes"
TrainingHubApi,352,2034087172,review,timsquires,"I went ahead and bumped the version for CoreApi.Client to match",2025-04-08T21:52:21Z,2025-04-08T21:52:21Z,timsquires,"FSP-11169 support ITD/UTD sim classes"
TrainingHubApi,351,2022986458,review,fspafahrenholtz,"This attribute is redundant since you took the string converter off the enum. ```suggestion ```",2025-04-01T14:31:13Z,2025-04-01T14:31:25Z,NickHotalling-FSP,"FSP-11176 Change Status on Get Content Provider Account to int (w enums)"
TrainingHubApi,350,2766765075,issue,fspafahrenholtz,"Considering that this enum is marked with `[JsonConverter(typeof(JsonStringEnumConverter))]`, it seems like the string version is the desired form across the API. What is the reason for wanting the `int` form?  I would like to keep using the enum wherever possible as that is better than a nameless int and so we don't have to box it. A couple options: 1. Remove the `[JsonConverter(typeof(JsonStringEnumConverter))]` on the enum and make the `int` form the default with the `string` form being special (Unknown impact) 2. Use that same attribute on this particular property but with it converting to an int: `[JsonConverter(typeof(JsonNumberEnumConverter<ContentProviderAccountStatus>))`",2025-03-31T16:29:37Z,2025-03-31T16:29:37Z,NickHotalling-FSP,"FSP-11176 Change Status on Get Content Provider Account to int"
TrainingHubApi,349,2001339971,review,NickHotalling-FSP,"Even though this is now nullable, we want to keep the default as a new object, as `null` will be used only when a content provider does not have study time available. `null` will indicate to the FE that we need to hide the associated value.",2025-03-18T15:33:22Z,2025-03-18T15:33:51Z,NickHotalling-FSP,"FSP-9913 Student Progress for AviatorPro"
TrainingHubApi,348,2001509984,review,fspafahrenholtz,"`CancellationToken`s should be for operations that don't change state. ```suggestion         string subscriptionKey)     { ```",2025-03-18T16:50:20Z,2025-03-18T17:54:22Z,NickHotalling-FSP,"FSP-10684 Adds Content Provider Student Event Webhook"
TrainingHubApi,348,2001512560,review,fspafahrenholtz,"This should be a HTTP 400 because this info is part of the request. If the info was part of the URL then it would be a 404. ```suggestion             throw new BadRequestException(""UserId not found""); ```",2025-03-18T16:51:56Z,2025-03-18T17:54:22Z,NickHotalling-FSP,"FSP-10684 Adds Content Provider Student Event Webhook"
TrainingHubApi,348,2001584323,review,fspafahrenholtz,"This should be in a test of the `CreateContentProviderGlobalUserSettings`, not here. Assertions in this test should be about what the student event webhook affects.",2025-03-18T17:26:23Z,2025-03-18T17:54:22Z,NickHotalling-FSP,"FSP-10684 Adds Content Provider Student Event Webhook"
TrainingHubApi,348,2001606910,review,fspafahrenholtz,"💡 This should be in a CreateExecutor that the `TestUtility` then has a method for creating the user settings `CreateContentProviderGlobalUserSettings(Action<ContentProviderGlobalUserSettingsCreateExecutor> create = null)`",2025-03-18T17:35:23Z,2025-03-18T17:54:22Z,NickHotalling-FSP,"FSP-10684 Adds Content Provider Student Event Webhook"
TrainingHubApi,348,2001620277,review,fspafahrenholtz,"💡 This should also be a `TestUtility` call.",2025-03-18T17:42:04Z,2025-03-18T17:54:22Z,NickHotalling-FSP,"FSP-10684 Adds Content Provider Student Event Webhook"
TrainingHubApi,348,2001874638,review,NickHotalling-FSP,"Fair enough. Just used to checking values in a before state and after state. To your point, this is already tested by `CreateContentProviderGlobalUserSettings_ForAviatorPro_UsesGlobalUserIdAsExternalUserId`",2025-03-18T19:46:27Z,2025-03-18T19:46:27Z,NickHotalling-FSP,"FSP-10684 Adds Content Provider Student Event Webhook"
TrainingHubApi,348,2001944010,review,NickHotalling-FSP,"Will refactor",2025-03-18T20:28:08Z,2025-03-18T20:28:09Z,NickHotalling-FSP,"FSP-10684 Adds Content Provider Student Event Webhook"
TrainingHubApi,348,2004388647,review,fspafahrenholtz,"TestUtility method shouldn't be used for the test that is testing that ApiClient method. The assumption is that the TestUtility and executors are filling in gaps to make it easier to set up a test. The test needs to be clear what it is setting up for its specific endpoint, reducing cognitive load on future devs when this test fails.",2025-03-19T22:12:01Z,2025-03-19T22:14:50Z,NickHotalling-FSP,"FSP-10684 Adds Content Provider Student Event Webhook"
TrainingHubApi,347,1983956740,review,NickHotalling-FSP,"```suggestion     <PackageVersion Include=""CommonApi.Client"" Version=""0.47.1"" />     <PackageVersion Include=""CommonApi.Models"" Version=""0.47.1"" /> ```",2025-03-06T19:43:48Z,2025-03-06T19:43:48Z,NickHotalling-FSP,"FSP-10140 Adds Content Provider Company Event Webhook"
TrainingHubApi,347,1983957011,review,NickHotalling-FSP,"Made a required fix in 47.1",2025-03-06T19:44:04Z,2025-03-06T19:44:04Z,NickHotalling-FSP,"FSP-10140 Adds Content Provider Company Event Webhook"
TrainingHubApi,347,1985716728,review,amatasek,"TIL a new syntax",2025-03-07T21:11:55Z,2025-03-07T21:11:55Z,NickHotalling-FSP,"FSP-10140 Adds Content Provider Company Event Webhook"
TrainingHubApi,343,1972257223,review,NickHotalling-FSP,"After some discussion, we decided it was okay to expose the GlobalUserId",2025-02-26T19:28:49Z,2025-02-26T19:28:49Z,NickHotalling-FSP,"FSP-9910 Implement AviatorPro logic"
TrainingHubApi,342,1945227266,review,NickHotalling-FSP,"This looks to be for when the price has already been updated. Are there also warning messages that say when the price is updating?",2025-02-06T18:24:24Z,2025-02-06T18:25:32Z,chriscovert,"FSP-10655 After multiple prices were updated, display comma separated list"
TrainingHubApi,342,1945240180,review,chriscovert,"Since we want one message with a list of all courses changing on this date, we're grabbing both courses that have been updated today as well as courses that are updating today but not yet processed.",2025-02-06T18:34:15Z,2025-02-06T18:34:15Z,chriscovert,"FSP-10655 After multiple prices were updated, display comma separated list"
TrainingHubApi,340,1941808305,review,NickHotalling-FSP,"```suggestion         return $""The following prices are changing: { string.Join("", "",priceUpdateStrings) }. This will affect any billing packages that include these courses.""; ```",2025-02-04T19:55:42Z,2025-02-04T19:57:21Z,chriscovert,"FSP-10655 If multiple prices change, display comma separated list"
TrainingHubApi,340,1941810097,review,NickHotalling-FSP,"```suggestion                     $""The price of {TestUtility.SPORTYS_PRIVATE_PILOT_COURSE_NAME} will change to $599.00 on {newPriceEffectiveDate:M/d/yyyy}. This will affect any billing packages that include the courses."" ```",2025-02-04T19:57:09Z,2025-02-04T19:57:21Z,chriscovert,"FSP-10655 If multiple prices change, display comma separated list"
TrainingHubApi,340,1941812071,review,NickHotalling-FSP,"```suggestion         expectedMessage = $""The following prices are changing: {TestUtility.SPORTYS_PRIVATE_PILOT_COURSE_NAME} will change to $599.00 on {newPriceEffectiveDate:M/d/yyyy}, {TestUtility.SPORTYS_INSTRUMENT_COURSE_NAME} will change to $499.00 on {newPriceEffectiveDate:M/d/yyyy}. This will affect any billing packages that include these courses.""; ```",2025-02-04T19:58:55Z,2025-02-04T19:58:55Z,chriscovert,"FSP-10655 If multiple prices change, display comma separated list"
TrainingHubApi,340,1941819291,review,chriscovert,"🤦‍♂️ ",2025-02-04T20:05:10Z,2025-02-04T20:05:10Z,chriscovert,"FSP-10655 If multiple prices change, display comma separated list"
TrainingHubApi,339,1941439019,review,amatasek,"Not necessary to refactor right now, but I wonder if we should consider a ground school interface & implementation for each school to contain the school specific implementation details like these. ",2025-02-04T15:52:35Z,2025-02-04T15:52:35Z,NickHotalling-FSP,"FSP-10564 Send operator guid to Sportys for courses purchased at FSP"
TrainingHubApi,339,1941484829,review,NickHotalling-FSP,"Perhaps - this code has already been refactored a bit to project ground school models into a more generic model like you suggest. The AviatorPro work adds our second provider, so we had to do some of the refactoring to get ready for that. That PR might be a great opportunity to extract things out further if needed since the ContentProvidersService is already starting to get a little bloated.",2025-02-04T16:14:08Z,2025-02-04T20:15:28Z,NickHotalling-FSP,"FSP-10564 Send operator guid to Sportys for courses purchased at FSP"
TrainingHubApi,335,1927752252,review,fspafahrenholtz,"```suggestion                     arg.EnabledByUserEmail == $""{operatorAndPersonResponse.CompanyGuid}@example.com"") ```",2025-01-23T22:14:29Z,2025-01-23T22:16:37Z,NickHotalling-FSP,"FSP-10530 Account for null values returned from commonapi"
TrainingHubApi,335,1927752279,review,fspafahrenholtz,"Use the placeholder domain. `noemail.com` is a real domain that redirects to a sketchy website. ```suggestion                     EnabledByUserEmail = companyInfo.UserEmail ?? $""{companyInfo.CompanyGuid}@example.com"" ```",2025-01-23T22:14:32Z,2025-01-23T22:16:37Z,NickHotalling-FSP,"FSP-10530 Account for null values returned from commonapi"
TrainingHubApi,335,1927753921,review,fspafahrenholtz,"![](https://media.giphy.com/media/hXDrTueJWAscK3xWQ2/giphy.gif?cid=790b7611yx7or449ik7xp7oimr77b32ynwrbj1th4lbpcruz&ep=v1_gifs_search&rid=giphy.gif&ct=g)",2025-01-23T22:16:31Z,2025-01-23T22:16:37Z,NickHotalling-FSP,"FSP-10530 Account for null values returned from commonapi"
TrainingHubApi,334,1925974923,review,chriscovert,"💡 Add required modifier to non-null strings",2025-01-22T21:12:17Z,2025-01-22T21:12:17Z,NickHotalling-FSP,"FSP-10530 Send company info to Sporty's when operator integration is enabled"
TrainingHubApi,333,1924020689,review,NickHotalling-FSP,"💡 Should this just be called DeleteUserAlerts? Looks like it's deleting by type and there's no date on the UserAlert.",2025-01-21T16:20:13Z,2025-01-21T16:20:13Z,chriscovert,"FSP-10498 Remove Price Prep alerts when new price is applied"
TrainingHubApi,333,1924152641,review,chriscovert,"Yeah, that name is misleading. It's fixed now.",2025-01-21T17:50:57Z,2025-01-21T17:50:57Z,chriscovert,"FSP-10498 Remove Price Prep alerts when new price is applied"
TrainingHubApi,332,1918741675,review,chriscovert,"❔ I wonder if we need both TrainingDb and MongoDb records here... Could one dataset be used for both auditing and history?",2025-01-16T15:16:42Z,2025-01-16T15:16:42Z,NickHotalling-FSP,"FSP-10421 Track history of operator enabling/disabling a content provider integration"
TrainingHubApi,332,1918837653,review,NickHotalling-FSP,"We were already logging to Mongo for the CommonApi side of this, and there was a similar ask to track history in the database for pulling power BI reports. If we feel Mongo is overkill with the addition of the db tracking, I can remove it.",2025-01-16T16:18:12Z,2025-01-16T16:18:13Z,NickHotalling-FSP,"FSP-10421 Track history of operator enabling/disabling a content provider integration"
TrainingHubApi,332,1918994121,review,NickHotalling-FSP,"Going to leave Mongo records in for now.",2025-01-16T18:14:41Z,2025-01-16T18:14:41Z,NickHotalling-FSP,"FSP-10421 Track history of operator enabling/disabling a content provider integration"
TrainingHubApi,330,1910889314,review,NickHotalling-FSP,"Now that Sporty's is providing the displayed completion percentage, we do not have to manually calculate progress. This test was for the manual progress calculation.",2025-01-10T18:33:00Z,2025-01-10T18:33:01Z,NickHotalling-FSP,"FSP-10135 New Sporty's Course Progress Properties"
SchedulingHubApi,273,2884698649,issue,fspafahrenholtz,"Making it a draft as I found another scenario that isn't covered (`SchedulingGroupIds` and `AircraftIds` filled but no matching record in `SchedulingGroupAircraft`).",2025-05-15T18:19:34Z,2025-05-15T18:19:34Z,fspafahrenholtz,"FSP-11510 Fix a regression where events with only aircraft are removed"
SchedulingHubApi,273,2885190562,issue,fspafahrenholtz,"Never mind, that scenario (`SchedulingGroupIds` but no corresponding `SchedulingGroupAircraft`) shouldn't occur",2025-05-15T22:28:56Z,2025-05-15T22:28:56Z,fspafahrenholtz,"FSP-11510 Fix a regression where events with only aircraft are removed"
SchedulingHubApi,272,2089851986,review,NickHotalling-FSP,"💡 Could probably skip the if check",2025-05-14T22:26:22Z,2025-05-14T22:26:22Z,fspafahrenholtz,"FSP-11510 Include Scheduling Group aircraft in Aircraft validation check"
SchedulingHubApi,272,2090016194,review,fspafahrenholtz,"True...",2025-05-15T01:39:06Z,2025-05-15T01:39:07Z,fspafahrenholtz,"FSP-11510 Include Scheduling Group aircraft in Aircraft validation check"
SchedulingHubApi,272,2090028928,review,fspafahrenholtz,"✔️ ",2025-05-15T01:42:13Z,2025-05-15T01:42:14Z,fspafahrenholtz,"FSP-11510 Include Scheduling Group aircraft in Aircraft validation check"
SchedulingHubApi,271,2080812283,review,NickHotalling-FSP,"❔ are there `LessonType` consts we can use?",2025-05-09T02:45:24Z,2025-05-09T04:44:33Z,fspafahrenholtz,"FSP-11462 Trim flight events with no aircraft from being solved"
SchedulingHubApi,271,2080813044,review,NickHotalling-FSP,"Tim said for scheduling groups, the FE sends all of its aircraft ids, right? I think the bit I was just working on took either aircraft ids OR scheduling group ids, so just double checking.",2025-05-09T02:46:35Z,2025-05-09T04:44:33Z,fspafahrenholtz,"FSP-11462 Trim flight events with no aircraft from being solved"
SchedulingHubApi,271,2080921728,review,NickHotalling-FSP,"wow, what a concise test!",2025-05-09T04:44:11Z,2025-05-09T04:44:33Z,fspafahrenholtz,"FSP-11462 Trim flight events with no aircraft from being solved"
SchedulingHubApi,271,2081785915,review,fspafahrenholtz,"There isn't but it is on the list of things to do to clean this code up. We should really use `enum`s instead of strings.  Unless the FE is removing Scheduling Groups/Scheduling Group Aircraft based on the underlying aircraft availability then we shouldn't have a problem. ",2025-05-09T14:16:56Z,2025-05-09T14:16:56Z,fspafahrenholtz,"FSP-11462 Trim flight events with no aircraft from being solved"
SchedulingHubApi,270,2068699823,review,fspafahrenholtz,"💡  ```suggestion         var overlappingReservationTime = new TimeBlock ```",2025-04-30T13:44:36Z,2025-04-30T14:20:11Z,NickHotalling-FSP,"FSP-11188 ReservationAvailability can check for specific scheduling group slot"
SchedulingHubApi,270,2068700625,review,fspafahrenholtz,"💡  ```suggestion         var reservationTime = new TimeBlock ```",2025-04-30T13:44:59Z,2025-04-30T14:20:11Z,NickHotalling-FSP,"FSP-11188 ReservationAvailability can check for specific scheduling group slot"
SchedulingHubApi,270,2068732012,review,fspafahrenholtz,"💡  ```suggestion         var reservationTime = new TimeBlock ```",2025-04-30T14:00:51Z,2025-04-30T14:20:11Z,NickHotalling-FSP,"FSP-11188 ReservationAvailability can check for specific scheduling group slot"
SchedulingHubApi,270,2068732587,review,fspafahrenholtz,"💡  ```suggestion         var overlappingReservationTime = new TimeBlock ```",2025-04-30T14:01:09Z,2025-04-30T14:20:11Z,NickHotalling-FSP,"FSP-11188 ReservationAvailability can check for specific scheduling group slot"
SchedulingHubApi,270,2068767399,review,fspafahrenholtz,"Please remove the comments, the code is self explanatory.",2025-04-30T14:19:24Z,2025-04-30T14:20:11Z,NickHotalling-FSP,"FSP-11188 ReservationAvailability can check for specific scheduling group slot"
SchedulingHubApi,270,2068768693,review,fspafahrenholtz,"👏 I like the `because` statements",2025-04-30T14:20:06Z,2025-04-30T14:20:11Z,NickHotalling-FSP,"FSP-11188 ReservationAvailability can check for specific scheduling group slot"
SchedulingHubApi,267,2039819619,review,fspafahrenholtz,"💡 It would be nice to have a better test name to denote what scenario this test is testing even if it's just `HappyPath`",2025-04-11T15:42:46Z,2025-04-11T15:42:55Z,danwatkins-fsp,"FSP-11236 Add AutoBillingAtUtc request property to reservation billing patch"
SchedulingHubApi,267,2039875864,review,danwatkins-fsp,"What would adding `_HappyPath` improve? I've always written ""happy path"" tests without any boilerplate on the end because by convention you know it's a ""happy path"" test.  Usually there are multiple things being asserting in these tests, so I don't think it's necessary or readable to put all that in the name of the test.",2025-04-11T16:16:23Z,2025-04-11T16:16:23Z,danwatkins-fsp,"FSP-11236 Add AutoBillingAtUtc request property to reservation billing patch"
SchedulingHubApi,267,2040099427,review,fspafahrenholtz,"I don't consider the name of the test to be boilerplate. It's documentation of the intent of the test without much detail much like a method name. I agree the test name doesn't have to include everything that is being asserted especially on a happy path test. I usually denote happy path tests with something more vague about the multiple assertions e.g. `_UpdatesReservationBilling`, `_ReturnsReservationBilling`, `_PatchesReservationBilling`.  I know `PatchReservationBilling()` is an established pattern elsewhere and we don't have a standard test naming guideline yet hence the 💡 .",2025-04-11T18:32:30Z,2025-04-11T18:32:31Z,danwatkins-fsp,"FSP-11236 Add AutoBillingAtUtc request property to reservation billing patch"
SchedulingHubApi,260,1911717139,review,fspafahrenholtz,"This test would fail after 4pm CST or after 5pm CDT due to the comparison of a DateTimeOffset that has a `Kind` of `UTC`. Using the underlying `DateTime` on the `DateTimeOffset` forces that `Kind` to `Unspecified` which matches `x.EndAt`'s `Kind`.",2025-01-10T23:36:10Z,2025-01-10T23:36:11Z,fspafahrenholtz,"Run all tests on every PR commit"
SchedulingHubApi,258,2527761980,review_summary,danwatkins-fsp,"I did some real time measuring with this locally and am observing an 82% reduction in actual test suite run time. This is a huge improvement 👏.  ``` time dotnet test --no-restore --verbosity minimal ```  Before with 260s average (7788b4e22469da8462f9862d394c5f1b1fb289ba) - Run 1: 3m59.473s - Run 2: 3m59.995s  After with 47s average (fa0aa18699247224dbad0e140871cf858efeb680) - Run 1: 0m45.775s - Run 2: 0m48.389s",2025-01-02T15:25:47Z,2025-01-02T15:25:47Z,fspafahrenholtz,"Improve integration test performance"
SchedulingHubApi,257,1907930954,review,benvanasse-fsp,"The formatting hurts my head, but I suppose its kosher",2025-01-08T22:22:48Z,2025-01-08T22:22:48Z,fspafahrenholtz,"FSP-10049 Allow multiple scheduling groups on an event"
SchedulingHubApi,257,1907931778,review,benvanasse-fsp,"Thanks for adding this. It was a todo for a while.",2025-01-08T22:23:54Z,2025-01-08T22:23:55Z,fspafahrenholtz,"FSP-10049 Allow multiple scheduling groups on an event"
SchedulingHubApi,257,1907942559,review,fspafahrenholtz,"It is funky looking; the Resharper/Rider rules make it so.",2025-01-08T22:39:26Z,2025-01-08T22:39:26Z,fspafahrenholtz,"FSP-10049 Allow multiple scheduling groups on an event"
MaintenanceHubApi,960,2734552392,issue,danwatkins-fsp,"@fspafahrenholtz These test run on PR build because they inherit from `BaseTests` now which has the [DockerTests category](https://github.com/Flight-Schedule-Pro/MaintenanceHubApi/blob/9b26871d58388378d6518d6dcfd9d3d4804b0d99/MaintenanceHubApi/Tests/MaintenanceHubApi.IntegrationTests/Utility/BaseTests.cs#L32) which runs them with the [dotnet test filter expression](https://github.com/Flight-Schedule-Pro/MaintenanceHubApi/blob/9b26871d58388378d6518d6dcfd9d3d4804b0d99/.github/workflows/pull-request-build.yaml#L47). If you search the PR build log you'll see the stock record tests there. They were actually failing the PR build and I had to make a fix so I know they block PR build.",2025-03-18T19:55:16Z,2025-03-18T19:55:16Z,danwatkins-fsp,"FSP-11067 Fix stock record tests and run on PR build"
MaintenanceHubApi,960,2001730954,review,fspafahrenholtz,"💡 I've started adding `CancellationToken`s (`CancellationToken cancellationToken = default`) to all Client methods so it gives the consumer the choice of including it or not. This helps with `CancellationToken` adoption down the line.",2025-03-18T18:28:18Z,2025-03-18T18:35:35Z,danwatkins-fsp,"FSP-11067 Fix stock record tests and run on PR build"
MaintenanceHubApi,960,2001732117,review,fspafahrenholtz,"Good catch!",2025-03-18T18:29:10Z,2025-03-18T18:35:35Z,danwatkins-fsp,"FSP-11067 Fix stock record tests and run on PR build"
MaintenanceHubApi,960,2001886328,review,danwatkins-fsp,"See #961 which adds these wholesale.",2025-03-18T19:55:45Z,2025-03-18T19:55:45Z,danwatkins-fsp,"FSP-11067 Fix stock record tests and run on PR build"
MaintenanceHubApi,960,2695812090,review_summary,fspafahrenholtz,"This doesn't look like this gets run on PR build like the PR title states. Typo/copy-paste error?",2025-03-18T18:35:35Z,2025-03-18T18:35:35Z,danwatkins-fsp,"FSP-11067 Fix stock record tests and run on PR build"
MaintenanceHubApi,959,1990158315,review,danwatkins-fsp,"Any ability to assert this in a test since those are working now and this matters enough to be a defect?",2025-03-11T21:34:58Z,2025-03-11T21:35:35Z,fspafahrenholtz,"FSP-11018 Attach primary key guid to attachment record"
MaintenanceHubApi,959,1990170361,review,fspafahrenholtz,"Yes, but not the best way: use `dbContext` to get what was stored in the database. And the best way would be to surface the attachment where it is used in Core API which isn't feasible. I'll add that test.",2025-03-11T21:47:49Z,2025-03-11T21:47:49Z,fspafahrenholtz,"FSP-11018 Attach primary key guid to attachment record"
MaintenanceHubApi,959,1990175655,review,fspafahrenholtz,"✔️ ",2025-03-11T21:53:31Z,2025-03-11T21:53:32Z,fspafahrenholtz,"FSP-11018 Attach primary key guid to attachment record"
MaintenanceHubApi,959,1990184204,review,danwatkins-fsp,"So we don't want to have this GUID on `AttachmentViewResponse` and just fetch the attachment by Id with `ApiClient.GetAttachment(OperatorId, attachmentId)`?",2025-03-11T22:03:05Z,2025-03-11T22:03:05Z,fspafahrenholtz,"FSP-11018 Attach primary key guid to attachment record"
MaintenanceHubApi,959,1990187310,review,fspafahrenholtz,"Right. The `PrimaryKeyGuid` is the id for the entity that the attachment is for. Core API will use the Squawk's id to pull the attachments on that Squawk and grab the urls for those attachments from the Attachment records.",2025-03-11T22:05:50Z,2025-03-11T22:05:50Z,fspafahrenholtz,"FSP-11018 Attach primary key guid to attachment record"
MaintenanceHubApi,959,1990193557,review,danwatkins-fsp,"Fair enough. I think if we were designing attachments today we would have never made `PrimaryKeyId` and only used the GUID. At that point a name like `ResourceGuid` would have made more sense, and that's something you'd be fine seeing in a response. All that to say, exposing `PrimaryKeyGuid` in the response does not seem bad form.",2025-03-11T22:12:53Z,2025-03-11T22:12:53Z,fspafahrenholtz,"FSP-11018 Attach primary key guid to attachment record"
MaintenanceHubApi,957,2701643372,issue,danwatkins-fsp,"@fspafahrenholtz Can this go with your attachment changes soon?",2025-03-05T17:42:28Z,2025-03-05T17:42:28Z,danwatkins-fsp,"FSP-10876 Make workItemGuid request property non-null on POST and PUT /partRequests"
MaintenanceHubApi,956,1977746902,review,NickHotalling-FSP,"```suggestion     <PackageVersion Include=""Fsp.AuditLogs"" Version=""15.83.0"" /> ``` don't forget to remove local",2025-03-03T15:45:12Z,2025-03-03T15:50:50Z,fspafahrenholtz,"FSP-10773 Allow for attachments to Squawks"
MaintenanceHubApi,956,1977750090,review,NickHotalling-FSP,"❔ Do we need to call out that the user can't view AND manage squawks?",2025-03-03T15:47:13Z,2025-03-03T15:50:50Z,fspafahrenholtz,"FSP-10773 Allow for attachments to Squawks"
MaintenanceHubApi,956,1980167527,review,fspafahrenholtz,"Good catch ✔️ ",2025-03-04T20:15:20Z,2025-03-04T20:15:21Z,fspafahrenholtz,"FSP-10773 Allow for attachments to Squawks"
MaintenanceHubApi,956,1983486777,review,fspafahrenholtz,"I don't think so since this is only for the Get permissions. The message is only saying that they are missing enough permissions to view squawks without saying what those permissions would be.",2025-03-06T14:43:55Z,2025-03-06T14:43:56Z,fspafahrenholtz,"FSP-10773 Allow for attachments to Squawks"
MaintenanceHubApi,955,1976447666,review,NickHotalling-FSP,"Just checking - is this todo for future work or is it part of this ticket?",2025-03-01T16:27:29Z,2025-03-01T16:31:36Z,fspafahrenholtz,"FSP-10771 Support Maintenance Reminder and Reminder Resolution attachments"
MaintenanceHubApi,955,1979884919,review,fspafahrenholtz,"There is a story for [auditing squawks](https://flightschedulepro.atlassian.net/browse/FSP-10293) but not maintenance reminders. I'll make that change to the comment.",2025-03-04T17:12:08Z,2025-03-04T17:12:09Z,fspafahrenholtz,"FSP-10771 Support Maintenance Reminder and Reminder Resolution attachments"
MaintenanceHubApi,947,1954655880,review,fspafahrenholtz,"💡 It feels wrong to throw an exception when you're about to use a variable instead of on instantiation of that variable.  ```suggestion             await _fileImportService.ImportFile(fileImportMessage); ```  GitHub isn't allowing me to select the previous line in my suggestion 😢 : `var fileImportMessage = JsonConvert.DeserializeObject<FileImportEnqueueMessage>(queueItem) ?? : throw new InvalidOperationException(nameof(fileImportMessage));`",2025-02-13T14:55:53Z,2025-02-13T15:14:32Z,timsquires,"FSP-10782 part import updates"
MaintenanceHubApi,947,1954705952,review,fspafahrenholtz,"Most of this logging looks more like it should be `LogDebug`. It would be easier to set the log level as that is by config instead of having to do a code change to reduce logging once the problem has been resolved.",2025-02-13T15:14:01Z,2025-02-13T15:14:32Z,timsquires,"FSP-10782 part import updates"
MaintenanceHubApi,947,1954785520,review,timsquires,"I was unable to do this as suggested, the `nameof(fileImportMessage)` complained about using the variable before it's declared, how about this?",2025-02-13T15:58:13Z,2025-02-13T15:58:13Z,timsquires,"FSP-10782 part import updates"
MaintenanceHubApi,947,1954785837,review,timsquires,"Changed these to debug",2025-02-13T15:58:25Z,2025-02-13T15:58:25Z,timsquires,"FSP-10782 part import updates"
MaintenanceHubApi,947,1954814593,review,fspafahrenholtz,"💡 May be better to say it is `nameof(queueItem)` with a message saying that `queueItem` didn't serialize into `FileImportEnqueueMessage` correctly.",2025-02-13T16:15:16Z,2025-02-13T16:15:20Z,timsquires,"FSP-10782 part import updates"
MaintenanceHubApi,947,1954860201,review,timsquires,"I like that, I'll make that change. Would we also rather use `is null` over `== null`? my old .net habits are hard to kick apparently but I didn't notice until seeing it highlighted here",2025-02-13T16:43:31Z,2025-02-13T16:43:32Z,timsquires,"FSP-10782 part import updates"
MaintenanceHubApi,947,1954868687,review,fspafahrenholtz,"Meh, either is fine. `is` would is best used when needing multiple logic checks that could be done in a single line.",2025-02-13T16:47:51Z,2025-02-13T16:47:52Z,timsquires,"FSP-10782 part import updates"
MaintenanceHubApi,946,2608332420,issue,fspafahrenholtz,"All unit tests pass but many of the integration tests fail due to them expecting an existing database with data. This is a technical debt item that this PR is not meant to solve.",2025-01-22T21:43:55Z,2025-01-22T21:43:55Z,fspafahrenholtz,"Use NUnit for tests and Docker for integration tests"
MaintenanceHubApi,946,1927182604,review,danwatkins-fsp,"I thought @chriscovert got these working with a local database recently in #940. When I run them locally I get a SQL connection failure. Do these pass for you? `FileImportFunctionTests` should pass as well from #941. Could add a filtered `dotnet test` to PR build for these as evidence possibly.",2025-01-23T15:33:18Z,2025-01-23T15:33:22Z,fspafahrenholtz,"Use NUnit for tests and Docker for integration tests"
MaintenanceHubApi,946,1927325619,review,fspafahrenholtz,"The `WorkOrderControllerTests` don't pass because the tests are each trying to add system types so there is a primary key violation. It looks like that has to do with multithreading so the tests all check if they need to add the system types at the same time. The process of adding system types could be part of the Docker container creation or making that test file run without parallelization (although I get 2 failed tests when run serially, one due to a bug in user creation and the other due to cross-test interactions).  Half of the `FileImportFunctionTests` fail due to what looks like the file upload not triggering an expected change.",2025-01-23T16:49:14Z,2025-01-23T16:49:15Z,fspafahrenholtz,"Use NUnit for tests and Docker for integration tests"
MaintenanceHubApi,946,1927334120,review,danwatkins-fsp,"Ok we'll have to just chip away at these over time. Seems like if you are coming in to work on an area of this API you should first make a PR getting the tests in your area passing.",2025-01-23T16:55:16Z,2025-01-23T16:55:16Z,fspafahrenholtz,"Use NUnit for tests and Docker for integration tests"
MaintenanceHubApi,946,1927337309,review,fspafahrenholtz,"Agreed; Boy Scout rule applies. This conversion was my cleanup for this story as I'll only be adding new endpoints. ",2025-01-23T16:57:26Z,2025-01-23T16:57:26Z,fspafahrenholtz,"Use NUnit for tests and Docker for integration tests"
BillingHubApi,1020,2093205674,review,danwatkins-fsp,"I think you want to fetch this using `IPaymentLinksSettingsService.GetPaymentLinksSettings`. Payment links is enabled by default for new operators, but they won't have a database row until they edit the settings. The service method returns a default object if one does not exist.",2025-05-16T14:51:25Z,2025-05-16T14:51:46Z,chriscovert,"FSP-11517 Show pay now button on emailed receipts if payment links enabled"
BillingHubApi,1019,2091990937,review,danwatkins-fsp,"The previous code did an early return only if `dbo.tblInvoicingPreferences` did not exist. As the code is written now, `Fetch` will never be called if `dbo.tblInvoicingPreferences` does not exist, so I'm not sure this early return is necessary anymore? ```suggestion ```",2025-05-15T21:34:02Z,2025-05-15T21:34:31Z,davidcooper-fsp,"FSP-11550 Optimize statement generation by removing unused SQL queries"
BillingHubApi,1019,2091995548,review,davidcooper-fsp,"I think this is still needed as if they were to have a partial result returned from the InvoicingPreferences table, then an object with properties that are all null values would be passed in.",2025-05-15T21:38:29Z,2025-05-15T21:39:18Z,davidcooper-fsp,"FSP-11550 Optimize statement generation by removing unused SQL queries"
BillingHubApi,1019,2092000972,review,danwatkins-fsp,"In the previous code it was based on a row existing or not. Now it's based on if the values are null or not which is a behavior change. Why do we need that?",2025-05-15T21:43:43Z,2025-05-15T21:43:43Z,davidcooper-fsp,"FSP-11550 Optimize statement generation by removing unused SQL queries"
BillingHubApi,1019,2092005656,review,davidcooper-fsp,"The code checks to see if the values are null when setting them in the response object, so this is just doing the same thing a little bit sooner in the code.",2025-05-15T21:48:33Z,2025-05-15T21:48:33Z,davidcooper-fsp,"FSP-11550 Optimize statement generation by removing unused SQL queries"
BillingHubApi,1015,2085441438,review,davidcooper-fsp,"Is there a scenario where they can add invoices, but shouldn't be able to see their own balance? Looks like this would allow them to view their own balance if they had the CanAddInvoices permission",2025-05-12T20:43:25Z,2025-05-12T20:43:25Z,danwatkins-fsp,"FSP-11470 Relax sales transaction fetch to allow user to fetch their own sale without add invoice permission"
BillingHubApi,1015,2085515935,review,danwatkins-fsp,"Anyone with CanAdInvoices can call this endpoint today and balance will be not null, so this is just preserving that. Users with CanAddInvoices are typically billing admins so I don't think we'd want to change this.",2025-05-12T21:14:33Z,2025-05-12T21:14:34Z,danwatkins-fsp,"FSP-11470 Relax sales transaction fetch to allow user to fetch their own sale without add invoice permission"
BillingHubApi,1011,2080492660,review,danwatkins-fsp,"Need to handle when there are returns that lower the amount due. ```suggestion             var amountDue = salesTransaction.TotalDue - (salesTransaction.TotalPaid ?? 0) - (salesTransaction.TotalReturned ?? 0); ```",2025-05-08T21:26:41Z,2025-05-08T21:34:56Z,danwatkins-fsp,"FSP-11371 Add AutoPaymentEnqueueFunction and AutoPaymentDequeueFunction"
BillingHubApi,1011,2080495755,review,danwatkins-fsp,"There would never be tax on this type of invoice. If there ever is in the future, it will fail validation and can be coded to make it work. ```suggestion                 salesTransactionSave.LineItems.Sum(x => x.LineItemTotal); ```",2025-05-08T21:29:54Z,2025-05-08T21:34:56Z,danwatkins-fsp,"FSP-11371 Add AutoPaymentEnqueueFunction and AutoPaymentDequeueFunction"
BillingHubApi,1011,2080498574,review,danwatkins-fsp,"This isn't a customer purchase, so use the location of the original invoice.",2025-05-08T21:33:00Z,2025-05-08T21:34:56Z,danwatkins-fsp,"FSP-11371 Add AutoPaymentEnqueueFunction and AutoPaymentDequeueFunction"
BillingHubApi,1009,2091838630,review,danwatkins-fsp,"Don't load billing preferences an extra time when this method already loads it through security context. ```suggestion         var currencySymbol = !string.IsNullOrEmpty( _securityContext.InvoicingPreferences.CurrencySymbol) ?             _securityContext.InvoicingPreferences.CurrencySymbol :             ""$""; ```",2025-05-15T19:31:07Z,2025-05-15T19:33:09Z,chriscovert,"FSP-11457 Add account balance to invoice receipts"
BillingHubApi,1009,2091839154,review,danwatkins-fsp,"```suggestion         var locationIdToFetch = _securityContext.InvoicingPreferences.TrackLocations && invoice.LocationId.HasValue ? ```",2025-05-15T19:31:32Z,2025-05-15T19:33:09Z,chriscovert,"FSP-11457 Add account balance to invoice receipts"
BillingHubApi,1009,2093071152,review,chriscovert,"I was thinking it would be good to avoid using SecurityContext for new code, but I guess since it's already loaded here it's better to use it.",2025-05-16T13:37:43Z,2025-05-16T13:37:43Z,chriscovert,"FSP-11457 Add account balance to invoice receipts"
BillingHubApi,1009,2093086183,review,danwatkins-fsp,"Yeah it would have made sense to replace the one security context usage with the one you were loading directly. Either way it's fine now.  We do need to start cleaning it up as I just made a mistake using `_securityContext.InvoicingPreferences` in `AutoPaymentDequeueFunction` I need to fix. David reminded me yesterday there is no OperatorId in the HttpContext (unless you call `IApiAuthenticationService.LoadOperatorClaims`). This was a bug in auto billing where it caches an operator's preferences at random (while running another Azure Function in the same process). Then when auto billing ran, it might have the UK currency code loaded and would fail to make a Payrix requrest when it needed US code.",2025-05-16T13:46:01Z,2025-05-16T13:46:01Z,chriscovert,"FSP-11457 Add account balance to invoice receipts"
BillingHubApi,1006,2075524740,review,danwatkins-fsp,"```suggestion     public string? WorkOrderNumber { get; set; }     public string? EmployeeName { get; set; }     public bool ShowEmployee { get; set; }     public string? PurchaseMethod { get; set; }     public string? InvoiceDate { get; set; }     public string? ActivityDate { get; set; }     public bool ShowActivityDate { get; set; }     public bool ShowReservationFor { get; set; }     public string? ReservationFor { get; set; }     public string? InvoiceMessage { get; set; }     public string? AdminMessage { get; set; }     public string? CustomerName { get; set; }     public string? CustomerPhone { get; set; }     public string? CustomerAddress { get; set; }     public string? DiscountGroup { get; set; }     public decimal? DiscountGroupMinimum { get; set; }     public string? Location { get; set; }     public string? Phone { get; set; }     public string? Address { get; set; }     public string? Email { get; set; }     public string? AdditionalInfo { get; set; }     public List<SalesReceiptLineItemFetch> LineItems { get; set; } = new();     public List<SalesReceiptTaxFetch> Taxes { get; set; } = new();     public List<SalesReceiptPaymentFetch> Payments { get; set; } = new();     public List<SalesReceiptTrainingSessionFetch> TrainingSessions { get; set; } = new();     public bool HasTrainingSessions { get; set; }     public string? SubTotal { get; set; }     public string? Surcharge { get; set; }     public bool HasSurcharge { get; set; }     public string? Total { get; set; }     public string? AmountDue { get; set; }     public bool IsPaid { get; set; }     public string? TransactionDate { get; set; }     public string? TerminalTransactionApplicationId { get; set; }     public string? TerminalTransactionApplicationLabel { get; set; }     public string? TerminalTransactionCryptogram { get; set; }     public string? CcHostInfo { get; set; }     public bool ShowSignatureLine { get; set; }     public string? SignatureText { get; set; }     public string? SmallPadlockImage { get; set; }     public string? LargePadlockImage { get; set; }     public string? WarningImage { get; set; } }  public record SalesReceiptLineItemFetch {     public string? Name { get; set; }     public string? RateTypeName { get; set; }     public string? LineItemEquation { get; set; }     public string? LineItemTotal { get; set; }     public string? LineItemDiscountTotal { get; set; }     public string? Desc { get; set; }     public string? Note { get; set; }     public string? FormattedQty { get; set; } }  public record SalesReceiptTaxFetch {     public string? Name { get; set; }     public string? Amount { get; set; } }  public record SalesReceiptPaymentFetch {     public string? Name { get; set; }     public string? Amount { get; set; }     public string? Note { get; set; }     public string? SmallPadlockImage { get; set; } } ```",2025-05-06T13:49:06Z,2025-05-06T13:55:24Z,chriscovert,"FSP-11142 Updates to invocie receipts"
BillingHubApi,1006,2075525360,review,danwatkins-fsp,"```suggestion ```",2025-05-06T13:49:27Z,2025-05-06T13:55:24Z,chriscovert,"FSP-11142 Updates to invocie receipts"
BillingHubApi,1006,2075526037,review,danwatkins-fsp,"```suggestion             amountDue = remaining; ```",2025-05-06T13:49:46Z,2025-05-06T13:55:24Z,chriscovert,"FSP-11142 Updates to invocie receipts"
BillingHubApi,1006,2075526427,review,danwatkins-fsp,"```suggestion                         SmallPadlockImage = smallPadlockImageUrl ```",2025-05-06T13:49:59Z,2025-05-06T13:55:24Z,chriscovert,"FSP-11142 Updates to invocie receipts"
BillingHubApi,1006,2075526712,review,danwatkins-fsp,"```suggestion         data.SmallPadlockImage = smallPadlockImageUrl; ```",2025-05-06T13:50:08Z,2025-05-06T13:55:24Z,chriscovert,"FSP-11142 Updates to invocie receipts"
BillingHubApi,1006,2087432408,review,danwatkins-fsp,"Is this just for debugging and we don't need this anymore? ```suggestion ```",2025-05-13T18:44:16Z,2025-05-13T18:44:30Z,chriscovert,"FSP-11142 Updates to invocie receipts"
BillingHubApi,1006,2818366641,review_summary,danwatkins-fsp,"Normally you would [run this through product acceptance before code review since it's a user facing change](https://github.com/Flight-Schedule-Pro/Standards/blob/master/Back-End/release-process.md?plain=1#L86).  Also the prices don't all seem right aligned together. The designs had this as well, but it looks off IMO:  ![image](https://github.com/user-attachments/assets/aad500e5-1bdb-4645-a3e2-ead1deb9101c) ",2025-05-06T13:55:24Z,2025-05-06T13:55:24Z,chriscovert,"FSP-11142 Updates to invocie receipts"
BillingHubApi,1005,2072128976,review,danwatkins-fsp,"There are a lot of unnecessary comments scattered about ```suggestion                 SyncFrequency = AccountingSyncFrequency.Nightly ```",2025-05-02T20:41:26Z,2025-05-02T20:57:36Z,chriscovert,"FSP-11383 Update AccountingSyncFunctions to handle nightly and hourly frequencies"
BillingHubApi,1005,2072131874,review,danwatkins-fsp,"This file does not conform to DotSettings formatting.",2025-05-02T20:44:44Z,2025-05-02T20:57:36Z,chriscovert,"FSP-11383 Update AccountingSyncFunctions to handle nightly and hourly frequencies"
BillingHubApi,1005,2072137580,review,danwatkins-fsp,"Comment is redundant due to self documenting code. ```suggestion         _azureServiceBusQueuedMessages.Should().HaveCount(2); ```",2025-05-02T20:51:04Z,2025-05-02T20:57:36Z,chriscovert,"FSP-11383 Update AccountingSyncFunctions to handle nightly and hourly frequencies"
BillingHubApi,1005,2072142730,review,danwatkins-fsp,"Comment is unnecessary and doesn't explain what it actually does. ```suggestion ```",2025-05-02T20:57:11Z,2025-05-02T20:57:36Z,chriscovert,"FSP-11383 Update AccountingSyncFunctions to handle nightly and hourly frequencies"
BillingHubApi,1000,2064118696,review,danwatkins-fsp,"Is the point of this so the FE only shows CC payment methods when choosing a mapping for a CC FSP payment method? I wonder if AC1.1.a.ii just meant those granular options should be included, but it's fine for cash and check to show up.",2025-04-28T17:09:18Z,2025-04-28T17:09:52Z,chriscovert,"FSP-11386 Add isCreditCard filter to Accounting Sync PaymentMethods fetch"
BillingHubApi,1000,2064254626,review,chriscovert,"This was for FE to filter the CC mapping dropdowns to only CC types, and the non-CC mappings to only non-CC types. Josh and I were both thinking since the prototype splits them into mappings for CC vs non-CC, we should filter the dropdowns in the UI.",2025-04-28T18:25:11Z,2025-04-28T18:25:11Z,chriscovert,"FSP-11386 Add isCreditCard filter to Accounting Sync PaymentMethods fetch"
BillingHubApi,1000,2064343686,review,danwatkins-fsp,"Seems fine, but it would disallow mapping a custom payment method not recognized as CC by QBO. Not sure if that would be possible.",2025-04-28T19:04:58Z,2025-04-28T19:04:58Z,chriscovert,"FSP-11386 Add isCreditCard filter to Accounting Sync PaymentMethods fetch"
BillingHubApi,1000,2070394334,review,chriscovert,"Confirmed with Kathryne that this filter is the behavior we wanted",2025-05-01T15:16:02Z,2025-05-01T15:16:03Z,chriscovert,"FSP-11386 Add isCreditCard filter to Accounting Sync PaymentMethods fetch"
BillingHubApi,999,2831374474,issue,fspafahrenholtz,"> Long term we should probably run the real CommonApi in assembly with these tests and point it at the same database container.  ![](https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExMXdlNG1obndkbnRzZDNqb3QycmFvcWJhbG45cHloODFkcjIwZnJtcSZlcD12MV9naWZzX3NlYXJjaCZjdD1n/5nFShZWwq3fdm/giphy.gif)",2025-04-25T20:30:04Z,2025-04-25T20:30:04Z,danwatkins-fsp,"FSP-11345 Apply discounts on create customer purchase endpoint"
BillingHubApi,999,2063768842,review,fspafahrenholtz,"![](https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExd2t2NjllaXJuODhkOHQwdXhsNHlmdjlva3NkNmlvNGk2ZnM0eDYzNSZlcD12MV9naWZzX3NlYXJjaCZjdD1n/3osxYaDlxLcexsQiKk/giphy.gif)  Is this an EF Core 8 feature? I'm ready to use this everywhere I can...",2025-04-28T14:19:55Z,2025-04-28T16:24:20Z,danwatkins-fsp,"FSP-11345 Apply discounts on create customer purchase endpoint"
BillingHubApi,999,2063788175,review,fspafahrenholtz,"`Include` isn't needed when using a `Select` ```suggestion         var roleDiscountGroupsIds = await _coreDataContext.DiscountGroupRoleJoiners ```",2025-04-28T14:29:40Z,2025-04-28T16:24:20Z,danwatkins-fsp,"FSP-11345 Apply discounts on create customer purchase endpoint"
BillingHubApi,999,2064037604,review,fspafahrenholtz,"💡 `Person` can be set up to do these joins so only one query needs to be done. See Common API for how it connects a [Location to a Person](https://github.com/Flight-Schedule-Pro/CommonApi/blob/master/CommonApi.Data/CommonDbContext.cs#L434).",2025-04-28T16:19:27Z,2025-04-28T16:24:20Z,danwatkins-fsp,"FSP-11345 Apply discounts on create customer purchase endpoint"
BillingHubApi,999,2064064975,review,danwatkins-fsp,"The generated queries from that joiner navigation strategy in CommonApi have been more complicated than I'd like, so I just used the joiner table directly because that's all I needed.  If you want to combine the role and user queries, you would want a left join off dbo.DiscountGroups to the joiners and I'm not sure it would generate that.  The [left join coming in EF 10](https://github.com/dotnet/core/blob/main/release-notes/10.0/preview/preview1/efcore.md#support-for-the-net-10-leftjoin-operator) could be interesting for this.",2025-04-28T16:37:31Z,2025-04-28T16:37:31Z,danwatkins-fsp,"FSP-11345 Apply discounts on create customer purchase endpoint"
BillingHubApi,999,2064096572,review,fspafahrenholtz,"I'm confused on where `dbo.DiscountGroups` would enter this query but that sounds like business logic that I don't know about and would need to be prioritized over EF entity purity.  Left Join does look cool. Now we gotta upgrade all the APIs to EF/NET 10.",2025-04-28T16:55:17Z,2025-04-28T16:55:18Z,danwatkins-fsp,"FSP-11345 Apply discounts on create customer purchase endpoint"
BillingHubApi,999,2799486588,review_summary,fspafahrenholtz,"Didn't finish up my review before this got merged. Just some minor/not required things that could be done.",2025-04-28T16:24:20Z,2025-04-28T16:24:20Z,danwatkins-fsp,"FSP-11345 Apply discounts on create customer purchase endpoint"
BillingHubApi,996,2060286206,review,davidcooper-fsp,"Any reason this is different from the product? `AllowPurchaseOnline` vs `AllowOnlinePurchase` ",2025-04-25T13:51:16Z,2025-04-25T13:51:16Z,danwatkins-fsp,"FSP-11281 Add AllowPurchaseOnline to line item and require true for customer purchase"
BillingHubApi,996,2060304712,review,danwatkins-fsp,"`AllowPurchaseOnline` is correct, the validate model was just wrong having `AllowOnlinePurchase`. Just updated this.",2025-04-25T14:00:57Z,2025-04-25T14:00:58Z,danwatkins-fsp,"FSP-11281 Add AllowPurchaseOnline to line item and require true for customer purchase"
BillingHubApi,992,2051167815,review,chriscovert,"💡 For the NetSuite tests, I've been making a test class per endpoint and adding them to the AccountingSyncController tests",2025-04-18T21:57:31Z,2025-04-18T21:57:31Z,davidcooper-fsp,"FSP-11065 Get Connection Returns No Content when there's no consumer"
BillingHubApi,991,2050881145,review,danwatkins-fsp,"Didn't we just make these required yesterday? ```suggestion     public required string Id { get; set; } ```",2025-04-18T17:07:43Z,2025-04-18T17:09:31Z,chriscovert,"FSP-11022 Add NetSuite to AccountingSync Customer Create"
BillingHubApi,991,2050883268,review,danwatkins-fsp,"Your PR title suggests this is doing a NetSuite direct call, but it appears to be through ApiDeck still?",2025-04-18T17:09:27Z,2025-04-18T17:09:31Z,chriscovert,"FSP-11022 Add NetSuite to AccountingSync Customer Create"
BillingHubApi,991,2050950924,review,chriscovert,"The ApiDeck calls worked okay for customer creates so I left them. The product create in the next card just wouldn't work through ApiDeck, so it ended up being netsuite direct call.",2025-04-18T18:05:46Z,2025-04-18T18:05:46Z,chriscovert,"FSP-11022 Add NetSuite to AccountingSync Customer Create"
BillingHubApi,991,2050962896,review,danwatkins-fsp,"Ok, what I'm confused about is why there is already a CreateCustomers method.",2025-04-18T18:19:44Z,2025-04-18T18:19:45Z,chriscovert,"FSP-11022 Add NetSuite to AccountingSync Customer Create"
BillingHubApi,991,2050972888,review,chriscovert,"I only see this one CreateCustomer for ApiDeck/NetSuite. The one in AccountingSyncService calls this or qbo's based on the accounting package they're using. Unless there was a merge conflict and another one got copied I'm not seeing?",2025-04-18T18:30:44Z,2025-04-18T18:30:44Z,chriscovert,"FSP-11022 Add NetSuite to AccountingSync Customer Create"
BillingHubApi,991,2050975334,review,danwatkins-fsp,"This is the one and only CreateCustomer. It already exists on master, so does that mean this is a bug fix and what is in master doesn't already create a customer correctly?",2025-04-18T18:33:06Z,2025-04-18T18:33:07Z,chriscovert,"FSP-11022 Add NetSuite to AccountingSync Customer Create"
BillingHubApi,991,2050994216,review,chriscovert,"Yeah, the existing method was stubbed out early, but the feature wasn't full working for netsuite enabled operators until this card was completed.",2025-04-18T18:51:27Z,2025-04-18T18:51:27Z,chriscovert,"FSP-11022 Add NetSuite to AccountingSync Customer Create"
BillingHubApi,990,2050629621,review,NickHotalling-FSP,"Can you add a test for the NotAuthorizedException?",2025-04-18T13:28:07Z,2025-04-18T13:28:24Z,chriscovert,"FSP-11020 Add NetSuite support to AccountingSync Misc Settings PUT"
BillingHubApi,990,2050670617,review,chriscovert,"I was leaning on the tests in `AccountingSyncTests` for auth, thinking I didn't need to dupe any here - but I'm glad you called that out, because by adding more here I found an issue with the way package names were verified. Thanks!",2025-04-18T13:59:48Z,2025-04-18T13:59:48Z,chriscovert,"FSP-11020 Add NetSuite support to AccountingSync Misc Settings PUT"
BillingHubApi,988,2050632479,review,danwatkins-fsp,"Why break pattern and test this through an in-memory EF DB? These tests should be invoking the Azure Function in `CustomerStatementEmailerFunctionTests`.",2025-04-18T13:30:56Z,2025-04-18T14:17:36Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2050638553,review,danwatkins-fsp,"Alphabetize like the others",2025-04-18T13:38:00Z,2025-04-18T14:17:36Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2050646994,review,danwatkins-fsp,"```suggestion } ```",2025-04-18T13:43:15Z,2025-04-18T14:17:36Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2050647271,review,danwatkins-fsp,"```suggestion         builder.ConfigureServices((_, services) => _configureServicesOverride.Invoke(services)); ```",2025-04-18T13:43:30Z,2025-04-18T14:17:36Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2050647456,review,danwatkins-fsp,"```suggestion ```",2025-04-18T13:43:43Z,2025-04-18T14:17:36Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2050656482,review,danwatkins-fsp,"Unused ```suggestion ```",2025-04-18T13:51:19Z,2025-04-18T14:17:36Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2050658791,review,danwatkins-fsp,"There is already a statement service so these methods should go there. ```suggestion ```",2025-04-18T13:53:30Z,2025-04-18T14:17:36Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2050662422,review,danwatkins-fsp,"💡It's a bit overkill trying to query the email out when we know it by convention. ```suggestion         enqueued.Should().Contain(x => x.OperatorId == operatorId1 && x.Email == $""{user1Guid}@flightschedulepro.com"");         enqueued.Should().Contain(x => x.OperatorId == operatorId2 && x.Email == $""{user2Guid}@flightschedulepro.com""); ```",2025-04-18T13:56:06Z,2025-04-18T14:17:36Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2050678413,review,danwatkins-fsp,"This is a lot of boilerplate repeated in every test that needs a TestUtility method. The if/else logic is unnecessary because the if block will never be executed.  ```suggestion         await TestUtility.UpdateStatementPreferences(operatorId1, x => x.AutoSendStatements = true);         await TestUtility.UpdateStatementPreferences(operatorId2, x => x.AutoSendStatements = true); ```",2025-04-18T14:03:29Z,2025-04-18T14:17:36Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2050687144,review,danwatkins-fsp,"How are you planning to get this tested so we know it works on the first try in production? At a minimum we will need testing in feature-1. I'm thinking we will also want to do a dry run of this on the production database to see which operators and users will be sent statements. You could run it against last month and we can see if the results are close to what the logs show from the 4/1 run.",2025-04-18T14:11:26Z,2025-04-18T14:17:36Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2050693103,review,danwatkins-fsp,"I believe our queue trigger function will process messages concurrently. While this delay is good, there will be a bit of a slam per operator when all the users are enqeueud at once. The approach used for auto billing was a delay between messages so that no two messages had the same delay.  Regardless of how the delay is configured, it's a bit of a guessing game because the queue trigger could get behind and then they are all piled up again. As an extra safety measure, what do you think about making the generate statement queue trigger use the read replica database? I think this is a good use case for it because it's processing data from the last month and isn't time sensitive.",2025-04-18T14:16:22Z,2025-04-18T14:19:21Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2066408686,review,danwatkins-fsp,"This config needs to be added to appsettings.json which would make this override not necessary. ```suggestion ```",2025-04-29T13:26:27Z,2025-04-29T14:06:01Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2066415370,review,danwatkins-fsp,"Each test should have its own instance of `BillingEnqueueServiceFakeManager`, so this shouldn't be necessary. ```suggestion ```",2025-04-29T13:27:56Z,2025-04-29T14:06:01Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2066460522,review,danwatkins-fsp,"Nothing uses this edit action. This means two things: 1. There is no coverage for `AutoSendStatements` having any effect. 2. The method uses a different default for `AutoSendStatements` than the production app. Suggestion would be to use the same default (false), and require any tests needing it to be true to say so.",2025-04-29T13:36:40Z,2025-04-29T14:06:01Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2066494068,review,danwatkins-fsp,"To continue running at 6:00 CST: ```suggestion     public const string EveryFirstOfTheMonth = ""0 0 12 1 * *""; ```",2025-04-29T13:43:05Z,2025-04-29T14:06:01Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2066500896,review,danwatkins-fsp,"```suggestion namespace BillingHubApi.Core.Models; ```",2025-04-29T13:44:26Z,2025-04-29T14:06:01Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2066580575,review,danwatkins-fsp,"While this works, there isn't actually a foreign key relationship in the database. Since every table has an operator ID, we would end up with a huge amount of relationships to `Operator` if we did this. The original code in FspApps did a query expression to accomplish the join.",2025-04-29T14:00:41Z,2025-04-29T14:06:01Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2066592371,review,danwatkins-fsp,"💡The name suggests the delay between messages is being tested, but there are no assertions for that.",2025-04-29T14:03:07Z,2025-04-29T14:06:01Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2066595535,review,danwatkins-fsp,"Any reason for not using `UserGuid1` and `UserGuid2` from `BaseTests`? ```suggestion         var user1Guid = Guid.NewGuid();         var user2Guid = Guid.NewGuid(); ```",2025-04-29T14:03:47Z,2025-04-29T14:06:01Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2066599352,review,danwatkins-fsp,"Add these to appsettings.json to serve as documentation and provide defaults for tests.",2025-04-29T14:04:37Z,2025-04-29T14:06:01Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2066608785,review,danwatkins-fsp,"https://github.com/Flight-Schedule-Pro/Standards/blob/master/Back-End/database-guidelines.md?plain=1#L55",2025-04-29T14:06:50Z,2025-04-29T14:06:51Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2066612694,review,danwatkins-fsp,"Unresolving as this is still there.",2025-04-29T14:07:40Z,2025-04-29T14:07:41Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2067207883,review,danwatkins-fsp,"@davidcooper-fsp Did you end up running this against production and comparing the results to the old app? I just tried running it as a smoke test, but did not let it finish to get a conclusive comparison. I can't run the old app (because it doesn't build). My smoke test wasn't showing any users that would get enqueued.",2025-04-29T19:30:56Z,2025-04-29T19:30:56Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,988,2067486784,review,davidcooper-fsp,"Discussed this offline, dev has been compared and confirmed to be the same counts, and when this gets to production, we'll have a month where we use the log mode to compare the counts to the old FspApp",2025-04-29T21:56:10Z,2025-04-29T21:56:10Z,davidcooper-fsp,"FSP-2965 Migrate Customer Statement Emailer to Billing Hub Azure Functions"
BillingHubApi,985,2049339689,review,danwatkins-fsp,"💡I don't know if a default of empty string is desirable for most of these. ```suggestion     public required string Id { get; set; } ```",2025-04-17T16:56:03Z,2025-04-17T16:56:09Z,chriscovert,"FSP-11007 Add NetSuite to Accounting Sync Customer Search"
BillingHubApi,980,2042781579,review,danwatkins-fsp,"FSP paging starts at one, so I don't think this is that unusual? ```suggestion ```",2025-04-14T19:09:36Z,2025-04-14T19:18:50Z,chriscovert,"FSP-11145 Add NetSuite PaymentMethod list fetch"
BillingHubApi,980,2042786149,review,danwatkins-fsp,"Does this need to be stateful? This can be problematic when the client is used in Azure Functions where the instance is used for a while or possibly concurrently. May not be a problem now, but seems better to not do this. ```suggestion ```",2025-04-14T19:12:33Z,2025-04-14T19:18:50Z,chriscovert,"FSP-11145 Add NetSuite PaymentMethod list fetch"
BillingHubApi,980,2042788748,review,danwatkins-fsp,"There seems to be too many try+catch blocks. This exception thrown has to blow through two more catches before anything comes out. Additionally, the errorCede and errorMessage here wont be used for anythying since the exception is discarded in those catches.",2025-04-14T19:14:43Z,2025-04-14T19:18:50Z,chriscovert,"FSP-11145 Add NetSuite PaymentMethod list fetch"
BillingHubApi,978,2040207279,review,chriscovert,"Can we move the connection models out of AccountingClient and into base BaseClient?",2025-04-11T19:36:02Z,2025-04-11T19:36:02Z,davidcooper-fsp,"FSP-11065 Get Netsuite Connection"
BillingHubApi,978,2040215204,review,chriscovert,"💡 Might be more restful with something like /accountingSync/connections/{serviceId} where serviceId is 'netsuite'. Maybe even throw bad request if they pass in anything other than 'netsuite', like sage or null ",2025-04-11T19:41:22Z,2025-04-11T19:41:22Z,davidcooper-fsp,"FSP-11065 Get Netsuite Connection"
BillingHubApi,978,2040219701,review,chriscovert,"If we move these now, also moving non-accounting models related to cursors, errors, etc. would be good too. There are quite a few though, so maybe worry about that as a separate cleanup PR later?",2025-04-11T19:45:03Z,2025-04-11T19:45:04Z,davidcooper-fsp,"FSP-11065 Get Netsuite Connection"
BillingHubApi,978,2040234350,review,chriscovert,"Would be good to set constants for the known values of `live`, `upcoming`, and `requested ` up front. Although it seems we'd only ever care about the `live` value.",2025-04-11T19:59:51Z,2025-04-11T19:59:51Z,davidcooper-fsp,"FSP-11065 Get Netsuite Connection"
BillingHubApi,972,2758210069,issue,danwatkins-fsp,"@davidcooper-fsp What is the reason for merging all these PRs without testing them? If we are close to getting credentials I think all these branches like FSP-11007 and FSP-10601 need to be rebased and cleaned up by squashing to reduce noise.",2025-03-27T14:12:53Z,2025-03-27T14:12:53Z,davidcooper-fsp,"FSP-11063 Update Netsuite Connection"
BillingHubApi,972,2758255209,issue,davidcooper-fsp,"@danwatkins-fsp I've tested these locally with our apideck integration. They are more focused on handling the netsuite connection in ApiDeck. The only portion that relies on the netsuite connection is the validation state of the connection. We have the netsuite connection now, and testing of all of the cards with a real netsuite connection will begin shortly.",2025-03-27T14:25:51Z,2025-03-27T14:25:51Z,davidcooper-fsp,"FSP-11063 Update Netsuite Connection"
BillingHubApi,972,2758279372,issue,danwatkins-fsp,"@davidcooper-fsp Ok yeah I was referring to [feature testing](https://github.com/Flight-Schedule-Pro/Standards/blob/master/Back-End/release-process.md?plain=1#L83) as I'm sure you've tested it all locally. The point is to make sure it works as expected end to end with the frontend so we don't have a bunch of followup fixes that should have been part of the original PR.",2025-03-27T14:31:46Z,2025-03-27T14:31:46Z,davidcooper-fsp,"FSP-11063 Update Netsuite Connection"
BillingHubApi,971,2045587623,review,davidcooper-fsp,"Just want to ensure this doesn't get missed",2025-04-15T21:46:40Z,2025-04-15T21:46:40Z,chriscovert,"FSP-11124 Add AccountingSyncPaymentMethod fields to PaymentMethod PUT"
BillingHubApi,971,2046983828,review,chriscovert,"AI says these are the only fields a payment method edit would require a signalR notice for the UI: - Status Changes (IsActive) - Surcharge Changes - Terminal Changes - Payment Type Enablement Changes  This means I don't need to send a signalR message for these mapping updates, but I'm thinking maybe I should leave this in, just so we don't forget if any of those changes end up in this patch? @danwatkins-fsp  thoughts?",2025-04-16T13:48:43Z,2025-04-16T13:48:43Z,chriscovert,"FSP-11124 Add AccountingSyncPaymentMethod fields to PaymentMethod PUT"
BillingHubApi,971,2047023540,review,danwatkins-fsp,"This patch is changing things that don't matter for any of those spots. Regardless, it's probably best to leave the SignalR event here and remove the TODO.",2025-04-16T14:08:43Z,2025-04-16T14:08:44Z,chriscovert,"FSP-11124 Add AccountingSyncPaymentMethod fields to PaymentMethod PUT"
BillingHubApi,971,2069383096,review,danwatkins-fsp,"Is there a scenario where this method can be called without having CanManageQboSettings? As is someone could clear the mapping by sending null without having this permission. Not sure why that needs to be allowed?",2025-04-30T20:18:20Z,2025-04-30T20:19:04Z,chriscovert,"FSP-11124 Add AccountingSyncPaymentMethod fields to PaymentMethod PUT"
BillingHubApi,971,2069473274,review,chriscovert,"This patch was intended for a payment methods mapping list to be available inside the manage accounting package settings pages, so it wouldn't be used by anyone without CanManageQboSettings.   The mockups don't actually show a mapping page like taxes/customer/products/etc have, so maybe I should just remove the patch?",2025-04-30T21:35:12Z,2025-04-30T21:35:12Z,chriscovert,"FSP-11124 Add AccountingSyncPaymentMethod fields to PaymentMethod PUT"
BillingHubApi,971,2069482797,review,danwatkins-fsp,"Has the frontend not been tested against this? If the frontend isn't using it then it should be removed. I was wondering what the use case is.",2025-04-30T21:44:15Z,2025-04-30T21:44:15Z,chriscovert,"FSP-11124 Add AccountingSyncPaymentMethod fields to PaymentMethod PUT"
BillingHubApi,970,2014127744,review,danwatkins-fsp,"💡These regions add boilerplate when the methods could just be alphabetized.",2025-03-26T13:18:56Z,2025-03-26T13:50:42Z,davidcooper-fsp,"FSP-11062 Operator NetSuite Connection"
BillingHubApi,970,2014135867,review,danwatkins-fsp,"💡To be consistent with `ApiDeckConsumerDataResponse` ```suggestion public record ApiDeckConsumerMetaDataRequest ```",2025-03-26T13:23:00Z,2025-03-26T13:50:42Z,davidcooper-fsp,"FSP-11062 Operator NetSuite Connection"
BillingHubApi,970,2014177522,review,danwatkins-fsp,"Already enforced with the authorize attribute? ```suggestion ```",2025-03-26T13:43:28Z,2025-03-26T13:50:42Z,davidcooper-fsp,"FSP-11062 Operator NetSuite Connection"
BillingHubApi,970,2014196448,review,danwatkins-fsp,"💡To be more consistent with what we call the QBO connection process and to separate being connected from enabling. Reading the implementation of this it seems to be more of a connect method anyways than doing anything with enabling?  ```suggestion     [Route(""billing/v1.0/operators/{operatorId}/accountingSync/connectNetSuite"")] ```  Or  ```suggestion     [Route(""billing/v1.0/operators/{operatorId}/accountingSync/netSuiteConnect"")] ```",2025-03-26T13:50:35Z,2025-03-26T13:50:42Z,davidcooper-fsp,"FSP-11062 Operator NetSuite Connection"
BillingHubApi,970,2721552340,review_summary,danwatkins-fsp,"@davidcooper-fsp This PR title no longer represents what it's doing.",2025-03-27T13:41:53Z,2025-03-27T13:41:53Z,davidcooper-fsp,"FSP-11062 Operator NetSuite Connection"
BillingHubApi,969,2755474261,issue,chriscovert,"Tested in feature-1 along with the PaymentMethod patch/put updates. Used postman to request paged lists for dropdowns similar to how the other search requests are sent.",2025-03-26T19:00:37Z,2025-03-26T19:00:37Z,chriscovert,"FSP-11112 QBO payment methods list fetch"
BillingHubApi,969,2012160266,review,danwatkins-fsp,"This is already enforced with an authorize attribute ```suggestion ```",2025-03-25T13:52:18Z,2025-03-25T13:57:50Z,chriscovert,"FSP-11112 QBO payment methods list fetch"
BillingHubApi,969,2012166868,review,danwatkins-fsp,"Does not conform to DotSettings along with some other lines. ```suggestion ```",2025-03-25T13:55:12Z,2025-03-25T13:57:50Z,chriscovert,"FSP-11112 QBO payment methods list fetch"
BillingHubApi,969,2012168105,review,danwatkins-fsp,"This name would collide with tests for our PaymentMethodsController once they are split into a file per endpoint. See Flight-Schedule-Pro/Standards#17. ```suggestion public class GetAccountingSyncPaymentMethodsTests : BillingHubApiBaseTests ```",2025-03-25T13:55:47Z,2025-03-25T13:57:50Z,chriscovert,"FSP-11112 QBO payment methods list fetch"
BillingHubApi,969,2012170698,review,danwatkins-fsp,"Not covered by a test",2025-03-25T13:57:02Z,2025-03-25T13:57:50Z,chriscovert,"FSP-11112 QBO payment methods list fetch"
BillingHubApi,969,2713860505,review_summary,danwatkins-fsp,"This should be tested with the frontend before merging.",2025-03-25T13:57:50Z,2025-03-25T13:57:50Z,chriscovert,"FSP-11112 QBO payment methods list fetch"
BillingHubApi,967,2741336677,issue,davidcooper-fsp,"@danwatkins-fsp We don't yet have a sandbox connection to Netsuite, so this will be fully testable on Monday when we gain access to a new sandbox.",2025-03-20T18:32:20Z,2025-03-20T18:32:20Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2759350137,issue,chriscovert,"@danwatkins-fsp @davidcooper-fsp  I was able to run this locally and verify tax searches are working using postman. The paging used by ApiDeck is a little different, so we won't be able to test in feature-1 until they can update it to use nextCursor instead of pageIndex/totalRecords to fetch more pages.",2025-03-27T20:03:31Z,2025-03-27T20:03:31Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2001459006,review,danwatkins-fsp,"Do we know if any of this works with the frontend? The paging will be a bit messed up since you are doing this in memory.",2025-03-18T16:24:42Z,2025-03-18T16:24:49Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2001904472,review,danwatkins-fsp,"[Tax list fetch](https://developers.apideck.com/apis/accounting/reference#tag/Tax-Rates/operation/taxRatesAll) has a default limit of 20. If you are intending to load a larger set when filtering, I think you'll have to loop over every page or use their max page size of 200. Both are not ideal solutions, but it's what we have to deal with due to their limitations.",2025-03-18T20:08:14Z,2025-03-18T20:11:41Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2001911169,review,danwatkins-fsp,"💡We might be putting too much logic in the `ApiDeckAccountingClient`. I view it as a thin layer that lets us call the API.  Not necessariliy a problem yet, but something to think about.",2025-03-18T20:11:39Z,2025-03-18T20:12:09Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2001913569,review,danwatkins-fsp,"We don't have any pagination tests going through our API which is where I'd expect to see these tests written. As is the pagination bits passed to the ApiDeckAccountingClient are not tested.",2025-03-18T20:13:11Z,2025-03-18T20:13:11Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2019372619,review,danwatkins-fsp,"💡Still not sure what we want to standardize on, but I think the name is too generic as is. ```suggestion public class AccountingSyncTaxSearchTests : BillingHubApiBaseTests ```",2025-03-28T21:00:03Z,2025-03-28T21:00:48Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2043067850,review,chriscovert,"I looked into adding some pagination tests, but it looks like they've already been added. The ApiDeckAccountingClientFake is setup to return multiple pages of results, causing the taxes fetch test to exercise the loop getting next pages until the page limit is reached or no next cursor is available.  Ended up just add a small test verifying page size limits are honored.",2025-04-14T22:25:18Z,2025-04-14T22:25:18Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2044836282,review,chriscovert,"We ended up using pagesize of 200 and just looping through all records until we have enough in-memory filtered results to return a full page",2025-04-15T14:55:35Z,2025-04-15T14:55:35Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2044840411,review,chriscovert,"We did at least verify the filtering works in postman, using copies of the requests the UI would send. The response total and pageIndex are always 0 because the the cursor-based filtering though.",2025-04-15T14:57:08Z,2025-04-15T14:57:09Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2044841651,review,danwatkins-fsp,"@chriscovert That sounds like a good strategy for this problem",2025-04-15T14:57:37Z,2025-04-15T14:57:38Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2046990032,review,chriscovert,"Talked offline on this topic a bit, will keep an eye out for service logic creeping into the client",2025-04-16T13:51:40Z,2025-04-16T13:51:40Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2047005643,review,danwatkins-fsp,"```suggestion public record ApiDeckAccountingTaxListRequest : ApiDeckAccountingListRequest ```",2025-04-16T13:59:47Z,2025-04-16T14:07:38Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2049287252,review,chriscovert,"applying this update in a later refactor, just to avoid merge conflicts when rebasing the other branchess in this chain",2025-04-17T16:22:34Z,2025-04-17T16:22:35Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2703514696,review_summary,danwatkins-fsp,"@davidcooper-fsp How do we know this works with the frontend if it hasn't been used in feature-1 yet?",2025-03-20T17:06:37Z,2025-03-20T17:06:37Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2726764539,review_summary,danwatkins-fsp,"@chriscovert If you want to merge this now to avoid conflicts that could make sense. Not sure how long until we can get some validation with the frontend.",2025-03-28T21:00:48Z,2025-03-28T21:00:48Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,967,2772645427,review_summary,danwatkins-fsp,"Still needs some feature testing, but looks good",2025-04-16T14:07:38Z,2025-04-16T14:07:38Z,davidcooper-fsp,"FSP-11004 Netsuite Taxes"
BillingHubApi,966,2744316047,issue,fspafahrenholtz,"I'd like to move away from the Repository pattern because of what you've pointed out; using the `IDbContext` directly in the service has helped with that. Could we use EF to interact with the Mongo DB? We could keep the pattern of using a DbContext and remove the need for a repository.",2025-03-21T19:54:23Z,2025-03-21T19:54:23Z,danwatkins-fsp,"FSP-10989 Add Sallie Mae to student financing account management"
BillingHubApi,966,2744473557,issue,danwatkins-fsp,"@fspafahrenholtz My point was mainly about interfaces being redundant boilerplate. I do agree the repository pattern is redundant (because the DbContext is a repository itself) and I've started using DbContext in the service after you got us going on that idea a while ago. In this case I did make a repository just because I thought the Mongo EF package was a bit imature, but I can take a look at that now.",2025-03-21T21:22:40Z,2025-03-21T21:22:40Z,danwatkins-fsp,"FSP-10989 Add Sallie Mae to student financing account management"
BillingHubApi,966,2744489634,issue,fspafahrenholtz,"@danwatkins-fsp I think if we don't go with the EF provider, having a repository would be best. The Mongo Provider still is missing some features that we would have to be careful about:  > Planned for future releases >  >  - Select projections with client-side operations >  - ExecuteUpdate & ExecuteDelete >  - GroupBy operations >  - Includes/joins >  - Geospacial >  > Not supported, out-of-scope features >  >   - Keyless entity types >   - Schema migrations >   - Database-first & model-first >   - Alternate keys >   - Document (table) splitting >   - Temporal tables >   - Timeseries >   - Atlas search >   - GridFS  We have gotten to the stage where interfaces don't make much sense as we do integration tests primarily. They are nice when we do need a mock although it seems like we could make that decision to use an interface when we need to mock an object. ",2025-03-21T21:33:50Z,2025-03-21T21:33:50Z,danwatkins-fsp,"FSP-10989 Add Sallie Mae to student financing account management"
BillingHubApi,966,2744545894,issue,danwatkins-fsp,"@fspafahrenholtz I don't know if any of those limitations will apply to this PR, but I think we have to leave it with the repository using the driver directly for now. `MongoDB.EntityFrameworkCore` requires `MongoDB.Driver` >= 3.1.0 and we are on 2.x right now. Updating to 3.x requires a server version of 4+ and we are on 3.6 for audit logs. I've made two tech debt cards for this. Was actually just talking with @calebcurry-fsp about the server version this morning.   https://flightschedulepro.atlassian.net/browse/FSP-11106 https://flightschedulepro.atlassian.net/browse/FSP-11107 ",2025-03-21T22:01:36Z,2025-03-21T22:01:36Z,danwatkins-fsp,"FSP-10989 Add Sallie Mae to student financing account management"
BillingHubApi,964,2001083396,review,danwatkins-fsp,"Unused ```suggestion ```",2025-03-18T13:43:18Z,2025-03-18T13:57:37Z,chriscovert,"FSP-10978 Add NetSuite support to AccountingSync Product endpoints"
BillingHubApi,964,2001084993,review,danwatkins-fsp,"Unused ```suggestion ﻿```",2025-03-18T13:44:08Z,2025-03-18T13:57:37Z,chriscovert,"FSP-10978 Add NetSuite support to AccountingSync Product endpoints"
BillingHubApi,964,2001085941,review,danwatkins-fsp,"Unused ```suggestion ﻿```",2025-03-18T13:44:37Z,2025-03-18T13:57:38Z,chriscovert,"FSP-10978 Add NetSuite support to AccountingSync Product endpoints"
BillingHubApi,964,2001090245,review,danwatkins-fsp,"None of these access modifiers need to change.",2025-03-18T13:46:37Z,2025-03-18T13:57:38Z,chriscovert,"FSP-10978 Add NetSuite support to AccountingSync Product endpoints"
BillingHubApi,964,2001090998,review,danwatkins-fsp,"Already being called on line 53. ```suggestion ```",2025-03-18T13:46:58Z,2025-03-18T13:57:38Z,chriscovert,"FSP-10978 Add NetSuite support to AccountingSync Product endpoints"
BillingHubApi,964,2001095920,review,danwatkins-fsp,"Unused ```suggestion ```",2025-03-18T13:49:25Z,2025-03-18T13:57:38Z,chriscovert,"FSP-10978 Add NetSuite support to AccountingSync Product endpoints"
BillingHubApi,964,2001099799,review,danwatkins-fsp,"Use constant and don't suffix with Netsuite. ```suggestion                 x.AccountingSyncPackage = AccountingSyncPackages.ApiDeck; ```",2025-03-18T13:51:24Z,2025-03-18T13:57:38Z,chriscovert,"FSP-10978 Add NetSuite support to AccountingSync Product endpoints"
BillingHubApi,964,2001101692,review,danwatkins-fsp,"There is no test for this",2025-03-18T13:52:08Z,2025-03-18T13:57:38Z,chriscovert,"FSP-10978 Add NetSuite support to AccountingSync Product endpoints"
BillingHubApi,964,2001117503,review,danwatkins-fsp,"`Get` is already checking for is successful I think this is going to need cleanup since we are doing a lot of duplicate stuff.",2025-03-18T13:57:28Z,2025-03-18T13:57:38Z,chriscovert,"FSP-10978 Add NetSuite support to AccountingSync Product endpoints"
BillingHubApi,964,2001309145,review,danwatkins-fsp,"I don't see any reason to have this be nullable. A default of `false` would be treated the same as `null` from what I'm seeing. Excessive nullability bloats usages with unnecessary null handling. ```suggestion     public bool Active { get; init; } ```",2025-03-18T15:18:56Z,2025-03-18T15:19:00Z,chriscovert,"FSP-10978 Add NetSuite support to AccountingSync Product endpoints"
BillingHubApi,963,1994050436,review,danwatkins-fsp,"This should always return a non-null list or throw an exception. There is an unresolved comment on line 63.  Examples: https://github.com/Flight-Schedule-Pro/BillingHubApi/blob/master/BillingHubApi/BillingHubApi.Stratus/StratusApiClient.cs#L140 https://github.com/Flight-Schedule-Pro/BillingHubApi/blob/master/BillingHubApi/BillingHubApi.TriPos/TriPosApiClient.cs#L191  We should be logging to the ApiRequestLogs collection in Mongo as well so we know what happens when there is a failure (or success).  ```suggestion     public async Task<PagedList<AccountingLinkItem>> FetchCustomers( ```",2025-03-13T17:51:18Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994053747,review,danwatkins-fsp,"There is a lot of redundancy in checking the response code in all these. Can we make a reusable `SendRequest<TResponse>(...)` method like in [TriPosApiClient](https://github.com/Flight-Schedule-Pro/BillingHubApi/blob/master/BillingHubApi/BillingHubApi.TriPos/TriPosApiClient.cs#L229)?",2025-03-13T17:53:15Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994057494,review,danwatkins-fsp,"In what scenario should this be allowed to be null?",2025-03-13T17:55:43Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994060030,review,danwatkins-fsp,"```suggestion public class ApiDeckLedgerAccountTypes ```",2025-03-13T17:57:25Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994062020,review,danwatkins-fsp,"```suggestion public abstract record ApiDeckBaseAccountingListRequest ```  Or more simply since it is clear enough:  ```suggestion public abstract record ApiDeckAccountingListRequest ```",2025-03-13T17:58:51Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994063389,review,danwatkins-fsp,"If you go with `ApiDeckAccountingListRequest`: ```suggestion public record ApiDeckResponse ```",2025-03-13T17:59:41Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994070475,review,danwatkins-fsp,"Unused ```suggestion ```",2025-03-13T18:04:27Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994070685,review,danwatkins-fsp,"Unused ```suggestion ```",2025-03-13T18:04:37Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994076627,review,danwatkins-fsp,"Needs resolution",2025-03-13T18:07:52Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994081910,review,danwatkins-fsp,"There is inconsistency in the naming of the public methods on this class. Some methods are just verbs, and others like this use a different style of verb with ApiDeck in the name.  ```suggestion     public async Task<ApiDeckListResponse<T>?> GetAllListPages<T>( ```",2025-03-13T18:10:54Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994082170,review,danwatkins-fsp,"Unused ```suggestion ```",2025-03-13T18:11:06Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994082921,review,danwatkins-fsp,"A few of these have higher access levels than needed. ```suggestion     protected async Task<HttpResponse> Get(string requestUrl, ApiDeckConsumerCredentials credentials) ```",2025-03-13T18:11:34Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994086963,review,danwatkins-fsp,"```suggestion   <PropertyGroup>     <TargetFramework>net8.0</TargetFramework>     <LangVersion>12.0</LangVersion>     <ImplicitUsings>enable</ImplicitUsings>     <Nullable>enable</Nullable>     <WarningLevel>5</WarningLevel>     <TreatWarningsAsErrors>true</TreatWarningsAsErrors>   </PropertyGroup> ```",2025-03-13T18:14:52Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994087326,review,danwatkins-fsp,"```suggestion public record ApiDeckConfiguration ```",2025-03-13T18:15:08Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994087762,review,danwatkins-fsp,"```suggestion     public required string BaseUrl { get; init; } ```",2025-03-13T18:15:29Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994087991,review,danwatkins-fsp,"```suggestion     public required string AppId { get; init; } ```",2025-03-13T18:15:40Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994088223,review,danwatkins-fsp,"```suggestion     public required string ApiKey { get; init; } ```",2025-03-13T18:15:52Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994090769,review,danwatkins-fsp,"You will probably need to do it this way once the properties are required. ```suggestion                var apiDeckConfiguration = configuration.GetRequiredSection(""ApiDeck"").Get<ApiDeckConfiguration>()!;         services.AddSingleton(apiDeckConfiguration); ```",2025-03-13T18:17:35Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994095740,review,danwatkins-fsp,"Naming an enum ending with `Service` is confusing. This is based on `tblCompany.AccountingSyncPackage`, so an appropriate name could be `AccountingSyncPackage`. ```suggestion public enum AccountingSyncPackage ```",2025-03-13T18:21:09Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994096429,review,danwatkins-fsp,"Unused ```suggestion ```",2025-03-13T18:21:40Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994098216,review,danwatkins-fsp,"```suggestion     ""AppId"": """", ```",2025-03-13T18:22:53Z,2025-03-13T18:23:03Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1994326653,review,danwatkins-fsp,"Nevermind, this actually comes from Directory.Build.props.",2025-03-13T21:29:18Z,2025-03-13T21:29:18Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1995690481,review,danwatkins-fsp,"Why only log failures? All our ApiClients log every request and I Just made PayrixApiClient log on success in Flight-Schedule-Pro/FSP-Packages#274. Sometimes you need to troubleshoot things even when the response code isn't a failure.",2025-03-14T14:30:49Z,2025-03-14T15:29:45Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1995695658,review,danwatkins-fsp,"Move this after line 51 and rename to match pattern: ```suggestion         services.UseBillingApiDeck(configuration); ```",2025-03-14T14:34:03Z,2025-03-14T15:29:45Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1995713117,review,danwatkins-fsp,"`x` is never used and this method always returns `null` which doesn't make sense.",2025-03-14T14:45:00Z,2025-03-14T15:29:45Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1995714233,review,danwatkins-fsp,"💡 ```suggestion     public async Task<PagedList<AccountingLinkItem>> GetCustomers( ```",2025-03-14T14:45:41Z,2025-03-14T15:29:45Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1995715082,review,danwatkins-fsp,"Expression is always false according to nullable reference types' annotations",2025-03-14T14:46:12Z,2025-03-14T15:29:45Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1995715549,review,danwatkins-fsp,"Conditional access qualifier expression is never null according to nullable reference types' annotations",2025-03-14T14:46:29Z,2025-03-14T15:29:45Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1995715963,review,danwatkins-fsp,"Method 'EmptyPagedList' is never used",2025-03-14T14:46:44Z,2025-03-14T15:29:45Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,963,1995728464,review,danwatkins-fsp,"For all these request models I'm not sure why null is allowed? That will be our code supplying values. ```suggestion     public required string Name { get; init; } ```",2025-03-14T14:54:14Z,2025-03-14T15:29:45Z,chriscovert,"FSP-10668 Query Accounts for NetSuite via ApiDeck"
BillingHubApi,957,1974001942,review,danwatkins-fsp,"Quite a few changes not adhering to DotSettings in this file.",2025-02-27T17:03:56Z,2025-02-27T17:44:48Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1974049082,review,danwatkins-fsp,"This should remain false. It's causing the PR to fail to pull the image.",2025-02-27T17:30:26Z,2025-02-27T17:44:48Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1974054397,review,danwatkins-fsp,"💡Could put this block that's duplicated 4 times into `ChargePaymentToken`. It also gives us a bit of protection against future changes that might forget to do this. You'd have to add the loan spent result to verfied I think.",2025-02-27T17:33:51Z,2025-02-27T17:44:48Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1974056385,review,danwatkins-fsp,"There are no tests for these validations here. Can we think about a pre-requisite refactoring change that moves the ones for regular invoices into a more central spot, possibly inside `ApplyAmountSpent`? Then you wouldn't have to write extra tests if they were in there already.",2025-02-27T17:35:21Z,2025-02-27T17:44:48Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1974069681,review,danwatkins-fsp,"`IsApplicationCompleted` will always be true if a payment token exists for the loan.  It's possible there could be loans that were approved and no longer are, so we want to exclude those. In practice this is unlikely with the way Stratus works, but this is generic code so I think we should guard against that.  ```suggestion                                      .Where(                                          x => x.OperatorId == operatorId &&                                               x.UserGuid == userGuid &&                                               x.Status == StudentFinancingLoanStatus.Active &&                                               !x.IsExternallyFunded &&                                               x.PaymentToken != null)                                      .OrderByDescending(x => x.ApprovedAtUtc)                                      .Select(x => x.PaymentToken)                                      .FirstOrDefaultAsync(); ```",2025-02-27T17:44:34Z,2025-02-27T18:00:06Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1974093266,review,danwatkins-fsp,"Edited above comment. You can keep filtering out `IsExternallyFunded`, but the payment validation wont let those pay in the off change they are attempted.",2025-02-27T18:01:36Z,2025-02-27T18:01:36Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1975503066,review,chriscovert,"I created https://flightschedulepro.atlassian.net/browse/FSP-10945 to work on this",2025-02-28T14:26:11Z,2025-02-28T14:26:11Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1975558086,review,danwatkins-fsp,"`verified.CustomerUserId` should be equivalent to `userId`. ```suggestion     private async Task<StudentFinancingLoanApplyAmountSpentResult?> ChargePaymentToken(int operatorId, SalesTransactionLineItemsAndPayments verified, SqlConnection conn, SqlTransaction trans) ```",2025-02-28T15:00:36Z,2025-02-28T15:01:59Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1975560149,review,danwatkins-fsp,"Ok if you can base this PR on that great, otherwise probably fine to merge this first.  Still need to test all this with the FE before we know we are good.",2025-02-28T15:01:55Z,2025-02-28T15:01:59Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1982097307,review,danwatkins-fsp,"Does not adhere to DotSettings file.",2025-03-05T19:51:42Z,2025-03-05T20:06:13Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1982115741,review,danwatkins-fsp,"I'm not seeing any tests that challenge the where clause for getting the default student financing loan. I suspect this line with throw an exception during renewal if the user does not have a loan anymore for example.",2025-03-05T20:06:04Z,2025-03-05T20:06:13Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1983913348,review,chriscovert,"Added a couple more tests to make sure it's gracefully handling scenarios with no valid student loan to pay with.",2025-03-06T19:07:53Z,2025-03-06T19:07:53Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1983966117,review,danwatkins-fsp,"```suggestion     [Column(TypeName = ""DATETIME"")]     public DateTime LastModifiedTime { get; set; } ```",2025-03-06T19:51:56Z,2025-03-06T20:07:09Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1983966283,review,danwatkins-fsp,"```suggestion     [Column(TypeName = ""DATETIME"")]     public DateTime EventDateUtc { get; set; } ```",2025-03-06T19:52:05Z,2025-03-06T20:06:59Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1983973735,review,danwatkins-fsp,"Why do we need this instead of using `BillingHubApiClient.GetMembershipSubscriptionHistory`?",2025-03-06T19:58:12Z,2025-03-06T20:06:40Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1983983287,review,danwatkins-fsp,"There is no concept of having a default loan bank account token. If you remove this call I would expect the test still passes. I think you want to make the loan inactive to prove this.",2025-03-06T20:06:28Z,2025-03-06T20:06:40Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1983986814,review,danwatkins-fsp,"This is redundant because the `FirstOrDefault` on the next line will lead to the same error.  ```suggestion ```",2025-03-06T20:09:28Z,2025-03-06T20:09:29Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1984137877,review,chriscovert,"This was an attempt at using a payment token that was of type 'Loan' that would cause `_studentFinancingService.GetStudentFinancingLoans()` to return no results, and there is a constraint on the table preventing rows with typeId of loan from having isDefault as true.   I switched to making loan externally funded, which also results in no matching loan found.",2025-03-06T22:29:21Z,2025-03-06T22:29:21Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1984138115,review,chriscovert,"The other method didn't have the event data. Was using this version to get at the 'Reason' message for why the renew failed.",2025-03-06T22:29:37Z,2025-03-06T22:29:37Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,957,1985264847,review,danwatkins-fsp,"💡I think there are a number of assertions in these tests that didn't drive any code change. Not necessarily a problem, but I don't see anything ensuring the loan amount spent changed correctly which would be more important than testing this audit event which we already know works.",2025-03-07T15:28:25Z,2025-03-07T15:28:30Z,chriscovert,"FSP-10872 Loan payments for membership subscriptions"
BillingHubApi,955,1958401654,review,danwatkins-fsp,"💡`x` should be named something else because it hides the outer parameter `x` of the same name. I usually use `i` in these scenarios. Generates an IDE highlight warning for me. Was already coded like this a few PRs ago.",2025-02-17T15:14:16Z,2025-02-17T15:14:23Z,chriscovert,"FSP-10700 Include all line items when updating total"
BillingHubApi,955,1958421289,review,danwatkins-fsp,"Lines 91 and 96 have the same problem",2025-02-17T15:27:59Z,2025-02-17T15:27:59Z,chriscovert,"FSP-10700 Include all line items when updating total"
BillingHubApi,955,1958492566,review,chriscovert,"🤦 ",2025-02-17T16:15:45Z,2025-02-17T16:15:45Z,chriscovert,"FSP-10700 Include all line items when updating total"
BillingHubApi,951,1954954219,review,danwatkins-fsp,"Payment process already validates if the payment token exists, so this is not necessary. As coded it was actually bad because it would just silently skip over charging and mark it as paid if we had a bug.",2025-02-13T17:44:47Z,2025-02-13T17:47:31Z,danwatkins-fsp,"FSP-10779 Remove redundant payment token loads from membership subscription endpoints"
BillingHubApi,951,1954957009,review,danwatkins-fsp,"`init.DefaultPaymentTokenGuid` is determined by querying payment tokens already, so it's pointless to fetch it again to see if it's there. Additionally, charging the payment token validates again that the token exists.",2025-02-13T17:46:21Z,2025-02-13T17:47:31Z,danwatkins-fsp,"FSP-10779 Remove redundant payment token loads from membership subscription endpoints"
BillingHubApi,951,1954958174,review,danwatkins-fsp,"Can't be null due to nullable annotation of the property.",2025-02-13T17:46:50Z,2025-02-13T17:47:31Z,danwatkins-fsp,"FSP-10779 Remove redundant payment token loads from membership subscription endpoints"
BillingHubApi,951,1954958703,review,danwatkins-fsp,"Unused parameter, the payment token to use is on `verified`.",2025-02-13T17:47:08Z,2025-02-13T17:47:31Z,danwatkins-fsp,"FSP-10779 Remove redundant payment token loads from membership subscription endpoints"
BillingHubApi,950,1953508696,review,danwatkins-fsp,"Not sure we want to queue up N key deletes like that. If there were a bunch I'd be worried about deadlocking or some type of starvation scenario. I'm sure it's a bit faster, but I can't confidiently say it's ideal. Can we try just making it async with a for loop still?  ```suggestion                 foreach (var key in keys)                     await _redisConnection.TryAsync(db => db.KeyDeleteAsync(key.ToString())); ```",2025-02-12T22:43:40Z,2025-02-12T22:44:04Z,chriscovert,"FSP-10533 Async reservation cache invalidation on instructor rate PUT"
BillingHubApi,950,1953519349,review,chriscovert,"There is also an overload for KeyDelete that takes an array of keys. I could try calling delete against batches of a specific size if you think that would be better.",2025-02-12T22:55:07Z,2025-02-12T22:55:07Z,chriscovert,"FSP-10533 Async reservation cache invalidation on instructor rate PUT"
BillingHubApi,950,1953529923,review,danwatkins-fsp,"If you are sure we need it to go faster than serial then that seems reasonable. Maybe chunks of 50? Not sure what the recomendation is for that.  Are there other spots in the app nuking this key the same way? Seems this performance problem would have cropped up elsewhere.",2025-02-12T23:07:28Z,2025-02-12T23:07:28Z,chriscovert,"FSP-10533 Async reservation cache invalidation on instructor rate PUT"
BillingHubApi,950,1954716829,review,chriscovert,"We only clear reservation cache at the operator level in the InstructorRate create/update/delete methods. Changes to any property other than AccountId will need the cache cleared.  It looks like the recommendation is to use pipelining over batching. All the pipelining examples I've seen appear to just throw a large number of tasks into an array and then await them all. One example [here ](https://stackoverflow.com/questions/27796054/pipelining-vs-batching-in-stackexchange-redis) even used 250k items, which seems like it definitely should cause the starvation scenario you mentioned.",2025-02-13T15:19:34Z,2025-02-13T15:19:34Z,chriscovert,"FSP-10533 Async reservation cache invalidation on instructor rate PUT"
BillingHubApi,950,1954719202,review,chriscovert,"Also, I'm wondering if I should add the FireAndForget command flags. If one cache delete fails, wouldn't we want to still attempt to clear the rest? I suppose one failure means there's an issue where all the rest would fail anyway.",2025-02-13T15:20:50Z,2025-02-13T15:20:50Z,chriscovert,"FSP-10533 Async reservation cache invalidation on instructor rate PUT"
BillingHubApi,950,1954982338,review,chriscovert,"Updated to delete keys in batches of 50. Edits in develop take a few seconds, while updates in feature-1 take 100-200ms now",2025-02-13T17:59:51Z,2025-02-13T17:59:51Z,chriscovert,"FSP-10533 Async reservation cache invalidation on instructor rate PUT"
BillingHubApi,948,1951234058,review,danwatkins-fsp,"Change does not conform to DotSettings.",2025-02-11T16:58:34Z,2025-02-11T17:02:24Z,chriscovert,"FSP-10719 Don't apply price group product discounts to external training"
BillingHubApi,948,1951234395,review,danwatkins-fsp,"Change does not confrom to DotSettings.",2025-02-11T16:58:48Z,2025-02-11T17:02:24Z,chriscovert,"FSP-10719 Don't apply price group product discounts to external training"
BillingHubApi,948,1951235151,review,danwatkins-fsp,"```suggestion         await TestUtility.CreateDiscountGroup(             x =>             {                 x.Type = (int)DiscountType.Percent;                 x.ProductDiscount = 0.99m;             }); ```",2025-02-11T16:59:19Z,2025-02-11T17:02:24Z,chriscovert,"FSP-10719 Don't apply price group product discounts to external training"
BillingHubApi,948,1951235462,review,danwatkins-fsp,"Evident by convention of writing tests. ```suggestion ```",2025-02-11T16:59:33Z,2025-02-11T17:02:24Z,chriscovert,"FSP-10719 Don't apply price group product discounts to external training"
BillingHubApi,948,1951239718,review,danwatkins-fsp,"```suggestion                             else if (itemTypeId.HasValue && itemTypeId.Value ==(int)InvoiceLineItemType.Product) ```",2025-02-11T17:02:16Z,2025-02-11T17:02:24Z,chriscovert,"FSP-10719 Don't apply price group product discounts to external training"
BillingHubApi,948,1951315191,review,chriscovert,"Was the issue whitespace? Rider wasn't set to run cleanup on save changes, so I think this line was fixed now.",2025-02-11T17:48:05Z,2025-02-11T17:48:16Z,chriscovert,"FSP-10719 Don't apply price group product discounts to external training"
BillingHubApi,948,1951323441,review,danwatkins-fsp,"Line 212 is too long and a few others",2025-02-11T17:53:46Z,2025-02-11T17:53:47Z,chriscovert,"FSP-10719 Don't apply price group product discounts to external training"
BillingHubApi,948,2609405080,review_summary,danwatkins-fsp,"Actual change looks good",2025-02-11T17:02:24Z,2025-02-11T17:02:24Z,chriscovert,"FSP-10719 Don't apply price group product discounts to external training"
BillingHubApi,942,2643497943,issue,chriscovert,"Setting as draft until invoice totals are also updated to reflect price changes",2025-02-07T17:05:06Z,2025-02-07T17:05:06Z,chriscovert,"FSP-10700 Update prices on draft invoices when price changes are applied"
BillingHubApi,942,1946820877,review,danwatkins-fsp,"💡The logic of this doesn't seem consistent with the message",2025-02-07T16:30:43Z,2025-02-07T16:34:19Z,chriscovert,"FSP-10700 Update prices on draft invoices when price changes are applied"
BillingHubApi,942,1946825332,review,danwatkins-fsp,"💡Was wondering if acquiring `ILockService.LockSalesTransaction` would be necessary for each one of these. I think the probability of it being simultaneously modified by a user is so low and the consequences wouldn't be much of anything, I don't think you need it.",2025-02-07T16:32:54Z,2025-02-07T16:34:19Z,chriscovert,"FSP-10700 Update prices on draft invoices when price changes are applied"
BillingHubApi,942,1946827259,review,danwatkins-fsp,"💡Does this generate a sane query?",2025-02-07T16:34:14Z,2025-02-07T16:34:19Z,chriscovert,"FSP-10700 Update prices on draft invoices when price changes are applied"
BillingHubApi,942,1946859043,review,chriscovert,"The query seems okay, but it's missing an index (`[OperatorId],[UnitCost],[ResourceId]`) and selecting a lot of fields we aren't using. It might be better if I just select the IDs out and run an update by ID instead of tracking the entire entity.   ``` DECLARE @__resourceId_1 uniqueIdentifier = 'B4FBCEA2-1504-4852-8E7F-7B0DF1212968'; DECLARE @__price_2 decimal(15,6) = 98.880000; DECLARE @__operatorId_0 int = 10;  SELECT [t].[_RowNumber], [t].[AccountCreditValue], [t].[AccountId], [t].[AccountPaymentId], [t].[AircraftBillingMeter], [t].[AircraftMake], [t].[AircraftModel], [t].[AircraftRateTypeId], [t].[AircraftRateTypeName], [t].[CreditMustEqualPrice], [t].[CustomDiscount], [t].[Description], [t].[DiscountAmount], [t].[DiscountType], [t].[DiscountValue], [t].[GrossAmount], [t].[InstructionTypeId], [t].[InstructionTypeName], [t].[InvoiceId], [t].[ItemTypeId], [t].[LineItemId], [t].[LineItemType], [t].[Name], [t].[NetAmount], [t].[Note], [t].[OperatorId], [t].[OriginalUnitCost], [t].[PackageInstanceGuid], [t].[PackageItemGuid], [t].[ProductId], [t].[Quantity], [t].[RentalRateTypeId], [t].[ResourceId], [t].[ResourceName], [t].[ResourceType], [t].[ReturnAgainstLineItemId], [t].[ReturnAgainstSalesTransactionId], [t].[SalesTransactionDate], [t].[SalesTransactionId], [t].[ServiceTypeId], [t].[Tax1Amount], [t].[Tax1Id], [t].[Tax1Name], [t].[Tax1Percent], [t].[Tax2Amount], [t].[Tax2Id], [t].[Tax2Name], [t].[Tax2Percent], [t].[TaxableAmount], [t].[TransactionType], [t].[UnitCost] FROM [SalesTransactions] AS [s] INNER JOIN (     SELECT [s1].[_RowNumber], [s1].[AccountCreditValue], [s1].[AccountId], [s1].[AccountPaymentId], [s1].[AircraftBillingMeter], [s1].[AircraftMake], [s1].[AircraftModel], [s1].[AircraftRateTypeId], [s1].[AircraftRateTypeName], [s1].[CreditMustEqualPrice], [s1].[CustomDiscount], [s1].[Description], [s1].[DiscountAmount], [s1].[DiscountType], [s1].[DiscountValue], [s1].[GrossAmount], [s1].[InstructionTypeId], [s1].[InstructionTypeName], [s1].[InvoiceId], [s1].[ItemTypeId], [s1].[LineItemId], [s1].[LineItemType], [s1].[Name], [s1].[NetAmount], [s1].[Note], [s1].[OperatorId], [s1].[OriginalUnitCost], [s1].[PackageInstanceGuid], [s1].[PackageItemGuid], [s1].[ProductId], [s1].[Quantity], [s1].[RentalRateTypeId], [s1].[ResourceId], [s1].[ResourceName], [s1].[ResourceType], [s1].[ReturnAgainstLineItemId], [s1].[ReturnAgainstSalesTransactionId], [s1].[SalesTransactionDate], [s1].[SalesTransactionId], [s1].[ServiceTypeId], [s1].[Tax1Amount], [s1].[Tax1Id], [s1].[Tax1Name], [s1].[Tax1Percent], [s1].[Tax2Amount], [s1].[Tax2Id], [s1].[Tax2Name], [s1].[Tax2Percent], [s1].[TaxableAmount], [s1].[TransactionType], [s1].[UnitCost]     FROM [SalesTransactionLineItems] AS [s1]     WHERE [s1].[ResourceId] = @__resourceId_1 AND [s1].[UnitCost] = @__price_2 ) AS [t] ON [s].[OperatorId] = [t].[OperatorId] AND [s].[SalesTransactionId] = [t].[SalesTransactionId] WHERE [s].[OperatorId] = @__operatorId_0 AND [s].[Status] = 0 AND EXISTS (     SELECT 1     FROM [SalesTransactionLineItems] AS [s0]     WHERE [s].[OperatorId] = [s0].[OperatorId] AND [s].[SalesTransactionId] = [s0].[SalesTransactionId] AND [s0].[ResourceId] = @__resourceId_1 AND [s0].[UnitCost] = @__price_2)  ```",2025-02-07T16:54:52Z,2025-02-07T16:54:53Z,chriscovert,"FSP-10700 Update prices on draft invoices when price changes are applied"
BillingHubApi,942,1946949026,review,danwatkins-fsp,"It might be better to select from `SalesTransactionsLineItems` and join on `SalesTransactions`. We could also think about adding an index on `SalesTransactionLineitems.ResourceId`. Try this:  ```csharp return await _coreDataContext.SalesTransactionLineItems.Where(                                   x => x.OperatorId == operatorId &&                                        x.ResourceId == resourceId &&                                        x.UnitCost == price &&                                        x.SalesTransaction.Status == SalesTransactionStatus.Parked)                               .ToListAsync(); ```",2025-02-07T17:59:59Z,2025-02-07T17:59:59Z,chriscovert,"FSP-10700 Update prices on draft invoices when price changes are applied"
BillingHubApi,942,1951174474,review,chriscovert,"I ended up having to change the query to grab the sales transaction in addition to the line items, so we can update it's total.",2025-02-11T16:25:57Z,2025-02-11T16:25:57Z,chriscovert,"FSP-10700 Update prices on draft invoices when price changes are applied"
BillingHubApi,942,1951246199,review,danwatkins-fsp,"Even if you need the SalesTransaction, you can get that with the sample in my previous comment. You will be looping over line items and the sales transaction nagivation property will be loaded. You could even group by sales transaction in memory if needed. The generated query is significantly simpler. Does that make sense?",2025-02-11T17:06:07Z,2025-02-11T17:06:08Z,chriscovert,"FSP-10700 Update prices on draft invoices when price changes are applied"
BillingHubApi,942,1951317487,review,chriscovert,"I updated it to query line items and then group by salestransaction in-memory",2025-02-11T17:49:42Z,2025-02-11T17:49:42Z,chriscovert,"FSP-10700 Update prices on draft invoices when price changes are applied"
BillingHubApi,942,1951330834,review,danwatkins-fsp,"If you can post the new query here I think it's worth making sure we don't need to at least add an index on line items for ResourceId.",2025-02-11T17:58:36Z,2025-02-11T17:58:37Z,chriscovert,"FSP-10700 Update prices on draft invoices when price changes are applied"
BillingHubApi,942,1951442997,review,chriscovert,"Here is the query. I noticed it was missing a filter on lineItemType so I added that in. There is a PR for an index covering this in coreDB now too.  `DECLARE @__operatorId_0 int = 911565049; DECLARE @__resourceId_1 uniqueIdentifier = 'f91b4f46-c564-4460-abdd-c8894a241b96'; DECLARE @__lineItemType_2 int = 111; DECLARE @__price_3 decimal(15,6) = 299.0;  SELECT [s].[_RowNumber], [s].[AccountCreditValue], [s].[AccountId], [s].[AccountPaymentId], [s].[AircraftBillingMeter], [s].[AircraftMake], [s].[AircraftModel], [s].[AircraftRateTypeId], [s].[AircraftRateTypeName], [s].[CreditMustEqualPrice], [s].[CustomDiscount], [s].[Description], [s].[DiscountAmount], [s].[DiscountType], [s].[DiscountValue], [s].[GrossAmount], [s].[InstructionTypeId], [s].[InstructionTypeName], [s].[InvoiceId], [s].[ItemTypeId], [s].[LineItemId], [s].[LineItemType], [s].[Name], [s].[NetAmount], [s].[Note], [s].[OperatorId], [s].[OriginalUnitCost], [s].[PackageInstanceGuid], [s].[PackageItemGuid], [s].[ProductId], [s].[Quantity], [s].[RentalRateTypeId], [s].[ResourceId], [s].[ResourceName], [s].[ResourceType], [s].[ReturnAgainstLineItemId], [s].[ReturnAgainstSalesTransactionId], [s].[SalesTransactionDate], [s].[SalesTransactionId], [s].[ServiceTypeId], [s].[Tax1Amount], [s].[Tax1Id], [s].[Tax1Name], [s].[Tax1Percent], [s].[Tax2Amount], [s].[Tax2Id], [s].[Tax2Name], [s].[Tax2Percent], [s].[TaxableAmount], [s].[TransactionType], [s].[UnitCost], [s0].[_RowNumber], [s0].[AccountingInvoiceId], [s0].[AccountingSyncStatus], [s0].[AccuralSalesTotal], [s0].[ActivityDate], [s0].[AircraftDiscount], [s0].[AircraftId], [s0].[AutoBillingFailureMessage], [s0].[AutoBillingStatus], [s0].[BatchSyncId], [s0].[CreatedAt], [s0].[CreatedByUserId], [s0].[CustomerMessage], [s0].[CustomerName], [s0].[CustomerPeopleGroupId], [s0].[CustomerPeopleGroupName], [s0].[CustomerUserId], [s0].[Date], [s0].[DiscountGroupId], [s0].[DiscountGroupMinimum], [s0].[DiscountGroupName], [s0].[EmployeeName], [s0].[HasLineItemUsingPackageItem], [s0].[InstructionDiscount], [s0].[InstructorId], [s0].[InstructorName], [s0].[InternalNotes], [s0].[IsFuelReimbursement], [s0].[LastModifiedTime], [s0].[LocationAdditionalInformation], [s0].[LocationAddress], [s0].[LocationEmail], [s0].[LocationId], [s0].[LocationName], [s0].[LocationPhone], [s0].[Locked], [s0].[MaintenanceLocationGuid], [s0].[NotifiedStudentFinancingProviderAtUtc], [s0].[OperatorId], [s0].[PaymentDueAtUtc], [s0].[ProductsDiscount], [s0].[PurchaseMethod], [s0].[RejectedPaymentInvoiceId], [s0].[ReservationForGroupName], [s0].[ReservationForName], [s0].[ReservationForPeopleGroupId], [s0].[ReservationForUserId], [s0].[ReservationId], [s0].[ReservationNumber], [s0].[ResultingAccountBalance], [s0].[ReturnInvoiceId], [s0].[SalesTransactionId], [s0].[Status], [s0].[TailNumber], [s0].[TotalDue], [s0].[TotalPaid], [s0].[TotalReturned], [s0].[TransactionNumber], [s0].[TransactionType], [s0].[WorkOrderGuid] FROM [SalesTransactionLineItems] AS [s] INNER JOIN [SalesTransactions] AS [s0] ON [s].[OperatorId] = [s0].[OperatorId] AND [s].[SalesTransactionId] = [s0].[SalesTransactionId] WHERE [s].[OperatorId] = @__operatorId_0 AND [s].[ResourceId] = @__resourceId_1 AND [s].[ItemTypeId] = @__lineItemType_2 AND [s].[UnitCost] = @__price_3 AND [s0].[Status] = 0`",2025-02-11T19:07:06Z,2025-02-11T19:07:06Z,chriscovert,"FSP-10700 Update prices on draft invoices when price changes are applied"
BillingHubApi,939,1944498791,review,danwatkins-fsp,"All files should be comitted with LF endings, but you have some being converted to CRLF.",2025-02-06T10:41:04Z,2025-02-06T10:49:04Z,davidcooper-fsp,"FSP-8135 Hide FSP Staff from QBO Customer Mapping Page"
BillingHubApi,939,1944507100,review,danwatkins-fsp,"The response would never be null and is proven statically with the type. If for some reason it was null, the following change would still fail the test. `Total` is already proven to work, so we only need to test `Results` here. We can also gain some assurance that the correct user is in the response.  ```suggestion         var billingSettingsCustomers = await ApiClient.GetBillingSettingsCustomers(OperatorId, filter);         billingSettingsCustomers.Results.Single().Id.Should().Be(UserGuid1); ```",2025-02-06T10:46:49Z,2025-02-06T10:55:08Z,davidcooper-fsp,"FSP-8135 Hide FSP Staff from QBO Customer Mapping Page"
BillingHubApi,939,1944507849,review,danwatkins-fsp,"💡Don't need the clutter of a constant here.  ```suggestion         var filter = new BillingCustomerFetchFilter         {             PageIndex = 1,             PageSize = 10         };  ```",2025-02-06T10:47:17Z,2025-02-06T10:49:04Z,davidcooper-fsp,"FSP-8135 Hide FSP Staff from QBO Customer Mapping Page"
BillingHubApi,939,1945249168,review,danwatkins-fsp,"This file has unecessary LF to CRLF conversion.",2025-02-06T18:41:58Z,2025-02-06T18:42:53Z,davidcooper-fsp,"FSP-8135 Hide FSP Staff from QBO Customer Mapping Page"
BillingHubApi,939,1945249254,review,danwatkins-fsp,"This file has unecessary LF to CRLF conversion.",2025-02-06T18:42:03Z,2025-02-06T18:42:53Z,davidcooper-fsp,"FSP-8135 Hide FSP Staff from QBO Customer Mapping Page"
BillingHubApi,939,1945249856,review,danwatkins-fsp,"```suggestion     /// Limits the number of fixtures concurrently initializing. This avoids deadlocks where too many fixtures attempt     /// initialization at the same time and not all containers can be initialized due to memory limits. ```",2025-02-06T18:42:31Z,2025-02-06T18:42:53Z,davidcooper-fsp,"FSP-8135 Hide FSP Staff from QBO Customer Mapping Page"
BillingHubApi,939,1945250007,review,danwatkins-fsp,"```suggestion     /// Ensures a single instance of a fixture is only initialized once when invoked by multiple test setups. ```",2025-02-06T18:42:40Z,2025-02-06T18:42:53Z,davidcooper-fsp,"FSP-8135 Hide FSP Staff from QBO Customer Mapping Page"
BillingHubApi,939,2598295338,review_summary,danwatkins-fsp,"Your actual change here looks good. Can it be tested in feature-1 by merging it into the `feature-1` branch and running a build?",2025-02-06T10:49:04Z,2025-02-06T10:49:04Z,davidcooper-fsp,"FSP-8135 Hide FSP Staff from QBO Customer Mapping Page"
BillingHubApi,939,2599812535,review_summary,danwatkins-fsp,"Can merge this whenever for BE-542, but I'm holding off merging my other changes for another day to make sure the problems in integration and FE-626 pass since they block my stuff.",2025-02-06T20:19:07Z,2025-02-06T20:19:07Z,davidcooper-fsp,"FSP-8135 Hide FSP Staff from QBO Customer Mapping Page"
BillingHubApi,936,1944893714,review,chriscovert,"💡 Maybe throw a more specific error message if there are multiple payrix accounts here instead of the generic 'sequence contains more than one..' message? I suppose if everyone is already off Propay this would never get used again though.",2025-02-06T15:07:00Z,2025-02-06T15:07:01Z,danwatkins-fsp,"FSP-10405 Allow additional Payrix merchant accounts to be created without being used"
BillingHubApi,936,1945371510,review,danwatkins-fsp,"Yeah I changed it from first to single because in the unlikely event this ran for a multi-merchant operator I want it to fail instead of do something wrong. There hasn't been a ProPay enabled operator since Sepember so there is no point making this work or adding a test for an error that would never happen.",2025-02-06T20:21:03Z,2025-02-06T20:21:04Z,danwatkins-fsp,"FSP-10405 Allow additional Payrix merchant accounts to be created without being used"
BillingHubApi,930,2562565110,review_summary,danwatkins-fsp,"Any reason you couldn't write a test for this? We have a lot of receipt tests.",2025-01-20T14:41:11Z,2025-01-20T14:41:11Z,chriscovert,"FSP-9715 Credit Memo email receipts should not show paid status"
BillingHubApi,930,2562683072,review_summary,danwatkins-fsp,"Would be good to run this through product acceptance",2025-01-20T15:33:37Z,2025-01-20T15:33:37Z,chriscovert,"FSP-9715 Credit Memo email receipts should not show paid status"
BillingHubApi,926,1915172461,review,danwatkins-fsp,"Would expect this to be alphabetized at line 485.",2025-01-14T16:21:41Z,2025-01-14T16:30:34Z,chriscovert,"FSP-10279 Don't process deactivated companies"
BillingHubApi,926,1915172791,review,danwatkins-fsp,"```suggestion ```",2025-01-14T16:21:52Z,2025-01-14T16:30:34Z,chriscovert,"FSP-10279 Don't process deactivated companies"
BillingHubApi,926,2550302162,review_summary,danwatkins-fsp,"Probably worth doing develop testing with a feature build first.",2025-01-14T16:30:33Z,2025-01-14T16:30:33Z,chriscovert,"FSP-10279 Don't process deactivated companies"
BillingHubApi,926,2565774584,review_summary,danwatkins-fsp,"Code looks right, but I think we still needed to run this by Kathryn.",2025-01-21T21:57:22Z,2025-01-21T21:57:22Z,chriscovert,"FSP-10279 Don't process deactivated companies"
BillingHubApi,924,1910529031,review,chriscovert,"This model is currently only needed for tests because any queries using it live in stored procs., We could add it to a test db context that extends core db if we wanted to keep it out of BillingHubApi.Data",2025-01-10T15:25:18Z,2025-01-10T15:25:18Z,chriscovert,"FSP-10373 Handle customer 2 training on reservation invoices"
BillingHubApi,924,1910536707,review,chriscovert,"Reservation training records before FSP-10094 will all have null StudentIds and will all be included on invoice. Once customer 2 training is introduced, StudentIds will have data so we only include invoice customer training",2025-01-10T15:30:59Z,2025-01-10T15:30:59Z,chriscovert,"FSP-10373 Handle customer 2 training on reservation invoices"
BillingHubApi,924,1913318847,review,danwatkins-fsp,"I would just leave it in the main context since we already do plenty of this. Then it highlights the existence of the dependency.",2025-01-13T14:52:22Z,2025-01-13T14:52:54Z,chriscovert,"FSP-10373 Handle customer 2 training on reservation invoices"
BillingHubApi,924,2546869980,review_summary,danwatkins-fsp,"Not sure about the JIRA comment, but looks right to me.",2025-01-13T14:52:54Z,2025-01-13T14:52:54Z,chriscovert,"FSP-10373 Handle customer 2 training on reservation invoices"
BillingHubApi,921,2580577630,issue,danwatkins-fsp,"@fspafahrenholtz Is there any particular rush getting this out? Normally I'd just let FSP-Packages update naturally for this change to flow out. We only have one endpoint in this API using CancellationToken.",2025-01-09T15:32:30Z,2025-01-09T15:32:30Z,fspafahrenholtz,"FSP-10396 Update FSP-Packages for gracefully handling task cancellation exceptions "
BillingHubApi,921,2580890936,issue,fspafahrenholtz,"@danwatkins-fsp No rush. This would reduce any 5xx errors from cancelled requests which is low/non-existent in Billing Hub so it's more of a future-proofing change.",2025-01-09T17:34:06Z,2025-01-09T17:34:28Z,fspafahrenholtz,"FSP-10396 Update FSP-Packages for gracefully handling task cancellation exceptions "
BillingHubApi,920,1907928057,review,danwatkins-fsp,"💡Naming convention is typically to use `ExpectBadRequest` in your test like this: ```suggestion     public async Task Create_Delete_ExpectBadRequest_HasPayments() ```",2025-01-08T22:19:00Z,2025-01-08T22:20:00Z,NickHotalling-FSP,"FSP-10406 Prevent ground school invoices from being deleted "
BillingHubApi,920,2538396708,review_summary,danwatkins-fsp,"Nevermind, account type was for billed invoice",2025-01-08T22:20:36Z,2025-01-08T22:20:36Z,NickHotalling-FSP,"FSP-10406 Prevent ground school invoices from being deleted "
BillingHubApi,919,2578018038,issue,danwatkins-fsp,"Tests are getting hung when run in GitHub for all PRs now. Going to have to dive into that. This change passed all tests locally so this might be allowed to bypass the build check just to get this shipped.",2025-01-08T15:52:22Z,2025-01-08T15:52:22Z,danwatkins-fsp,"FSP-10402 Reduce extra accounting auto sync SQL connections to one"
BillingHubApi,918,1905915708,review,danwatkins-fsp,"This seems a bit overcomplicated looking for it being a work order invoice. If you just add `CanAddInvoices` to the existing check it would accomplish enough for the goal here. Someone who can add invoices should be able to view receipts.  There is also a bit of automatic security with this being a single fetch endpoint because if they can't get the GUID from some other endpoint they won't be able to call this anyways.   ```suggestion             if (!(_httpContextAccessor.HasPermission(FspPolicies.ViewAllUsersAndGroups) ||                   _httpContextAccessor.HasPermission(BillingHubPolicies.CanAccessBillingTab) ||                   _httpContextAccessor.HasPermission(BillingHubPolicies.CanAddInvoices)))                 throw new NotAuthorizedException(""User not authorized to view this transaction""); ```",2025-01-07T18:58:58Z,2025-01-07T18:59:02Z,chriscovert,"FSP-7720 Allow mx invoice staff to view WO invoices for other customers"
BillingHubApi,918,1905950149,review,chriscovert,"Ensuring the invoice is for a WorkOrder was required because we're allowing staff to view other people's invoices. It was important that the only new access being granted for invoices being viewed by someone else was mx staff viewing a work order invoice.",2025-01-07T19:33:46Z,2025-01-07T19:33:46Z,chriscovert,"FSP-7720 Allow mx invoice staff to view WO invoices for other customers"
BillingHubApi,918,1905957411,review,danwatkins-fsp,"What is the risk of exposing this to people with `CanAddInvoices` regardless of MX stuff? We already allow `GET /sales/{id}` for users with `CanAddInvoices`. The `GET /sales/{id}/receipt` is just an HTML format of the data you can get from that endpoint already.  As is this is adding complexity and extra tests that I'm not sure we are benefiting from. We seem to play whack a mole when we start making these complex permission matrices, so I'm just trying to avoid that.",2025-01-07T19:41:21Z,2025-01-07T19:41:48Z,chriscovert,"FSP-7720 Allow mx invoice staff to view WO invoices for other customers"
BillingHubApi,918,1908931456,review,danwatkins-fsp,"All this work order test utility code should be removed. It could be useful someday, but no reason to keep code around with no references.",2025-01-09T14:41:49Z,2025-01-09T14:41:53Z,chriscovert,"FSP-7720 Allow mx invoice staff to view WO invoices for other customers"
BillingHubApi,918,1909030251,review,chriscovert,"We do have some tests creating workorders, but they pass because they don't need to assert any details about the workorder on the invoice (they just look at lineitems, payments, etc.). I feel like it would be valuable to have the workorder details persisted so we could assert on these if needed.  It does look like a poor implementation though, with the DisplayNumber and WorkOrderNumber being hard-coded values. Maybe if they were generated using random numbers it would be good enough to keep?",2025-01-09T15:34:10Z,2025-01-09T15:34:10Z,chriscovert,"FSP-7720 Allow mx invoice staff to view WO invoices for other customers"
BillingHubApi,918,1909037460,review,danwatkins-fsp,"It would be best to use randomly generated values. We can add this back if/when we need to improve those other tests.",2025-01-09T15:38:02Z,2025-01-09T15:38:03Z,chriscovert,"FSP-7720 Allow mx invoice staff to view WO invoices for other customers"
CoreDatabase,392,2096157072,review,danwatkins-fsp,"Is the idea that we could add custom types in the future with columns `IsSystemType` and `OperatorId`  like was done for `mx.WorkItemTypes`?  You probably want a `RoleTypeGuid` column as well so they could be referenced programatically like the MX pattern does? GUIDs aren't used for roles and permissions, so it might be fine to use integers. If we ever added a system type after custom types were in the DB already, there would be a big gap in `RoleTypeId` that couldn't be the same in all environments.  If we aren't ever going to have custom role types, then a table is probably overkill for what could be an enum on BE and FE like you comment suggested.",2025-05-19T17:01:46Z,2025-05-19T17:02:43Z,chriscovert,"FSP-11121 Adding RoleTypes"
CoreDatabase,392,2098063388,review,chriscovert,"It's not likely that new types will be needed later, and there are no plans to ever add custom role types. Switched to using an enum instead of a table",2025-05-20T14:01:58Z,2025-05-20T14:01:58Z,chriscovert,"FSP-11121 Adding RoleTypes"
CoreDatabase,387,2070491672,review,danwatkins-fsp,"Make it clear this is controlling if the statement is sent at all (following the convention of the existing column named `SendStatementsToUserWithBalanceOnly`). ```suggestion     [SendStatementsToUserWithNegativeBalance]              BIT              CONSTRAINT [DF_tblInvoicingPreferences_SendStatementsToUserWithNegativeBalance] DEFAULT (0) NOT NULL, ```",2025-05-01T16:38:25Z,2025-05-01T16:55:00Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2070497362,review,danwatkins-fsp,"💡This formatting is not readable, consider this: ```suggestion SET Context_Info 0x55555; --Short Circuit Triggers GO  -- Backfill SendStatementsWithNegativeBalance WHILE EXISTS ( 	SELECT TOP 1 CompanyId 	FROM tblInvoicingPreferences i 	WHERE i.SendStatementsToUserWithBalanceOnly != i.SendStatementsWithNegativeBalance ) BEGIN 	; WITH CTE_tblInvoicingPrefsUpdate(CompanyId, SendStatementsToUserWithBalanceOnly, SendStatementsWithNegativeBalance, SendStatementsWithMakePaymentLink) AS  	( 		SELECT TOP 50 CompanyId, SendStatementsToUserWithBalanceOnly, SendStatementsWithNegativeBalance, SendStatementsWithMakePaymentLink 		FROM tblInvoicingPreferences 		WHERE SendStatementsToUserWithBalanceOnly != SendStatementsWithNegativeBalance 	) 	UPDATE CTE_tblInvoicingPrefsUpdate SET SendStatementsWithNegativeBalance = SendStatementsToUserWithBalanceOnly, SendStatementsWithMakePaymentLink = 0; END  -- Set SendStatementsWithMakePaymentLink to false for existing rows WHILE EXISTS (SELECT TOP 1 CompanyId FROM tblInvoicingPreferences i WHERE i.SendStatementsWithMakePaymentLink = 1) BEGIN 	; WITH CTE_tblInvoicingPrefsUpdate(CompanyId, SendStatementsWithMakePaymentLink) AS  	( 		SELECT TOP 50 CompanyId, SendStatementsWithMakePaymentLink 		FROM tblInvoicingPreferences 		WHERE SendStatementsWithMakePaymentLink = 1 	) 	UPDATE CTE_tblInvoicingPrefsUpdate SET SendStatementsWithMakePaymentLink = 0; END ```",2025-05-01T16:43:50Z,2025-05-01T16:55:00Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2070498657,review,danwatkins-fsp,"The original convention for migration scripts used pascal case with hypens. These lowercase filenames do not sort correctly with the other FSP-XXXX named scripts.",2025-05-01T16:45:14Z,2025-05-01T16:55:00Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2070505639,review,danwatkins-fsp,"The requirements and designs for this setting are not in sync. It was much simpler with a single boolean that caused zero balances to be skipped. By splitting it out, we need to think through how this will appear to the user.  For example, if there are two check boxes for ""Has Negative Balance"" and ""Has Positive Balance"", if both are unchecked I would expect no statements to be sent to anyone. This means there would be no way to send statements to users with zero balance.  To do it right I think you would need 3 new booleans corresponding to check boxes in the UI: - SendStatementsToUserWithNegativeBalance - SendStatementsToUserWithPositiveBalance - SendStatementsToUserWithNoBalance",2025-05-01T16:51:54Z,2025-05-01T16:55:00Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2070662301,review,davidcooper-fsp,"Currently, the way the function operates today, if the balance checkbox is unchecked, then it will send to users with all balances that meet the other filters that are enabled. If they were to want all 3 of those cases, they should leave both options unchecked.",2025-05-01T18:58:03Z,2025-05-01T18:58:03Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2070692840,review,danwatkins-fsp,"How will these two options be presented to the user? You can't put them under the existing ""User meets these conditions"" section because they are mutually exclusive. There should be a new section named ""User meets any of these balance conditions"" where the positive and negative options are evaluated as a boolean or. If it was done that way, then you would not need a 3rd boolean for zero account balance.",2025-05-01T19:22:35Z,2025-05-01T19:22:35Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2070703382,review,davidcooper-fsp,"I'm not 100% sure how its presented on the front end, these are only outlined in specs and are not shown in Figma. In the specs it mentions they can select both of these options, so the plan is to have them evaluate as a boolean or like you mentioned.",2025-05-01T19:32:12Z,2025-05-01T19:32:13Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2070708554,review,danwatkins-fsp,"We are deciding requirements for this project, so if you decide to do it as an or (by merging this PR) then I would leave a comment on the design saying it needs to be in a new section as I mentioned.",2025-05-01T19:37:55Z,2025-05-01T19:37:55Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2080118976,review,danwatkins-fsp,"Don't we want `SendStatementsToUserWithNegativeBalance ` to be the opposite of `SendStatementsToUserWithBalanceOnly`? ```suggestion 	UPDATE CTE_tblInvoicingPrefsUpdate SET SendStatementsToUserWithNegativeBalance = (1 ^ SendStatementsToUserWithBalanceOnly), SendStatementsWithMakePaymentLink = 0; ```",2025-05-08T17:03:58Z,2025-05-08T17:14:24Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2080123496,review,danwatkins-fsp,"ℹ️If we are backfilling all these wtih values, then the API will have to set them correctly for the period of time the old frontend is only passing the single require balance boolean.",2025-05-08T17:07:19Z,2025-05-08T17:14:24Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2080127348,review,danwatkins-fsp,"`SendStatementsToUserWithPositiveBalance` should be true regardless of `SendStatementsToUserWithBalanceOnly`, right? Seems you should make the column default `1` and not have a CTE.",2025-05-08T17:10:15Z,2025-05-08T17:14:24Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2080131549,review,danwatkins-fsp,"Don't we need to backfill `SendStatementsToUserWithZeroBalance` to `1` when `SendStatementsToUserWithBalanceOnly = 0`?",2025-05-08T17:13:38Z,2025-05-08T17:14:24Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2080212704,review,davidcooper-fsp,"The current behavior of `SendStatementsToUserWithBalanceOnly` includes both negative and positive balances. It just filters out those without a balance, so I'm maintaining that here in the backfill.",2025-05-08T18:10:00Z,2025-05-08T18:10:01Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2080215418,review,davidcooper-fsp,"Yep, I'll adjust the API to ensure that.",2025-05-08T18:12:09Z,2025-05-08T18:12:09Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2080221995,review,davidcooper-fsp,"I was thinking I'd maintain the current behavior that when none of the balance filters are set, then it doesn't do any filtering on the balance, and only uses the other filters, so maintaining the functionality in both cases of `SendStatementsToUserWithBalanceOnly` the value of `SendStatementsToUserWithZeroBalance` would be 0",2025-05-08T18:16:52Z,2025-05-08T18:16:52Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,387,2080278874,review,danwatkins-fsp,"Ok the column names suggest an independent send/dont send for each balance state, but that would work as well.",2025-05-08T18:39:40Z,2025-05-08T18:39:40Z,davidcooper-fsp,"FSP-11395 Add Statement Preferences for Payment Links"
CoreDatabase,381,2058507110,review,danwatkins-fsp,"All four CC payment methods will share the same credit card type mappings. I think this makes sense as it would be tedious to keep them all the same.",2025-04-24T13:53:24Z,2025-04-24T13:53:30Z,chriscovert,"FSP-11338 add CreditCardAccountingSyncMappings table"
CoreDatabase,373,2775968420,issue,fspafahrenholtz,"❓Genuinely curious here and looking to learn: why is making a nullable column non-null necessary to drop it?",2025-04-03T14:24:00Z,2025-04-03T14:24:00Z,danwatkins-fsp,"FSP-10408 Change inv.PaymentTokens.MerchantAccountId to nullable"
CoreDatabase,373,2775987422,issue,fspafahrenholtz,"Nevermind, I goofed. It's going from non-null to null.",2025-04-03T14:29:57Z,2025-04-03T14:29:57Z,danwatkins-fsp,"FSP-10408 Change inv.PaymentTokens.MerchantAccountId to nullable"
CoreDatabase,372,2019419232,review,danwatkins-fsp,"Probably want to suppress triggers so we don't create a ton of event store events? The top operators have well over 7k users: ```suggestion SET Context_Info 0x55555; -- Short Circuit Triggers GO  DECLARE @OperatorId as int = 20047 ```   ```sql select top 10 OperatorId, count(1) from tblUsers group by OperatorId order by count(1) desc;  -- Results OperatorId	Count 117977	11570 121657	9706 139257	9306 160867	8927 12947	8185 57177	7763 189987	7490 132807	7439 150327	7339 ```",2025-03-28T21:27:41Z,2025-03-28T21:27:46Z,davidcooper-fsp,"FSP-11173 Clear Accounting Integration Mappings"
CoreDatabase,372,2019444063,review,danwatkins-fsp,"Normally we'd also want a CTE to batch this. I think if you filter to just the rows needing to be cleared it would be small enough to be fine.  ```suggestion UPDATE tblUsers SET AccountingUserId = NULL, AccountingUserName = NULL WHERE OperatorId = @OperatorId AND (AccountingUserId IS NOT NULL OR AccountingUserName IS NOT NULL); ```  Query shows there are about half or less when you filter it like this. ```sql select top 10 OperatorId, count(1) from tblUsers where AccountingUserId is not null or AccountingUserName is not null group by OperatorId order by count(1) desc;  -- Results OperatorId, Count 87907	5362 111987	4396 129007	3719 12947	2928 121657	2872 121587	2672 130947	2593 111427	2562 111487	2446 145897	2432 ```",2025-03-28T21:38:22Z,2025-03-28T21:42:32Z,davidcooper-fsp,"FSP-11173 Clear Accounting Integration Mappings"
CoreDatabase,372,2019459397,review,danwatkins-fsp,"@chriscovert We should also clear these I think? ```suggestion UPDATE inv.MaintenanceLocationTimeTypeRates SET AccountingProductId = NULL, AccountingProductName = NULL WHERE OperatorId = @OperatorId UPDATE inv.PaymentMethods SET AccountingSyncPaymentMethodId = NULL, AccountingSyncPaymentMethodName = NULL WHERE OperatorId = @OperatorId; ```",2025-03-28T21:49:55Z,2025-03-28T21:49:55Z,davidcooper-fsp,"FSP-11173 Clear Accounting Integration Mappings"
CoreDatabase,369,2008191707,review,danwatkins-fsp,"```suggestion CREATE NONCLUSTERED INDEX [IX_MaintenanceReminderResolutions_ReminderId]  ```",2025-03-21T19:13:55Z,2025-03-21T19:13:59Z,fspafahrenholtz,"FSP-11097 Change name of MX Reminder Resolution index"
CoreDatabase,364,2711895695,issue,danwatkins-fsp,"The PR merged before this will fail because I added the columns manually. This PR's build will get both changes done correctly.",2025-03-10T21:32:49Z,2025-03-10T21:32:49Z,danwatkins-fsp,"FSP-10989 Add StratusEnabled and SallieMaeEnabled columns to tblInvoicingPreferences"
CoreDatabase,362,1977587264,review,danwatkins-fsp,"I'm not seeing anything querying by this which would have made me think an index is necessary for 35k rows and growing.",2025-03-03T14:13:49Z,2025-03-03T14:13:59Z,fspafahrenholtz,"FSP-10773 Allow for an attachment to an entity with a Guid PK"
CoreDatabase,360,1975623019,review,neilbode-fsp,"Thinking a default constraint on this would be good. Similar to what you did for `PremiumServicesComponentEnabled`",2025-02-28T15:40:59Z,2025-02-28T15:41:13Z,danwatkins-fsp,"FSP-10905 Add Chargify premium services columns"
CoreDatabase,360,1975637833,review,danwatkins-fsp,"What scenario would we need a default for? This is a new table that hasn't been deployed to prod yet. There aren't any rows in develop or QA either.  None of the other columns in this deleted table have defaults.",2025-02-28T15:51:10Z,2025-02-28T15:51:11Z,danwatkins-fsp,"FSP-10905 Add Chargify premium services columns"
CoreDatabase,360,1975643945,review,danwatkins-fsp,"Just added it anyways. You could argue since there is code using this merged to CoreApi it should have a default since that code is unaware of the column.  It's not going to actually get used until FSP-10905 follows through though.",2025-02-28T15:55:20Z,2025-02-28T15:55:20Z,danwatkins-fsp,"FSP-10905 Add Chargify premium services columns"
CoreDatabase,360,2651203450,review_summary,neilbode-fsp,"Thanks for adding that. Wasn't aware this was a table that has never been deployed.",2025-02-28T16:15:47Z,2025-02-28T16:15:47Z,danwatkins-fsp,"FSP-10905 Add Chargify premium services columns"
CoreDatabase,356,1968267400,review,amatasek,"This could likely be a lot smaller than 7 digits, but no issue really",2025-02-24T19:14:29Z,2025-02-24T19:14:29Z,NickHotalling-FSP,"FSP-10764 Adds new table for storing maintenance calc settings"
CoreDatabase,356,1968275264,review,NickHotalling-FSP,"Really this is just for flexibility. We expect to warn the user if they enter a value higher than 2, but Ruth said there's no actual limit. I had considered (5,2).",2025-02-24T19:18:53Z,2025-02-24T19:18:53Z,NickHotalling-FSP,"FSP-10764 Adds new table for storing maintenance calc settings"
CoreDatabase,350,2624803281,issue,fspafahrenholtz,"Is the missing index the cause of slowness? Your statement (""may have caused updates to be slow"") is not very reassuring that this will fix the problem.",2025-01-30T15:25:00Z,2025-01-30T15:25:00Z,chriscovert,"FSP-10533 slow instructorRateTypes PUT"
CoreDatabase,350,2624826735,issue,chriscovert,"I couldn't repro the issue, so I'm wasn't sure if this is the _only_ cause of slowness. Execution plans showed this missing index had a 98% impact on the query, so I was thinking we'd want it even if there are other issues.  There is one more step I'm looking into where we're flushing the reservation cache as part of another PR.",2025-01-30T15:33:38Z,2025-01-30T15:34:04Z,chriscovert,"FSP-10533 slow instructorRateTypes PUT"
CoreDatabase,350,2624838703,issue,fspafahrenholtz,"True that it wouldn't hurt especially considering that this a joiner table so those two foreign keys (`InstructionTypeId` and `ReservationTypeId`) will be queried independently. ",2025-01-30T15:37:49Z,2025-01-30T15:37:49Z,chriscovert,"FSP-10533 slow instructorRateTypes PUT"
CoreDatabase,349,1927038447,review,chriscovert,"Should we keep this for the merchant accounts list fetch?",2025-01-23T14:08:12Z,2025-01-23T14:08:12Z,danwatkins-fsp,"FSP-10409 Add inv.MerchantAccountToLocationJoiner table"
CoreDatabase,349,1927064912,review,danwatkins-fsp,"This index is superseded by `UK_MerchantAccounts_OperatorId_MerchantAccountId` which can be used by a query only specifying `OperatorId`. The table is so small that table scans are hardly a concern if they ever happen anyways.",2025-01-23T14:24:37Z,2025-01-23T14:24:37Z,danwatkins-fsp,"FSP-10409 Add inv.MerchantAccountToLocationJoiner table"
CoreDatabase,346,1918773360,review,danwatkins-fsp,"I think we want to leave `PayrixAmountProcessedLastMonth` and `PayrixTransactionsProcessedLastMonth` how they were. Merchant swaps are going to be done by adding a new row which will cause all previous transactions to not count. Additionally, operators using multiple enabled merchant accounts will be under reporting.  Updating this procedure was mostly so that the query on line 247 doesn't accidentally use a disabled operator. It's only going to show one merchant for operators using multiple, but that's just a limitation of how we are using HubSpot.  ```suggestion     INNER JOIN inv.MerchantAccounts ma on stp.MerchantAccountId = ma.MerchantAccountId     WHERE stp.OperatorId = @OperatorId AND ma.TypeId = 2 AND stp.PaymentDate BETWEEN @StartOfLastMonth AND @EndOfLastMonth); ```",2025-01-16T15:36:26Z,2025-01-21T19:34:08Z,chriscovert,"FSP-10477 Update Hubspot_Fetch_OperatorData_V5 to use first enabled merchant account"
CoreDatabase,346,2556527888,review_summary,danwatkins-fsp,"Forgot to submit my review, had a pending comment days ago.",2025-01-21T19:34:08Z,2025-01-21T19:34:08Z,chriscovert,"FSP-10477 Update Hubspot_Fetch_OperatorData_V5 to use first enabled merchant account"
CoreDatabase,339,1901265240,review,danwatkins-fsp,"What do you think about URL encoding these and then having the process that converts single to double quotes also convert these back to single quotes after doing that? Using a backtick for single quotes seems acceptable, but since a single quote is also used as an apostrophe, those are goingt look a bit off?  Querying the database, I'm only seeing a few that would look a bit off so it's probably not worth it at this point but something to consider since we've done this a few times now.  ```sql select top 100 PartNumber from mx.Parts where PartNumber like '%''%';  # DELETE UPDATE W SERIAL #'S 1U149-015-9 # 3'x4' Interior firewall insulation - N20676 # Handle Mount Assy.'s # Postage for 337's # 44PN1/4'' # COTTON SWAB 6' ```  ```sql select top 100 LabelName from mx.Labels where LabelName like '%''%';  # Jim's Office # Handle Mount Assy.'s  # 12/26/24 SENT OUT TO RUDY'S ```  ```suggestion 			SELECT ''',''' + cast(REPLACE(ap.PartNumber, '''', '%27') AS VARCHAR(50)) ```",2025-01-02T21:14:49Z,2025-01-02T21:14:53Z,chriscovert,"FSP-10360 Inventory Search Syncs fail when labels or alternate parts have single quote"
CoreDatabase,339,1901267955,review,chriscovert,"I have a second PR ready to convert the backticks back to single quotes. I could switch to %27 if that would make things clearer that we're encoding and later decoding a single quote here.",2025-01-02T21:19:16Z,2025-01-02T21:19:16Z,chriscovert,"FSP-10360 Inventory Search Syncs fail when labels or alternate parts have single quote"
CoreDatabase,339,1901292926,review,danwatkins-fsp,"It would be cleaner (not necessarily clearer, although that is gained somewhat) because then actual back tick usages wouldn't be converted to single qutoes.",2025-01-02T21:54:54Z,2025-01-02T21:54:54Z,chriscovert,"FSP-10360 Inventory Search Syncs fail when labels or alternate parts have single quote"
Curriculum.Api,554,2087588505,review,NickHotalling-FSP,"proc expects a bit - do we need to fallback to false instead of null?",2025-05-13T20:33:23Z,2025-05-13T20:33:23Z,timsquires,"FSP-11479 add checkride enabled to course settings"
Curriculum.Api,553,2834621065,review_summary,danwatkins-fsp,"Your title should remove the FSP-11486 since this isn't a release artifact concern. Probably reword to ""Mark AuditHistoryResourceType obsolete and add missing values"".",2025-05-12T21:21:59Z,2025-05-12T21:21:59Z,NickHotalling-FSP,"Mark AuditHistoryResourceType obsolete and add missing values"
Curriculum.Api,550,1951314780,review,danwatkins-fsp,"So `CreatedAtUtc` was only there as a last resort, but now we want it to be `null` which is more correct?",2025-02-11T17:47:48Z,2025-02-11T17:48:01Z,seanpittman-fsp,"FSP-10711: Allow null value for program enrollment date"
Curriculum.Api,550,1951486631,review,seanpittman-fsp,"Yep exactly",2025-02-11T19:39:15Z,2025-02-11T19:39:16Z,seanpittman-fsp,"FSP-10711: Allow null value for program enrollment date"
Curriculum.Api,548,1943732912,review,danwatkins-fsp,"Don't need to keep this as a date only? ```suggestion                             .ConvertUtcTimeToLocal(operatorTimeZoneOffset, programEnrollment.ExpectedStartDate ?? (programEnrollment.ActualStartDate ?? programEnrollment.CreatedAtUtc)).Date, ```",2025-02-05T22:04:35Z,2025-02-05T22:04:41Z,seanpittman-fsp,"FSP-10254: Enrollment Report Reflecting Incorrect Dates"
Curriculum.Api,548,1943737299,review,seanpittman-fsp,"Good catch thanks",2025-02-05T22:06:23Z,2025-02-05T22:06:23Z,seanpittman-fsp,"FSP-10254: Enrollment Report Reflecting Incorrect Dates"
Curriculum.Api,545,1896112560,review,fspafahrenholtz,"💡 Please reformat lines 1741-1882. ",2024-12-23T20:48:44Z,2024-12-23T20:50:14Z,timsquires,"FSP-10251 generate graduation cert even when operator logo is not set"
Curriculum.Api,545,1896128566,review,timsquires,"how did I not catch this? I would have assumed it did it for me automatically when I moved that `}` 🤷 ",2024-12-23T21:17:46Z,2024-12-23T21:17:46Z,timsquires,"FSP-10251 generate graduation cert even when operator logo is not set"
Curriculum.Api,545,2521131258,review_summary,fspafahrenholtz,"![](https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExaXJrenh0djlrMTJpeWxwZ3A1OWhnN2phbGhxYm4wODRsOXEyeTkxbiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/xU1spRleFHmtjvskXw/giphy.gif)",2024-12-23T20:50:14Z,2024-12-23T20:50:14Z,timsquires,"FSP-10251 generate graduation cert even when operator logo is not set"
FlightScheduleProAPI,2346,2834623954,review_summary,danwatkins-fsp,"Your title should remove the FSP-11486 since this isn't a release artifact concern. Probably reword to ""Mark AuditHistoryResourceType obsolete and add missing values"".",2025-05-12T21:22:39Z,2025-05-12T21:22:39Z,NickHotalling-FSP,"Add missing AuditHistoryResourceType values"
FlightScheduleProAPI,2344,2082109935,review,jlenox-fsp,"There are many places in code where PilotManager is created w/ a `new PilotManager()` rather than being created w/ DI.  Wanting to have the expense of time / bugs with messing w/ all those, I inject the needed items inline in the functions.  Some of the functions in this manager are static, so they couldn't use the instance DI globals anyway.",2025-05-09T16:56:50Z,2025-05-09T16:58:12Z,jlenox-fsp,"FSP-11424 Expando removal pilot manager"
FlightScheduleProAPI,2344,2082111582,review,jlenox-fsp,"Keeping the same naming casing as the dynamic had before to prevent any issues.",2025-05-09T16:58:04Z,2025-05-09T16:58:12Z,jlenox-fsp,"FSP-11424 Expando removal pilot manager"
FlightScheduleProAPI,2344,2082313071,review,fspafahrenholtz,"💡 This adds some nice IDE squigglies and a compiler warning for anyone that would dare use the method. ```suggestion         [Obsolete(""Lenox: Dead code, this is looking at V3 billing tables.  No one uses those for balances any longer.  Don't migrate from massive"")]  ```",2025-05-09T18:26:37Z,2025-05-09T18:36:48Z,jlenox-fsp,"FSP-11424 Expando removal pilot manager"
FlightScheduleProAPI,2344,2082316864,review,fspafahrenholtz,"❓ Why `TryParse` on `PILCertificateDate` but not on `PILStudentExpiration` and others?",2025-05-09T18:29:48Z,2025-05-09T18:36:48Z,jlenox-fsp,"FSP-11424 Expando removal pilot manager"
FlightScheduleProAPI,2344,2082465956,review,jlenox-fsp,"Well that is an excellent question, here's the not super great reason  ``` CREATE TABLE [dbo].[tblPilotCertificate]( ... [CertificateDate] [varchar](20) NOT NULL, ... [StudentExpiration] [datetime] NULL, ... ```  Why this is like that, you'd need to ask Jim Lenox of 20 / 21 years ago",2025-05-09T20:44:12Z,2025-05-09T20:44:12Z,jlenox-fsp,"FSP-11424 Expando removal pilot manager"
FlightScheduleProAPI,2344,2082475923,review,fspafahrenholtz,"This got reverted by the merge.",2025-05-09T20:50:09Z,2025-05-09T20:50:33Z,jlenox-fsp,"FSP-11424 Expando removal pilot manager"
FlightScheduleProAPI,2344,2082490018,review,jlenox-fsp,"fixed and file is now unchanged.",2025-05-09T20:59:20Z,2025-05-09T20:59:20Z,jlenox-fsp,"FSP-11424 Expando removal pilot manager"
FlightScheduleProAPI,2343,2082458242,review,fspafahrenholtz,"💡 Another place that `[Obsolete]` could be used for those IDE and compiler warnings. ```suggestion         [Obsolete(""LENOX: this is only used if /api/v2/schedule is called w/o a scheduleViewId parameter. FE has changed so this is not coming in unset on the initial call. Leaving this using massive for now since I think its dead code."")] ```",2025-05-09T20:36:25Z,2025-05-09T20:45:16Z,jlenox-fsp,"FSP-11421 Expando removal schedule view manager"
FlightScheduleProAPI,2342,2077813078,review,fspafahrenholtz,"💡  ```suggestion             return Task.FromResult(""[\""bf8148ec-796b-4ba5-8d8b-c85114075621\"",\""ddb78dd5-f0bc-4f46-9ef2-f3481c575d71\"",\""9cd664f2-b2b2-413f-96fa-c53db2db779f\"",\""b240366a-1ee0-4fd8-98d1-fc93c1e52e89\"",\""a15d8d21-7e24-4485-8763-de086b16b088\"",\""27b4c6ea-b2e7-4b8b-bf1a-3aef56b9c3ad\""]""); ```",2025-05-07T14:46:47Z,2025-05-07T16:49:51Z,jlenox-fsp,"FSP-11420 Expando Removal PeopleManager"
FlightScheduleProAPI,2341,2075732082,review,jlenox-fsp,"Needed to be able to inject a known time so the json comparison tests to work.  I switched this up to allow that.",2025-05-06T15:28:19Z,2025-05-06T15:32:06Z,jlenox-fsp,"FSP-11396 Expando Removal FlightRecordManager"
FlightScheduleProAPI,2341,2075736131,review,jlenox-fsp,"Helper function that is shared by 2 other methods.",2025-05-06T15:30:20Z,2025-05-06T15:32:06Z,jlenox-fsp,"FSP-11396 Expando Removal FlightRecordManager"
FlightScheduleProAPI,2338,2060893523,review,jlenox-fsp,"This change doesn't work for all cases. Potential Labels in db are: City Zip/Postal Code Street Address Address Line 1 Zip Plus 4 Address 1 Address Line 2 Town/Locality County Address 2 State/Province/Region Postal Code State Province Zip Town/City Suburb/Town/City ",2025-04-25T21:18:11Z,2025-04-29T20:01:21Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2067284494,review,jlenox-fsp,"Found bug with tests, county was not handled properly previously",2025-04-29T19:59:17Z,2025-04-29T20:01:21Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2067293332,review,jlenox-fsp,"Switched back to if statements",2025-04-29T20:01:43Z,2025-04-29T20:01:44Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2069544044,review,fspafahrenholtz,"❓ I expect services to be injected via constructor, what's the reason for doing it via the Ninject Kernel?",2025-04-30T22:05:16Z,2025-04-30T22:23:27Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2069548420,review,fspafahrenholtz,"Can use the property names: ```suggestion                 { nameof(Address.Line1), ""\""OP \"""" },                 { nameof(Address.Line2), ""\""\"""" },                 { nameof(Address.City), ""\""OPark\"""" },                 { nameof(Address.State), ""\""KS\"""" },                 { nameof(Address.Zip), ""\""64030\"""" } ```",2025-04-30T22:10:09Z,2025-04-30T22:23:27Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2069548977,review,fspafahrenholtz,"And use `nameof` elsewhere in the test file.",2025-04-30T22:10:49Z,2025-04-30T22:23:27Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2069550559,review,fspafahrenholtz,"```suggestion  ```",2025-04-30T22:12:31Z,2025-04-30T22:23:27Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2069558669,review,fspafahrenholtz,"💡 If the address objects are `record`s then we can use the built-in `==` comparison logic which will compare by value. Then `string`s and JSON serialization and their issues don't have to be involved.",2025-04-30T22:22:50Z,2025-04-30T22:23:27Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2071765817,review,jlenox-fsp,"That would not work when the Address was a Expando / dynamic before it was switched to be a static type.  These are just a simple test as I'm converting them from dynamic / Expando to concrete objects and getting rid of the use of massive to query the database which returns dynamics as well.",2025-05-02T15:17:15Z,2025-05-02T15:19:43Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2071786474,review,jlenox-fsp,"I've made this change, but this used to be a static class and method.   It was used from the company class, so I have now had to to a Ninject Kernel Get there instead.",2025-05-02T15:29:28Z,2025-05-02T15:29:28Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2071789804,review,jlenox-fsp,"We are just trying to get rid of the dynamics / Expandos / massive.  I'm writing a test that passes when those are in play then using that to verify my changes still function.  The expando removal tests are a short lived thing to make sure no mess ups happen in the conversion.",2025-05-02T15:32:03Z,2025-05-02T15:32:03Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2071790285,review,jlenox-fsp,"Doesn't matter",2025-05-02T15:32:26Z,2025-05-02T15:32:26Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2073821107,review,fspafahrenholtz,"Gotcha. So these tests become unnecessary once all the expandos are gone?",2025-05-05T17:01:23Z,2025-05-05T17:01:24Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2074070063,review,jlenox-fsp,"I'm coding them against the data that is in develop db and on my user currently.  Just making sure the json casing is the same between when it was a dynamic and when I return a static object.  ",2025-05-05T19:33:54Z,2025-05-05T19:33:54Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2074230830,review,fspafahrenholtz,"It's dismissive to say it doesn't matter. I've done the work for you to remove the extra lines and my suggestion can be applied without any additional work from you.",2025-05-05T21:32:50Z,2025-05-05T21:32:50Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2075385869,review,jlenox-fsp,"Wegner has recently asked why we are so slow getting things done around here.  I mentioned that there is a lot of ""bullshit nonsense"" being pointed out on PR's.    He said quit wasting time on it and get shit done.    Our customers don't care if there are 2 blank lines in this temporary helper class I wrote to test that the dynamic looks the same as the resulting static.  This is the best example of a huge waste of time on something that doesn't matter.  This was pointed out on 4/30 and I responded on 5/2 and we still don't have it complete on 5/6.",2025-05-06T12:39:37Z,2025-05-06T12:39:37Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2338,2075523563,review,fspafahrenholtz,"If my review is blocking work then please contact me on Slack for a faster response or to go over my review in real time so we don't have async communication lag. If you've got pressure to get this out there then let me know and I'll help get it going faster.",2025-05-06T13:48:30Z,2025-05-06T13:48:30Z,jlenox-fsp,"FSP-11380 Expando Removal AddressManager "
FlightScheduleProAPI,2333,2021835300,review,fspafahrenholtz,"`resolution` is `new`ed up at the top of this method so it's redundant to clone it here. 🤦 ",2025-03-31T22:01:52Z,2025-03-31T22:02:05Z,fspafahrenholtz,"FSP-11079 Save the requested reference number on the reminder resolution"
FlightScheduleProAPI,2330,2021617692,review,fspafahrenholtz,"This typo in the database column name is going to haunt us forever.",2025-03-31T19:03:03Z,2025-03-31T19:05:34Z,davidcooper-fsp,"FSP-11068 Add ApiDeck info to MyOperators Bootstrap"
FlightScheduleProAPI,2330,2021618377,review,fspafahrenholtz,"```suggestion public record AccountingSyncConfig ```",2025-03-31T19:03:38Z,2025-03-31T19:05:34Z,davidcooper-fsp,"FSP-11068 Add ApiDeck info to MyOperators Bootstrap"
FlightScheduleProAPI,2330,2021663428,review,davidcooper-fsp,"It definitely will",2025-03-31T19:39:23Z,2025-03-31T19:39:23Z,davidcooper-fsp,"FSP-11068 Add ApiDeck info to MyOperators Bootstrap"
FlightScheduleProAPI,2330,2730261796,review_summary,fspafahrenholtz,"Minor formatting change",2025-03-31T19:05:34Z,2025-03-31T19:05:34Z,davidcooper-fsp,"FSP-11068 Add ApiDeck info to MyOperators Bootstrap"
FlightScheduleProAPI,2329,2751519040,issue,davidcooper-fsp,"Fix looks good, lets add a test in the Integration tests for this scenario",2025-03-25T14:47:26Z,2025-03-25T14:47:26Z,NickHotalling-FSP,"FSP-9966 Prevent reservation if no slots available in scheduling group"
FlightScheduleProAPI,2329,2751718689,issue,NickHotalling-FSP,"Changed to draft as we decided to add some integration tests",2025-03-25T15:46:26Z,2025-03-25T15:46:26Z,NickHotalling-FSP,"FSP-9966 Prevent reservation if no slots available in scheduling group"
FlightScheduleProAPI,2329,2011069331,review,NickHotalling-FSP,"We're trying to determine the `max` number of collisions with the requested time slot. If `max` equals or exceeds the number of available slots (number of tails in a scheduling group), it will result in an error (which is our goal here).  We loop over the chunk of time for the desired reservation from start to end, shortening the gap with each iteration, and compare it with all the collisions (reservations that overlap with our desired time). As the code was written, we'd only reach the max if we had multiple collisions happening at the same time (scenario 1). This would not catch collisions that were offset (scenario 2).  ![image](https://github.com/user-attachments/assets/9d8ee006-ba86-4756-8e7f-21ecc562a420)  Collision items for scheduling groups will have a SlotId > 0 (null slotIds or collision items for pilots return a 0 for the slotId). Using the slotIds, we can check to see how many of the slots are blocked during the desired reservation time.",2025-03-24T23:45:42Z,2025-03-24T23:47:32Z,NickHotalling-FSP,"FSP-9966 Prevent reservation if no slots available in scheduling group"
FlightScheduleProAPI,2329,2012212094,review,davidcooper-fsp,"Scenario 1 will error correctly, scenario 2 is solvable, due to the nature of manual tail assignment, since they don't overlap the reservation on group 2 could be assigned to the same airplane as the reservation for group 1, and then there will be an airplane to solve for the desired timeframe",2025-03-25T14:17:25Z,2025-03-25T14:17:25Z,NickHotalling-FSP,"FSP-9966 Prevent reservation if no slots available in scheduling group"
FlightScheduleProAPI,2329,2012385018,review,NickHotalling-FSP,"Yes, scenario 2 is solvable, and if you edit the reservation on slot 2 and just save it with no changes, it will move itself over to slot 1. However, with the schedule as-is in scenario 2, we shouldn't be able to create the new reservation until the existing schedule has been corrected.   For purposes of this ticket, we're not trying to adjust the schedule. We're just going to throw an error if the new reservation can't be worked into the existing schedule. Otherwise, if we continue with the reservation, it gets saved with no scheduling group b/c no open slot can be found. (API/Services/ReservationService.cs : line 2608)",2025-03-25T15:34:16Z,2025-03-25T15:34:16Z,NickHotalling-FSP,"FSP-9966 Prevent reservation if no slots available in scheduling group"
FlightScheduleProAPI,2329,2017508667,review,NickHotalling-FSP,"Administrator role would return true for all of the userPermissions anyway",2025-03-27T19:46:36Z,2025-03-27T19:46:36Z,NickHotalling-FSP,"FSP-9966 Prevent reservation if no slots available in scheduling group"
FlightScheduleProAPI,2329,2017518897,review,NickHotalling-FSP,"This is the newly added code to catch non-overlapping time blocks in different slots that collide with the new reservation.",2025-03-27T19:54:59Z,2025-03-27T19:54:59Z,NickHotalling-FSP,"FSP-9966 Prevent reservation if no slots available in scheduling group"
FlightScheduleProAPI,2329,2017597801,review,NickHotalling-FSP,"It should be safe to bypass our BaseClient since this api client is only used for integration tests.",2025-03-27T21:02:47Z,2025-03-27T21:02:47Z,NickHotalling-FSP,"FSP-9966 Prevent reservation if no slots available in scheduling group"
FlightScheduleProAPI,2329,2017619260,review,davidcooper-fsp,"These tests only seem to both pass when run individually, 1 fails if they are run simultaneously. Any way this would be an easy fix?",2025-03-27T21:23:29Z,2025-03-27T21:25:01Z,NickHotalling-FSP,"FSP-9966 Prevent reservation if no slots available in scheduling group"
FlightScheduleProAPI,2329,2017627143,review,NickHotalling-FSP,"@chriscovert mentioned that he was not able to get the tests to run in parallel either",2025-03-27T21:31:31Z,2025-03-27T21:31:31Z,NickHotalling-FSP,"FSP-9966 Prevent reservation if no slots available in scheduling group"
FlightScheduleProAPI,2329,2017649902,review,davidcooper-fsp,"Discussing this issue offline. It appears to be a ninject issue I'm also experiencing in the upgrade of Curriculum Api tests.",2025-03-27T21:56:29Z,2025-03-27T21:56:29Z,NickHotalling-FSP,"FSP-9966 Prevent reservation if no slots available in scheduling group"
FlightScheduleProAPI,2329,2017674300,review,NickHotalling-FSP,"This was probably the biggest win for the tests, and I wish I had done it first instead of last. With BaseClient swallowing errors, I had to debug every single time to catch what was breaking. With this change, we can now see the error messages thrown by the code.  Tests only have issues when the ApiException has an ErrorResponse, but they work fine when the exception has RequestErrors",2025-03-27T22:26:56Z,2025-03-27T23:11:59Z,NickHotalling-FSP,"FSP-9966 Prevent reservation if no slots available in scheduling group"
FlightScheduleProAPI,2329,2018821647,review,davidcooper-fsp,"This issue is turning out to be a big issue, I'm also facing this issue in the Curriculum Api tests. The underlying issue is that Ninject does not update the registered Fake classes between tests. Solving this issue will become a separate card: https://flightschedulepro.atlassian.net/browse/FSP-11170",2025-03-28T14:46:54Z,2025-03-28T18:32:01Z,NickHotalling-FSP,"FSP-9966 Prevent reservation if no slots available in scheduling group"
FlightScheduleProAPI,2327,2007808954,review,fspafahrenholtz,"Thanks to @danwatkins-fsp for this very efficient query.",2025-03-21T15:19:13Z,2025-03-21T15:19:13Z,fspafahrenholtz,"FSP-11097 Optimize retrieval of MX reminder resolutions"
FlightScheduleProAPI,2327,2008109707,review,danwatkins-fsp,"Why did the query I looked at yesterday have multiple reminder IDs to search by if this only has one?",2025-03-21T18:23:08Z,2025-03-21T18:23:49Z,fspafahrenholtz,"FSP-11097 Optimize retrieval of MX reminder resolutions"
FlightScheduleProAPI,2327,2008163672,review,fspafahrenholtz,"Line 855 passes multiple reminder ids.",2025-03-21T18:56:55Z,2025-03-21T18:56:55Z,fspafahrenholtz,"FSP-11097 Optimize retrieval of MX reminder resolutions"
FlightScheduleProAPI,2325,2686677304,review_summary,NickHotalling-FSP,"Thanks for continuing to improve fetch methods with cancellationTokens.",2025-03-14T19:54:04Z,2025-03-14T19:54:04Z,fspafahrenholtz,"FSP-11052 Return attachment info on squawks tied to flight record"
FlightScheduleProAPI,2321,1996079068,review,fspafahrenholtz,"`.Field` is our extension method that does the DbNull check. ```suggestion                                 ReferenceNumber = reader.Field<string>(""ReferenceNumber"") ```",2025-03-14T18:23:10Z,2025-03-14T18:24:58Z,NickHotalling-FSP,"FSP-10661 Include ReferenceNumber with Maintenance and Squawk reports"
FlightScheduleProAPI,2321,2686466804,review_summary,fspafahrenholtz,"minor tweak",2025-03-14T18:24:58Z,2025-03-14T18:24:58Z,NickHotalling-FSP,"FSP-10661 Include ReferenceNumber with Maintenance and Squawk reports"
FlightScheduleProAPI,2318,1992020059,review,danwatkins-fsp,"If we are writting a standard path test, I think we want at least one meaningful assertion.  Rationale is this will report as code coverage when measured for a lot of lines of code, but there is no guarantee the code covered is working correct. Assertion-free tests just prove the code under test doesn't throw an exception.",2025-03-12T17:53:28Z,2025-03-12T18:04:25Z,davidcooper-fsp,"FSP-11025 Ensure to set KeyCafeId "
FlightScheduleProAPI,2318,1992020716,review,danwatkins-fsp,"This isn't a test for the aircraft controller.  ```suggestion namespace CoreApi.IntegrationTests.Controllers.AvailabilityController; ```",2025-03-12T17:53:57Z,2025-03-12T17:56:15Z,davidcooper-fsp,"FSP-11025 Ensure to set KeyCafeId "
FlightScheduleProAPI,2318,1992048992,review,danwatkins-fsp,"When I run all the integration tests at the same time, the availability tests fail with a 500. I think the problem is that both test classes are doing `IntegrationTest.StartTestContainers` at the same time and there is no semaphore protection. We should only be setting the containers up once and sharing them for all tests.",2025-03-12T18:11:46Z,2025-03-12T18:12:36Z,davidcooper-fsp,"FSP-11025 Ensure to set KeyCafeId "
FlightScheduleProAPI,2318,1992108341,review,davidcooper-fsp,"This has not fully been solved yet, I'm struggling with the implementation of this in Curriculum Api currently.",2025-03-12T18:47:30Z,2025-03-12T18:47:30Z,davidcooper-fsp,"FSP-11025 Ensure to set KeyCafeId "
FlightScheduleProAPI,2318,2679396594,review_summary,danwatkins-fsp,"This is cool to see our first test written for a real bug. Just a couple changes I think are needed.",2025-03-12T17:56:15Z,2025-03-12T17:56:15Z,davidcooper-fsp,"FSP-11025 Ensure to set KeyCafeId "
FlightScheduleProAPI,2317,1989916872,review,NickHotalling-FSP,"do you need a dbNull check?",2025-03-11T18:31:49Z,2025-03-11T18:31:49Z,chriscovert,"FSP-10645 Add AccountingPackage to Bootstrap"
FlightScheduleProAPI,2317,1989994693,review,chriscovert,"The .Field<> method handles the null checks. I double-checked in feature-1 and it's returning nulls, qbo, and apideck results.",2025-03-11T19:27:31Z,2025-03-11T19:27:31Z,chriscovert,"FSP-10645 Add AccountingPackage to Bootstrap"
FlightScheduleProAPI,2315,1989251678,review,danwatkins-fsp,"The point of this annotation is to indicate the storage max length. Everything I read suggests you should be using `MaxLengthAttribute` here. If you search CoreApi for `MaxLength` you'll see it's used much more than `StringLength` which I think has incorrectly been used lately.  ```suggestion         [MaxLength(50)] public string ReferenceNumber { get; set; } ```",2025-03-11T13:16:33Z,2025-03-11T13:20:37Z,fspafahrenholtz,"FSP-10736 Add reference number to reminder resolution history fetch"
FlightScheduleProAPI,2315,1989252425,review,danwatkins-fsp,"Usually we split these out to their own files.",2025-03-11T13:16:57Z,2025-03-11T13:17:03Z,fspafahrenholtz,"FSP-10736 Add reference number to reminder resolution history fetch"
FlightScheduleProAPI,2315,1989256476,review,danwatkins-fsp,"Actualy I retract this comment, sounds like StringLength works for both.",2025-03-11T13:18:47Z,2025-03-11T13:18:59Z,fspafahrenholtz,"FSP-10736 Add reference number to reminder resolution history fetch"
FlightScheduleProAPI,2315,1989355318,review,fspafahrenholtz,"Yes, usually I would do that. My reasoning for keeping it in the same file is that when this endpoint is migrated it makes it that much easier. If we were expanding this API I would be more quick to put this in its own file.",2025-03-11T14:03:29Z,2025-03-11T14:03:30Z,fspafahrenholtz,"FSP-10736 Add reference number to reminder resolution history fetch"
FlightScheduleProAPI,2314,1987812256,review,NickHotalling-FSP,"❔ @timsquires @amatasek ^^",2025-03-10T18:24:54Z,2025-03-10T18:24:55Z,NickHotalling-FSP,"FSP-10990 - Time to Next Service Report - Maintenance Overage updates"
FlightScheduleProAPI,2314,1987812771,review,NickHotalling-FSP,"❔ @timsquires @amatasek ^^ same question",2025-03-10T18:25:17Z,2025-03-10T18:25:17Z,NickHotalling-FSP,"FSP-10990 - Time to Next Service Report - Maintenance Overage updates"
FlightScheduleProAPI,2314,1989628756,review,NickHotalling-FSP,"We had an operator that was overflowing datediff b/c the end date was set to 12/31/9999. Although the start date and maintenance filters remove that record, the additional case statement was added to prevent any date differences over 1 year.",2025-03-11T15:57:29Z,2025-03-11T15:57:30Z,NickHotalling-FSP,"FSP-10990 - Time to Next Service Report - Maintenance Overage updates"
FlightScheduleProAPI,2314,1989631880,review,NickHotalling-FSP,"Same comment as above. The Start date filter removes the offending record for one operator, but a CASE statement was added here as well to prevent flight times of over 1 year. Something tells me they'd probably need to refuel.",2025-03-11T15:58:58Z,2025-03-11T15:58:58Z,NickHotalling-FSP,"FSP-10990 - Time to Next Service Report - Maintenance Overage updates"
FlightScheduleProAPI,2314,1989928395,review,fspafahrenholtz,"💡 Make the `0` a constant value instead of a comment describing it: ``` const int Dispatched = 0; ... sql.AppendLine($""WHERE ISNULL(f.[Status],0) = {Dispatched} ""); ```",2025-03-11T18:39:38Z,2025-03-11T18:57:42Z,NickHotalling-FSP,"FSP-10990 - Time to Next Service Report - Maintenance Overage updates"
FlightScheduleProAPI,2314,1989943158,review,fspafahrenholtz,"❓ Is there a chance `aircraftToInclude` would be empty? That could affect the result of the `IN` on line 8018",2025-03-11T18:49:50Z,2025-03-11T18:57:42Z,NickHotalling-FSP,"FSP-10990 - Time to Next Service Report - Maintenance Overage updates"
FlightScheduleProAPI,2314,1989945275,review,fspafahrenholtz,"💡 Changing this into a constant value would remove the need for a comment: `if(maintenanceType == HourReport)`",2025-03-11T18:51:34Z,2025-03-11T18:57:42Z,NickHotalling-FSP,"FSP-10990 - Time to Next Service Report - Maintenance Overage updates"
FlightScheduleProAPI,2314,1989953629,review,fspafahrenholtz,"❓ It looks like this could be negative (line 8082) which feels like it goes against the name of this property. Would that be a problem for the FE?",2025-03-11T18:57:31Z,2025-03-11T18:57:42Z,NickHotalling-FSP,"FSP-10990 - Time to Next Service Report - Maintenance Overage updates"
FlightScheduleProAPI,2314,1990042236,review,timsquires,"I copied the new properties to use for the FE changes and noticed there's a typo in the names here, `maintenace` ",2025-03-11T19:57:27Z,2025-03-11T19:57:28Z,NickHotalling-FSP,"FSP-10990 - Time to Next Service Report - Maintenance Overage updates"
FlightScheduleProAPI,2314,1990095768,review,NickHotalling-FSP,"Should be fine. `aircraftToInclude` contains the results of the main search query that we want to gather reservations for on line 8018. If the main results are empty, then there are no aircraft to gather reservations for.",2025-03-11T20:38:25Z,2025-03-11T20:38:26Z,NickHotalling-FSP,"FSP-10990 - Time to Next Service Report - Maintenance Overage updates"
FlightScheduleProAPI,2314,1990108111,review,NickHotalling-FSP,"Changed to positive value.",2025-03-11T20:49:05Z,2025-03-11T20:49:05Z,NickHotalling-FSP,"FSP-10990 - Time to Next Service Report - Maintenance Overage updates"
FlightScheduleProAPI,2313,1987481291,review,NickHotalling-FSP,"❔ I thought I had been instructed to use List instead of IEnumerable...",2025-03-10T15:02:01Z,2025-03-10T15:02:01Z,fspafahrenholtz,"FSP-10981 Add attachment info to Squawk list and details"
FlightScheduleProAPI,2313,1987493505,review,fspafahrenholtz,"Do you remember what was said about why one over the other?",2025-03-10T15:08:34Z,2025-03-10T15:08:34Z,fspafahrenholtz,"FSP-10981 Add attachment info to Squawk list and details"
FlightScheduleProAPI,2313,1987554362,review,NickHotalling-FSP,"No, can't find the thread. Disregard...",2025-03-10T15:39:43Z,2025-03-10T15:39:43Z,fspafahrenholtz,"FSP-10981 Add attachment info to Squawk list and details"
FlightScheduleProAPI,2313,1987604907,review,fspafahrenholtz,"In general IEnumerable is better because it doesn't constrain the consumer and can allow for delayed execution by not having a `ToList` until you need it. But sometimes it doesn't matter. Using IEnumerable over List then is just a guideline, not necessarily a rule.",2025-03-10T16:07:12Z,2025-03-10T16:07:13Z,fspafahrenholtz,"FSP-10981 Add attachment info to Squawk list and details"
FlightScheduleProAPI,2312,1985601215,review,fspafahrenholtz,"Removed the unnecessary fields parameter as it wasn't being used by the one caller of this method. This then allowed refactoring out the switch and generic method.",2025-03-07T19:46:43Z,2025-03-07T19:46:43Z,fspafahrenholtz,"FSP-10980 Add attachment info to Maintenance Reminders and their Resolutions"
FlightScheduleProAPI,2307,1981576358,review,davidcooper-fsp,"With this interface getting bigger, probably worth it to separate it out to a separate file",2025-03-05T15:01:00Z,2025-03-05T15:05:11Z,chriscovert,"FSP-10743 Aircraft V3 Post tests"
FlightScheduleProAPI,2307,1981649725,review,chriscovert,"I added a commit moving this into it's own project with the interface split out into separate files. The plan is to eventually move CoreApiClient out of common and into this repo.",2025-03-05T15:29:53Z,2025-03-05T15:29:53Z,chriscovert,"FSP-10743 Aircraft V3 Post tests"
FlightScheduleProAPI,2305,1981374673,review,danwatkins-fsp,"This isn't for logging purposes, this is how Keycafe actually gets called if I'm not mistaken? ```suggestion                         await _externalWebhookService.QueueExternalWebhook(flightRecord.Company.Id, ```",2025-03-05T13:15:13Z,2025-03-05T13:15:54Z,davidcooper-fsp,"FSP-10821 Add Check In Webhook to Keycafe Integration"
FlightScheduleProAPI,2304,1980401456,review,davidcooper-fsp,"Use a parameter, `@0` is the UserGuid",2025-03-04T23:11:31Z,2025-03-04T23:14:11Z,neilbode-fsp,"FSP-10966 Get the logten sync status on behalf of the requesting user for reservation list"
FlightScheduleProAPI,2304,1980403859,review,davidcooper-fsp,"```suggestion             INNER JOIN [dbo].[tblUsers] AS TU ON TU.GUID = @0 ```",2025-03-04T23:13:53Z,2025-03-04T23:14:11Z,neilbode-fsp,"FSP-10966 Get the logten sync status on behalf of the requesting user for reservation list"
FlightScheduleProAPI,2304,1980423764,review,neilbode-fsp,"I tried looking for one but I'll admit I got lost in the sea a bit. Is there a trick / line number to finding these?  Thanks!",2025-03-04T23:32:47Z,2025-03-04T23:32:47Z,neilbode-fsp,"FSP-10966 Get the logten sync status on behalf of the requesting user for reservation list"
FlightScheduleProAPI,2298,1970605600,review,amatasek,"What does a `maintenanceType` of 1 represent, and why does this only apply to that type?",2025-02-25T22:02:25Z,2025-02-25T22:02:25Z,NickHotalling-FSP,"FSP-10768 Adds Scheduled Hours Affecting Maintenance to Time to Next Service report"
FlightScheduleProAPI,2298,1970611120,review,NickHotalling-FSP,"`maintenanceType` represents the various report types: hours/days/cycles remaining. We only care about the hours report for this feature.  ![image](https://github.com/user-attachments/assets/59e895db-7b78-4411-90fd-5c71988287d8) ",2025-02-25T22:08:04Z,2025-02-25T22:08:05Z,NickHotalling-FSP,"FSP-10768 Adds Scheduled Hours Affecting Maintenance to Time to Next Service report"
FlightScheduleProAPI,2298,1970735492,review,NickHotalling-FSP,"❔ Do we need to take into account the actual start date of the reservation so only future reservations are considered or are all reservations that have not been checked in to be included?",2025-02-26T00:43:01Z,2025-02-26T00:43:01Z,NickHotalling-FSP,"FSP-10768 Adds Scheduled Hours Affecting Maintenance to Time to Next Service report"
FlightScheduleProAPI,2298,1971875686,review,NickHotalling-FSP,"Per Ruth: _if we have a reservation from yesterday, go ahead and still count it. it's kind of an edge casey thing that won't happen much (if at all) in prod, and if it does happen, more than likely someone is going to go out and delete that flight which would then update the time to next service stuff._  NH - Deleted status is accounted for, so I believe this is in good shape to include all pending or dispatched reservations, regardless of their start/end dates.",2025-02-26T15:56:36Z,2025-02-26T15:56:36Z,NickHotalling-FSP,"FSP-10768 Adds Scheduled Hours Affecting Maintenance to Time to Next Service report"
FlightScheduleProAPI,2298,1971947092,review,NickHotalling-FSP,"Confirmed with Ruth that we only care about hours (type 1) for the new values.",2025-02-26T16:35:40Z,2025-02-26T16:35:40Z,NickHotalling-FSP,"FSP-10768 Adds Scheduled Hours Affecting Maintenance to Time to Next Service report"
FlightScheduleProAPI,2297,1970399036,review,neilbode-fsp,"Do we need both of these now? Can we consolidate?",2025-02-25T19:25:22Z,2025-02-25T19:25:30Z,bartgriffith,"map logTenSyncing booleans onto a single boolean"
FlightScheduleProAPI,2297,1970421255,review,neilbode-fsp,"Talked offline, okay with this change. Can always adjust later.",2025-02-25T19:36:52Z,2025-02-25T19:36:52Z,bartgriffith,"map logTenSyncing booleans onto a single boolean"
FlightScheduleProAPI,2294,1968369560,review,jlenox-fsp,"Do this before we send email/slack messages so it doesn't blow up the process after notifications",2025-02-24T20:25:15Z,2025-02-24T20:25:57Z,jlenox-fsp,"FSP-10886 Handle Term Subscriptions"
FlightScheduleProAPI,2294,1968510025,review,danwatkins-fsp,"💡Is there no way to know it's a term subscription without trying the update? Would be a little cleaner than relying on an error message string.",2025-02-24T22:32:35Z,2025-02-24T22:33:20Z,jlenox-fsp,"FSP-10886 Handle Term Subscriptions"
FlightScheduleProAPI,2292,1963898388,review,danwatkins-fsp,"This doesn't actually run any tests. If I make the test fail and run this command locally, it just says build succeeded regardless.  `dotnet test` isn't meant to run .NET Framework test projects. You'll have to use `vstest.console.exe` I think.  Additionally, once you get them running I would expect you to have to login to the ACR to pull CoreDatabase.",2025-02-20T16:16:01Z,2025-02-20T16:22:18Z,chriscovert,"FSP-10726 Integrations Test Project"
FlightScheduleProAPI,2292,1963903527,review,danwatkins-fsp,"💡What naming convention are you following with this? Normally I'd name it like this: ```suggestion     public async Task GetAircraftV1_ExpectNotFound() ```",2025-02-20T16:16:50Z,2025-02-20T16:22:18Z,chriscovert,"FSP-10726 Integrations Test Project"
FlightScheduleProAPI,2292,1963908817,review,danwatkins-fsp,"```suggestion 	<add key=""SlackWebhookUrl"" value=""""/> ```",2025-02-20T16:17:50Z,2025-02-20T16:22:19Z,chriscovert,"FSP-10726 Integrations Test Project"
FlightScheduleProAPI,2292,1963913715,review,danwatkins-fsp,"I think we should move CoreApiClient from CommonApi to this repo and use that moving forward. Can do it as a follow-up change.",2025-02-20T16:18:44Z,2025-02-20T16:22:19Z,chriscovert,"FSP-10726 Integrations Test Project"
FlightScheduleProAPI,2292,1963926890,review,danwatkins-fsp,"💡I haven't seen us set the memory on the Redis container yet. Probably best to leave it at the default unless you had a reason to do this. ```suggestion         var redisContainer = new RedisBuilder()             .WithWaitStrategy(                 Wait.ForUnixContainer().UntilMessageIsLogged(""Ready to accept connections""))             .Build(); ```",2025-02-20T16:21:47Z,2025-02-20T16:22:19Z,chriscovert,"FSP-10726 Integrations Test Project"
FlightScheduleProAPI,2292,1964113265,review,chriscovert,"Was trying to mimic given/when/then and specify that not found should only return if the aircraft doesn't exist. I guess the billing hub pattern usually has 'then' in the middle, and this should be GetAircraftV1_ExpectNotFound_AircraftDoesNotExist?",2025-02-20T18:08:31Z,2025-02-20T18:08:31Z,chriscovert,"FSP-10726 Integrations Test Project"
FlightScheduleProAPI,2292,1964132128,review,chriscovert,"I added a step to login to the ACR, but I don't have access to check if the secrets have been set in the github repo. ",2025-02-20T18:22:53Z,2025-02-20T18:22:53Z,chriscovert,"FSP-10726 Integrations Test Project"
FlightScheduleProAPI,2292,1964207556,review,danwatkins-fsp,"`_AircraftDoesNotExist` is mostly implied by `ExpectNotFound`, but that works. If these tests are going to be migrated to other APIs I was just trying to avoid a [927](https://xkcd.com/927).",2025-02-20T19:20:25Z,2025-02-20T19:20:25Z,chriscovert,"FSP-10726 Integrations Test Project"
FlightScheduleProAPI,2292,1964208491,review,danwatkins-fsp,"They are organization secrets and are accessible from this repo.",2025-02-20T19:21:14Z,2025-02-20T19:21:14Z,chriscovert,"FSP-10726 Integrations Test Project"
FlightScheduleProAPI,2292,1971840072,review,danwatkins-fsp,"This should be under the API section, not `NightlyProcessor and WebhookProcessor`.",2025-02-26T15:37:12Z,2025-02-26T15:39:59Z,chriscovert,"FSP-10726 Integrations Test Project"
FlightScheduleProAPI,2292,1971844658,review,danwatkins-fsp,"```suggestion ```",2025-02-26T15:39:53Z,2025-02-26T15:39:59Z,chriscovert,"FSP-10726 Integrations Test Project"
FlightScheduleProAPI,2288,1958704057,review,neilbode-fsp,"This is a revert",2025-02-17T19:23:51Z,2025-02-17T19:23:52Z,neilbode-fsp,"Fsp 10755 add sync status to my reservations page"
FlightScheduleProAPI,2285,1955238506,review,neilbode-fsp,"This is pretty much straight from Microsoft Mocking setup recommendations: https://learn.microsoft.com/en-us/ef/ef6/fundamentals/testing/mocking",2025-02-13T21:29:45Z,2025-02-13T21:29:46Z,neilbode-fsp,"Fsp 10755 add logten sync status to reservation list"
FlightScheduleProAPI,2285,1958380830,review,davidcooper-fsp,"Formatting",2025-02-17T15:00:29Z,2025-02-17T15:40:37Z,neilbode-fsp,"Fsp 10755 add logten sync status to reservation list"
FlightScheduleProAPI,2285,1958396681,review,davidcooper-fsp,"Can just return the results from the query above directly. I'd probably also recommend creating an object to store the results in and return as a list.",2025-02-17T15:10:48Z,2025-02-17T15:40:37Z,neilbode-fsp,"Fsp 10755 add logten sync status to reservation list"
FlightScheduleProAPI,2285,1958403564,review,davidcooper-fsp,"Is there an enum for this Status?",2025-02-17T15:15:40Z,2025-02-17T15:40:37Z,neilbode-fsp,"Fsp 10755 add logten sync status to reservation list"
FlightScheduleProAPI,2285,1958419678,review,davidcooper-fsp,"It looks like this userId is only filled out if its set on the filters on the request. Wouldn't we want to pull the userId from the reservation to search the sync status? (Also are we pulling the sync status for just customer 1 or what about Customer 2 or the instructor).  Also probably don't want to default to a Guid.Empty if userId is null, as that won't pull a global user, so we should do a null check and stop execution at that point.",2025-02-17T15:26:58Z,2025-02-17T15:40:37Z,neilbode-fsp,"Fsp 10755 add logten sync status to reservation list"
FlightScheduleProAPI,2285,1958431001,review,davidcooper-fsp,"I'm not sure that we need all the nullability checks, if those are all removed we won't need to default to a new list here on the foreach",2025-02-17T15:35:08Z,2025-02-17T15:40:37Z,neilbode-fsp,"Fsp 10755 add logten sync status to reservation list"
FlightScheduleProAPI,2285,1958441679,review,neilbode-fsp,"There is. It [lives in ProceduresAPI](https://github.com/Flight-Schedule-Pro/ProceduresApi/blob/master/ProceduresApi.Models/Enums/LogTenSyncStatus.cs) and I was a little worried about having 2 sources of truth. What would you recommend?",2025-02-17T15:42:52Z,2025-02-17T15:43:10Z,neilbode-fsp,"Fsp 10755 add logten sync status to reservation list"
FlightScheduleProAPI,2285,1958442905,review,neilbode-fsp,"Oh weird, I wonder why it did that? 😆 ",2025-02-17T15:43:47Z,2025-02-17T15:43:47Z,neilbode-fsp,"Fsp 10755 add logten sync status to reservation list"
FlightScheduleProAPI,2285,1958446793,review,neilbode-fsp,"Great questions.  We want to get the sync status for the requesting user. Since if their are multiple people on a reservation only one member may have synced with LogTen.  I'm with you on the empty check. Do we have a checked exception we throw in this case instead of a null pointer?",2025-02-17T15:46:49Z,2025-02-17T16:00:02Z,neilbode-fsp,"Fsp 10755 add logten sync status to reservation list"
FlightScheduleProAPI,2285,1958447564,review,neilbode-fsp,"Let me play with this a bit and see what's doable. Thanks for the comment.",2025-02-17T15:47:23Z,2025-02-17T15:47:23Z,neilbode-fsp,"Fsp 10755 add logten sync status to reservation list"
FlightScheduleProAPI,2285,1958451663,review,neilbode-fsp,"Let's huddle on this. I'm not sure I'm 100% on the same page. Let me know when you have some time.",2025-02-17T15:50:24Z,2025-02-17T15:50:24Z,neilbode-fsp,"Fsp 10755 add logten sync status to reservation list"
FlightScheduleProAPI,2285,1958466556,review,neilbode-fsp,"I am a little worried about impacting the existing flow. Since it doesn't seem to care if the userId is null on line 33. I don't know if throwing is the best here since this is reservations and as far as I understand it... a pretty important call. In my case, I basically want it to be like a non-result. Maybe let's chat about this too.",2025-02-17T16:00:16Z,2025-02-17T16:03:45Z,neilbode-fsp,"Fsp 10755 add logten sync status to reservation list"
FlightScheduleProAPI,2285,1958566548,review,neilbode-fsp,"Talked offline and came up with a better way together.",2025-02-17T17:09:56Z,2025-02-17T17:09:56Z,neilbode-fsp,"Fsp 10755 add logten sync status to reservation list"
FlightScheduleProAPI,2283,1952878302,review,fspafahrenholtz,"Most of this is reformatting from going from `using (var ....) {}` to `using var ...;`",2025-02-12T15:25:18Z,2025-02-12T15:25:18Z,fspafahrenholtz,"FSP-10552 BE: Update reminder and squawk list fetches to include reference number"
FlightScheduleProAPI,2283,1953002000,review,davidcooper-fsp,"This will either need a Task.Run to run the async code synchronously or be made async",2025-02-12T16:22:20Z,2025-02-12T16:29:42Z,fspafahrenholtz,"FSP-10552 BE: Update reminder and squawk list fetches to include reference number"
FlightScheduleProAPI,2283,1953521316,review,fspafahrenholtz,"This method is in a long string of synchronous code so I'll go with your suggestion of running it in a `Task.Run`",2025-02-12T22:57:25Z,2025-02-12T22:57:26Z,fspafahrenholtz,"FSP-10552 BE: Update reminder and squawk list fetches to include reference number"
FlightScheduleProAPI,2278,1952842835,review,davidcooper-fsp,"This call can be removed, as the underlying code is commented out",2025-02-12T15:06:42Z,2025-02-12T15:06:42Z,fspafahrenholtz,"FSP-10537 BE: Store optional reference number on squawk PUT"
FlightScheduleProAPI,2278,1953487153,review,fspafahrenholtz,"✔",2025-02-12T22:24:33Z,2025-02-12T22:24:34Z,fspafahrenholtz,"FSP-10537 BE: Store optional reference number on squawk PUT"
FlightScheduleProAPI,2276,1937931775,review,davidcooper-fsp,"```suggestion     public record IdName<TId> where TId : struct ``` Since this project is going to langversion 9.0 we could use records here",2025-01-31T20:08:21Z,2025-01-31T20:28:14Z,fspafahrenholtz,"FSP-10481 BE: Return last reference number on mx reminder fetch"
FlightScheduleProAPI,2276,1937944120,review,davidcooper-fsp,"```suggestion                                 case (int) MaintenanceReminderCycleType.Aircraft: ```",2025-01-31T20:22:55Z,2025-01-31T20:28:14Z,fspafahrenholtz,"FSP-10481 BE: Return last reference number on mx reminder fetch"
FlightScheduleProAPI,2276,1937944413,review,davidcooper-fsp,"```suggestion                                 case (int) MaintenanceReminderCycleType.Engine: ```",2025-01-31T20:23:15Z,2025-01-31T20:28:14Z,fspafahrenholtz,"FSP-10481 BE: Return last reference number on mx reminder fetch"
FlightScheduleProAPI,2276,1941874520,review,fspafahrenholtz,"✔️ ",2025-02-04T20:47:05Z,2025-02-04T20:47:05Z,fspafahrenholtz,"FSP-10481 BE: Return last reference number on mx reminder fetch"
FlightScheduleProAPI,2276,1941874829,review,fspafahrenholtz,"✔️ ",2025-02-04T20:47:20Z,2025-02-04T20:47:21Z,fspafahrenholtz,"FSP-10481 BE: Return last reference number on mx reminder fetch"
FlightScheduleProAPI,2276,1941874982,review,fspafahrenholtz,"✔️ ",2025-02-04T20:47:28Z,2025-02-04T20:47:28Z,fspafahrenholtz,"FSP-10481 BE: Return last reference number on mx reminder fetch"
FlightScheduleProAPI,2275,1936074425,review,fspafahrenholtz,"💡 Can combine these ```suggestion             if (context.Exception is TaskCanceledException or OperationCanceledException or SqlException &&                 cancellationToken.IsCancellationRequested)             {                 throw new HttpResponseException(context.Request.CreateResponse(ClientClosedConnection));             } ```",2025-01-30T18:08:19Z,2025-01-30T18:09:17Z,davidcooper-fsp,"Update to Exception Handling to remove masking SQL timeouts"
FlightScheduleProAPI,2273,1927105921,review,fspafahrenholtz,"It's still good to append a `;` at the end of SQL queries. [And it'll be required in a future version of SQL Server.](https://learn.microsoft.com/en-us/sql/t-sql/language-elements/transact-sql-syntax-conventions-transact-sql?view=sql-server-ver16&redirectedfrom=MSDN&tabs=code)",2025-01-23T14:49:06Z,2025-01-23T14:53:45Z,davidcooper-fsp,"FSP-10576 If there are no training sessions then ensure the sql is still valid"
FlightScheduleProAPI,2272,1925510276,review,chriscovert,"Were the StarterSuiteApril2023 subscriptions a temporary thing, or do we have to continue to handle these going forward?",2025-01-22T15:21:14Z,2025-01-22T15:21:14Z,chriscovert,"FSP-6198 Add starter bundles to subscription details fetch"
FlightScheduleProAPI,2272,1925513228,review,chriscovert,"Added an extra condition here so we didn't overwrite billing sub they may have been set on line 911",2025-01-22T15:23:01Z,2025-01-22T15:23:02Z,chriscovert,"FSP-6198 Add starter bundles to subscription details fetch"
FlightScheduleProAPI,2272,1925604069,review,jlenox-fsp,"*April2023 are the latest Chargify products and what they are migrating all existing subscriptions to currently as they come up for renewal, if the operator agrees",2025-01-22T16:18:39Z,2025-01-22T16:26:39Z,chriscovert,"FSP-6198 Add starter bundles to subscription details fetch"
FlightScheduleProAPI,2271,1920335062,review,chriscovert,"Seems like we'd be safe by simply allowing any authenticated user to view a read-only list of equipment here",2025-01-17T15:11:23Z,2025-01-17T15:11:24Z,chriscovert,"FSP-9256 Fetch equipment list permissions"
FlightScheduleProAPI,2270,1918748020,review,davidcooper-fsp,"Is this information different than what is already on the reservation information under the pilots section? ",2025-01-16T15:20:31Z,2025-01-16T15:20:31Z,seanpittman-fsp,"FSP-10094: Add student name to training session mobile fetch"
FlightScheduleProAPI,2270,1918866313,review,seanpittman-fsp,"It's not, but with how the nature of the iOS app is handling the data, it's far less complicated for Ivo to have the names present within the training session",2025-01-16T16:36:28Z,2025-01-16T16:36:29Z,seanpittman-fsp,"FSP-10094: Add student name to training session mobile fetch"
FlightScheduleProAPI,2264,1909473358,review,fspafahrenholtz,"💡 ❓ You've got a dbContext, could you use EF to get the user guids?",2025-01-09T21:51:56Z,2025-01-09T21:52:38Z,timsquires,"FSP-10174 add labels to people readstore"
FlightScheduleProAPI,2264,1911113962,review,timsquires,"Looks like the entities don't exist in core, worth adding them for this? ",2025-01-10T19:38:00Z,2025-01-10T19:38:01Z,timsquires,"FSP-10174 add labels to people readstore"
FlightScheduleProAPI,2264,1911541834,review,fspafahrenholtz,"I think so since they are simple. Anything to get away from inline SQL.",2025-01-10T22:15:42Z,2025-01-10T22:15:42Z,timsquires,"FSP-10174 add labels to people readstore"
FlightScheduleProAPI,2264,1913444985,review,fspafahrenholtz,"💡 You can use the `Label` property on the `LabelToUserJoiner` ```suggestion             return await dbContext.LabelToUserJoiners.Where(joiner => joiner.Label.LabelCategoryId == labelCategoryId && joiner.OperatorId == operatorId)                                                                                 .Select(i => i.UserGuid)                                                                                 .Distinct()                                                                                 .ToListAsync(); ```",2025-01-13T16:11:09Z,2025-01-13T16:16:39Z,timsquires,"FSP-10174 add labels to people readstore"
FlightScheduleProAPI,2264,1913453419,review,fspafahrenholtz,"💡 Use the joiner table directly since it has all the info you need. ```suggestion             return await dbContext.LabelToUserJoiners.Where(joiner => joiner.LabelId == labelId && joiner.OperatorId == operatorId)                                                                                  .Select(i => i.UserGuid)                                                                                  .Distinct()                                                                                  .ToListAsync(); ```",2025-01-13T16:16:28Z,2025-01-13T16:16:39Z,timsquires,"FSP-10174 add labels to people readstore"
FlightScheduleProAPI,2258,1902057232,review,neilbode-fsp,"💡 It'd be nice to mark `Student` as nullable in definition (as well as the others) to help catch these things more easily in the future.",2025-01-03T18:30:30Z,2025-01-03T18:30:40Z,seanpittman-fsp,"FSP-10094: Fix studentId null reference"
FlightScheduleProAPI,2258,1902067041,review,seanpittman-fsp,"Yeah it would, we have nullable reference types disabled in this project since it's running .net framework 4.8. It is on c# 12 which should support it, I'm not sure if there's another reason why we've decided to keep that disabled though.",2025-01-03T18:44:35Z,2025-01-03T18:44:35Z,seanpittman-fsp,"FSP-10094: Fix studentId null reference"
FlightScheduleProAPI,2258,1902087030,review,danwatkins-fsp,"It would probably create at least 20,000 warnings if turned on at the project level, so it would have to be done piece meal. Probably better to just do it as part of migrating endpoints which is what we did with BillingHubApi's migrations.",2025-01-03T19:12:42Z,2025-01-03T19:12:42Z,seanpittman-fsp,"FSP-10094: Fix studentId null reference"
CommonApi,542,2834622696,review_summary,danwatkins-fsp,"Your title should remove the FSP-11486 since this isn't a release artifact concern. Probably reword to ""Mark AuditHistoryResourceType obsolete and add missing values"".",2025-05-12T21:22:25Z,2025-05-12T21:22:25Z,NickHotalling-FSP,"Mark AuditHistoryResourceType obsolete and add missing values"
CommonApi,541,2060307127,review,fspafahrenholtz,"💡 Could just make this in a `Select` and not have to pull down all the data for `LocationToPersonJoiners`, `User`, and `Roles`. It'd be good to see what query EF makes though, just in case it's too crazy.",2025-04-25T14:02:32Z,2025-04-25T14:10:03Z,danwatkins-fsp,"FSP-11334 Add roles and user ID to person fetch response"
CommonApi,541,2060309623,review,fspafahrenholtz,"💡 `Id` would be a more descriptive name but FE would need to be changed.",2025-04-25T14:04:10Z,2025-04-25T14:10:03Z,danwatkins-fsp,"FSP-11334 Add roles and user ID to person fetch response"
CommonApi,541,2060385073,review,danwatkins-fsp,"I was preserving the contract from CoreApi. Since it will require the FE to update the route when they point at this in the future, it is an opportunity to make small breaks. The problem is it will require them to have potentially large diffs just switching to the new endpoint. Maybe as long as we don't change the strucutre of the reponse that's easy enough?",2025-04-25T14:45:35Z,2025-04-25T14:45:35Z,danwatkins-fsp,"FSP-11334 Add roles and user ID to person fetch response"
CommonApi,541,2060407178,review,danwatkins-fsp,"I tried this on `people-fetch-role-user-optimize`.   41adebc44627b557c33fa8047faf3bf33a177ebe does it with an anonymous object that has extra projection code. The query is identical with a few less columns being selected.  874e43cd879551e7cdb83fce15312425d0212c06 projects directly to the model. The query execution plan does a few extra things, but still performs the same at ~140ms in production.  As this endpoint gets further built out to replace the CoreApi one, more of the columns will be used. As soon as the object cannot be fully constructed in the query, we may have to use an anonymous object which means more boilerplate?",2025-04-25T14:57:58Z,2025-04-25T14:57:59Z,danwatkins-fsp,"FSP-11334 Add roles and user ID to person fetch response"
CommonApi,541,2060438229,review,fspafahrenholtz,"I recommend not pulling the entire EF object as it pulls unnecessary data and will grow as the EF object and/or the table columns grow; a future, maybe unrelated and unintended, change in any of the `Include`d EF objects will increase the query size. In terms of anonymous object or not, I'd go with the one that you think is the most readable. Also, `Include` isn't needed when doing a `Select` for the data you need.",2025-04-25T15:14:58Z,2025-04-25T15:14:58Z,danwatkins-fsp,"FSP-11334 Add roles and user ID to person fetch response"
CommonApi,541,2060444267,review,fspafahrenholtz,"👍 They may be okay with that large diff as it may make it easier to understand on their side but I'd definitely consult with them before changing from `Value` to `Id`, hence the optional nature of the comment. It's an opportunity for more clarity so I think it would be worth it.",2025-04-25T15:19:03Z,2025-04-25T15:19:03Z,danwatkins-fsp,"FSP-11334 Add roles and user ID to person fetch response"
CommonApi,541,2060556420,review,danwatkins-fsp,"I would go the non-anonymous route so we don't pollute the code with double the code then. One issue I noticed is `DefaultLocationId` needs to be null if there is no location. An EF expression does not like doing this:  ``` // ERROR: An expression tree lambda cannot contain conditional access expressions DefaultLocationId =     x.LocationToPersonJoiners.FirstOrDefault(l => l.IsDefault == true)      ?.LocationId, ```  So you have to do this which complicates the query (C# and generated SQL):  ``` DefaultLocationId =    x.LocationToPersonJoiners.Any(l => l.IsDefault == true)     ? x.LocationToPersonJoiners.Where(l => l.IsDefault == true)        .Select(l => l.LocationId)        .FirstOrDefault()     : null, ```  So in this case it seems like a micro-optimization trying to not select some extra columns. As the model grows, most of those new columns will be needed in the response. If not, it's probably not going to be a huge deal sending a few more bytes around?",2025-04-25T16:35:57Z,2025-04-25T16:35:57Z,danwatkins-fsp,"FSP-11334 Add roles and user ID to person fetch response"
CommonApi,541,2060756958,review,fspafahrenholtz,"Could try `x.LocationToPersonJoiners.Where(i => i.IsDefault == true).Select(i => (long?)i.LocationId).FirstOrDefault()`.   My experience is tainted by a previous project I was on years ago that had problems with pulling everything which lead to slowdowns and we had to retroactively go through and change the queries to `Select`s. This is only one user so it's not a big deal; just triggers that memory and lesson learned.  There is a note in the [EF Core docs](https://learn.microsoft.com/en-us/ef/core/querying/related-data/eager) about eager loading collections and the performance impact on that with single queries versus split queries. But again, one user, not much impact there.",2025-04-25T19:06:02Z,2025-04-25T19:06:02Z,danwatkins-fsp,"FSP-11334 Add roles and user ID to person fetch response"
CommonApi,539,2025451344,review,danwatkins-fsp,"Why do you need to change this if it worked on the previous PR feature-1 push test? I just tested this PR with a feature-1 push and it's [failing](https://github.com/Flight-Schedule-Pro/CommonApi/actions/runs/14227724370/job/39871146578) now.",2025-04-02T19:19:54Z,2025-04-02T19:22:00Z,fspafahrenholtz,"Fix package deployment action"
CommonApi,539,2025489597,review,fspafahrenholtz,"I'm wondering how it even worked the first time I ran it in feature-1; it shouldn't have worked.",2025-04-02T19:50:54Z,2025-04-02T19:50:54Z,fspafahrenholtz,"Fix package deployment action"
CommonApi,539,2025492456,review,danwatkins-fsp,"You could go back to `<Version>` only and do it [like FSP-Packages](https://github.com/Flight-Schedule-Pro/FSP-Packages/blob/develop/.github/workflows/pack-push-preview.yml#L32) which replaces the version string in the file.",2025-04-02T19:53:16Z,2025-04-02T19:53:16Z,fspafahrenholtz,"Fix package deployment action"
CommonApi,539,2025496164,review,fspafahrenholtz,"I'd rather not change a file's contents as part of the build. This works now that I'm looking for the naming scheme that `--version-suffix` generates: `{version-prefix}-{version-suffix}`.",2025-04-02T19:56:16Z,2025-04-02T19:56:17Z,fspafahrenholtz,"Fix package deployment action"
CommonApi,538,2023200778,review,fspafahrenholtz,"In order to use the `--version-suffix` option of `dotnet pack` we need to use `VersionPrefix` over `Version`. [When no `VersionSuffix` is provided the build version defaults to `VersionPrefix`.](https://learn.microsoft.com/en-us/dotnet/core/tools/dotnet-pack#options)",2025-04-01T16:32:46Z,2025-04-01T16:33:11Z,fspafahrenholtz,"Add feature branch deployment of api client package"
CommonApi,538,2023749057,review,danwatkins-fsp,"💡While I like the idea of always pushing a new package, I could see this piling up a bunch of package versions taking up space if every PR has [at least one feature-1 push](https://github.com/Flight-Schedule-Pro/Standards/blob/ee1f58dbc1b71f32cdc3344b0aae4e562ac418e8/Back-End/release-process.md?plain=1#L83). In FSP-Packages the [pack-push-preview](https://github.com/Flight-Schedule-Pro/FSP-Packages/blob/06cf0d468068825e8ca044a834c6bf447681a870/.github/workflows/pack-push-preview.yml) action lets someone push a preview package manually when they actually need it.  CommonApi is probably the most likely API where a PR will need a preview package, but it still might only be 25% of the time just looking at number of commits on `master` with non-release tags. Other APIs have less need for package pushes so it would be even more wasteful. I think we'd want all APIs to standardize this process.",2025-04-01T22:17:45Z,2025-04-01T22:25:21Z,fspafahrenholtz,"Add feature branch deployment of api client package"
CommonApi,538,2023749765,review,danwatkins-fsp,"Can you push a `feature-1` test to see if this action works as expected? I'm not seeing any runs or preview versions.",2025-04-01T22:18:39Z,2025-04-01T22:25:21Z,fspafahrenholtz,"Add feature branch deployment of api client package"
CommonApi,538,2023754923,review,danwatkins-fsp,"💡Might be ideal to have this if we are doing a debug build. [FSP-Packages uses release for preview packages while still adding symbols](https://github.com/Flight-Schedule-Pro/FSP-Packages/blob/06cf0d468068825e8ca044a834c6bf447681a870/.github/workflows/pack-push-preview.yml#L69), I don't remember if that works correctly or not.  ```suggestion         run: dotnet pack -c Debug --no-restore --version-suffix 'preview-${{ github.run_number }}' -p:IncludeSymbols=true -p:SymbolPackageFormat=snupkg -p:DebugType=embedded -p:EmbedAllSources=true ```  All our APIs build as release to feature slots, so building as release might be preferred so the package behaves as close to prod as possible. A local debug package can always be built to debug issues if they aren't obvious.  ```suggestion         run: dotnet pack -c Release ```",2025-04-01T22:25:13Z,2025-04-01T22:25:21Z,fspafahrenholtz,"Add feature branch deployment of api client package"
CommonApi,538,2025138057,review,fspafahrenholtz,"I was worried about the storage aspect too and ran it by Caleb and Jim. Right now our monthly spend for our packages is $0.03 with $0.02 of that being egress; the cost of the storage of those packages is very, very little. It's small enough that I'm not worried about it especially since each .nupkg is ~34KB.",2025-04-02T15:53:00Z,2025-04-02T15:53:01Z,fspafahrenholtz,"Add feature branch deployment of api client package"
CommonApi,538,2025165429,review,fspafahrenholtz,"Oops, I thought it was the `-c Debug` that marked the package as prerelease but it looks like it's [the presence of any string in the version](https://learn.microsoft.com/en-us/nuget/concepts/package-versioning?tabs=semver20sort#pre-release-versions) that Nuget uses to mark it as prerelease. I'll change that to `-c Release`.  I had removed the embedded symbols because there isn't much code to step through other than the HttpClient stuff. As opposed to FSP-Packages which has much more code that we would want to step through. That being said, I'll add it back in as I could see there being a need to see what exactly the response was that HttpClient is dealing with.",2025-04-02T16:07:14Z,2025-04-02T16:07:14Z,fspafahrenholtz,"Add feature branch deployment of api client package"
CommonApi,538,2025186006,review,fspafahrenholtz,"✔️  ![image](https://github.com/user-attachments/assets/8581359f-e94c-442b-b1ae-c32ecb54cd81) ",2025-04-02T16:20:33Z,2025-04-02T16:20:33Z,fspafahrenholtz,"Add feature branch deployment of api client package"
CommonApi,538,2025186704,review,fspafahrenholtz,"✔️ ",2025-04-02T16:21:05Z,2025-04-02T16:21:05Z,fspafahrenholtz,"Add feature branch deployment of api client package"
CommonApi,538,2025282485,review,danwatkins-fsp,"Both are legal with SemVer, but dot instead of hypen seems more standard ([example](https://www.nuget.org/packages/Microsoft.EntityFrameworkCore/10.0.0-preview.2.25163.8)) ```suggestion           dotnet nuget push ../**/*${{ steps.get-version.outputs.version }}.${{ github.run_number }}.nupkg --source ""github"" ```",2025-04-02T17:27:47Z,2025-04-02T17:27:51Z,fspafahrenholtz,"Add feature branch deployment of api client package"
CommonApi,537,2017493121,review,timsquires,"This block was repeated by the specific test for this feature below in the `Get_CategoryClass_ITDFlagOn_ReturnsITD` test so I deleted it from this test, it just confused the diff a bit",2025-03-27T19:33:37Z,2025-03-27T19:33:37Z,timsquires,"FSP-11151 Support UTD sim class"
CommonApi,537,2017494353,review,timsquires,"More diff confusion, I added this new `Get_CategoryClass_UTDFlagOn_ReturnsUTD` test, the `Get_CategoryClass_ITDFlagOn_ReturnsITD` test was unchanged",2025-03-27T19:34:39Z,2025-03-27T19:34:40Z,timsquires,"FSP-11151 Support UTD sim class"
CommonApi,537,2019379074,review,danwatkins-fsp,"Is there code that would break if we shipped this suddenly without it behind a feature flag? Seems like BillingHubApi wouldn't care if this existed in a response. Not sure about the frontend.",2025-03-28T21:05:33Z,2025-03-28T21:05:41Z,timsquires,"FSP-11151 Support UTD sim class"
CommonApi,537,2021713343,review,timsquires,"In my testing in feature 1, Packages and Auto Billing have issues if they attempt to process an item with the new UTD sim class. I was following the pattern from when we added the ITD devices last year even though it does not appear we have yet to turn that feature flag on anywhere (other than me turning it on in develop last week).  Planning on addressing this with [this PR](https://github.com/Flight-Schedule-Pro/BillingHubApi/pull/973)",2025-03-31T20:20:46Z,2025-03-31T20:21:12Z,timsquires,"FSP-11151 Support UTD sim class"
CommonApi,537,2021725124,review,danwatkins-fsp,"Oh sounds like the frontend shows all the category class options as returned by CommonApi when making a package? I could see that being a problem before BillingHubApi is udpated. I thought the FE would maintain its own enum and only display what it was coded for.",2025-03-31T20:30:21Z,2025-03-31T20:30:22Z,timsquires,"FSP-11151 Support UTD sim class"
CommonApi,537,2021747544,review,timsquires,"Yeah, it was changed fairly recently to just show everything returned by CommonApi, now wondering if we should rethink that. I think we'd still call CommonApi to get the list but also maintain an enum on the FE like we were before, I'll give it some more thought.",2025-03-31T20:50:16Z,2025-03-31T20:50:16Z,timsquires,"FSP-11151 Support UTD sim class"
CommonApi,536,2014427452,review,NickHotalling-FSP,":bulb: Is this extra db call necessary or could we just check the count after we pull `auditEvents` below (which is also using `Skip`)?",2025-03-26T15:24:35Z,2025-03-26T15:38:44Z,fspafahrenholtz,"FSP-10774 Add endpoint for returning Audit History Events for a resource"
CommonApi,536,2014448895,review,NickHotalling-FSP,"Just noting here that CommonApi now only has a single feature slot",2025-03-26T15:34:03Z,2025-03-26T15:38:44Z,fspafahrenholtz,"FSP-10774 Add endpoint for returning Audit History Events for a resource"
CommonApi,536,2014456197,review,NickHotalling-FSP,"💡 Not sure if we ever use the Warning error level, but that seems more appropriate than Error since we haven't actually encountered an error in the code.",2025-03-26T15:37:55Z,2025-03-26T15:38:44Z,fspafahrenholtz,"FSP-10774 Add endpoint for returning Audit History Events for a resource"
CommonApi,533,2006243512,review,amatasek,"Everything in this PR, aside from the top section of [This File](https://github.com/Flight-Schedule-Pro/CommonApi/pull/533/files#diff-5fcce93321dcbb943edcd06a9962182386ef96f83f5598caf92523aa21b12b1c) was directly copied from the previous repo.",2025-03-20T18:41:34Z,2025-03-20T18:41:34Z,amatasek,"[FSP-10837] Migrated DocumentUploadBackup function to CommonApi"
CommonApi,533,2006244686,review,amatasek,"This name and connection string was inferred from the other functions in this repo.",2025-03-20T18:42:16Z,2025-03-20T18:42:16Z,amatasek,"[FSP-10837] Migrated DocumentUploadBackup function to CommonApi"
CommonApi,533,2006246513,review,amatasek,"The following code was copied with minimal changes aside from a few dotnet version syntax improvements",2025-03-20T18:43:11Z,2025-03-20T18:43:11Z,amatasek,"[FSP-10837] Migrated DocumentUploadBackup function to CommonApi"
